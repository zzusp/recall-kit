CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
CREATE EXTENSION IF NOT EXISTS "vector";

-- ----------------------------
-- Table structure for api_keys
-- ----------------------------
DROP TABLE IF EXISTS "public"."api_keys";
-- API密钥表：存储用户的API访问密钥信息
CREATE TABLE "public"."api_keys" (
  "id" "pg_catalog"."uuid" NOT NULL DEFAULT gen_random_uuid(),
  "user_id" "pg_catalog"."uuid" NOT NULL,
  "name" varchar(100) COLLATE "pg_catalog"."default" NOT NULL,
  "api_key" varchar(255) COLLATE "pg_catalog"."default" NOT NULL,
  "is_active" bool DEFAULT true,
  "last_used_at" timestamptz(6),
  "created_at" timestamptz(6) NOT NULL DEFAULT now(),
  "updated_at" timestamptz(6) NOT NULL DEFAULT now()
)
;

-- ----------------------------
-- Table structure for experience_keywords
-- ----------------------------
DROP TABLE IF EXISTS "public"."experience_keywords";
-- 经验关键字关联表：存储经验记录与关键字的关联关系
CREATE TABLE "public"."experience_keywords" (
  "id" "pg_catalog"."uuid" NOT NULL DEFAULT public.uuid_generate_v4(),
  "experience_id" "pg_catalog"."uuid",
  "keyword" varchar(100) COLLATE "pg_catalog"."default" NOT NULL,
  "created_at" timestamptz(6) NOT NULL DEFAULT now()
)
;

-- ----------------------------
-- Records of experience_keywords
-- ----------------------------
INSERT INTO "public"."experience_keywords" VALUES ('66bfddba-83de-4129-a192-6cface519de8', '3ca407ea-86f4-4c05-b99e-540f521cde64', 'nextjs', '2025-11-18 10:27:01.63904+00');
INSERT INTO "public"."experience_keywords" VALUES ('1af7051a-df74-42fb-a7cd-472c09ead68a', '3ca407ea-86f4-4c05-b99e-540f521cde64', 'cors', '2025-11-18 10:27:01.63904+00');
INSERT INTO "public"."experience_keywords" VALUES ('c85e0b64-555e-4026-9e07-d50ad88d4a5b', '3ca407ea-86f4-4c05-b99e-540f521cde64', 'api', '2025-11-18 10:27:01.63904+00');
INSERT INTO "public"."experience_keywords" VALUES ('19f1cd99-ad59-4625-b1a8-9c25695eefd2', '3ca407ea-86f4-4c05-b99e-540f521cde64', 'headers', '2025-11-18 10:27:01.63904+00');
INSERT INTO "public"."experience_keywords" VALUES ('27ac2034-29ed-432a-b43d-8f6c3fc95bc9', '3ca407ea-86f4-4c05-b99e-540f521cde64', 'middleware', '2025-11-18 10:27:01.63904+00');
INSERT INTO "public"."experience_keywords" VALUES ('293bbcef-e990-4753-92d7-075625a4f691', 'cf3d9a04-6bbd-4cf5-af70-236dc435244e', 'typescript', '2025-11-18 10:27:01.655338+00');
INSERT INTO "public"."experience_keywords" VALUES ('071d2478-ce04-41f6-99c4-cd9d401ece67', 'cf3d9a04-6bbd-4cf5-af70-236dc435244e', 'type-narrowing', '2025-11-18 10:27:01.655338+00');
INSERT INTO "public"."experience_keywords" VALUES ('45d50e91-3f9e-4219-b1a0-ba8a5938139a', 'cf3d9a04-6bbd-4cf5-af70-236dc435244e', 'type-guards', '2025-11-18 10:27:01.655338+00');
INSERT INTO "public"."experience_keywords" VALUES ('a060c8ba-cd2d-423f-b935-5c87b39b1ef5', 'cf3d9a04-6bbd-4cf5-af70-236dc435244e', 'type-predicates', '2025-11-18 10:27:01.655338+00');
INSERT INTO "public"."experience_keywords" VALUES ('3f8ad4ca-9f6f-4da8-8773-709c3934fe79', 'c841d916-c6c8-4a95-bd89-7d9c47983471', 'PostgreSQL', '2025-11-19 12:14:09.99566+00');
INSERT INTO "public"."experience_keywords" VALUES ('9445144f-1b1f-4c96-8bae-51cb26049558', 'c841d916-c6c8-4a95-bd89-7d9c47983471', 'RLS', '2025-11-19 12:14:09.99566+00');
INSERT INTO "public"."experience_keywords" VALUES ('24cea371-7fcc-4a42-b663-ddafaa0f3953', 'c841d916-c6c8-4a95-bd89-7d9c47983471', 'Row Level Security', '2025-11-19 12:14:09.99566+00');
INSERT INTO "public"."experience_keywords" VALUES ('d295fbfd-30e0-4624-9c21-1cabc276a63f', 'c841d916-c6c8-4a95-bd89-7d9c47983471', 'database migration', '2025-11-19 12:14:09.99566+00');
INSERT INTO "public"."experience_keywords" VALUES ('fe34ffd3-d094-4477-bf32-0d7471e3ef36', 'c841d916-c6c8-4a95-bd89-7d9c47983471', 'TypeScript', '2025-11-19 12:14:09.99566+00');
INSERT INTO "public"."experience_keywords" VALUES ('cf52629f-030a-4e13-9f4a-6485b5e67d6e', 'c841d916-c6c8-4a95-bd89-7d9c47983471', 'permissions', '2025-11-19 12:14:09.99566+00');
INSERT INTO "public"."experience_keywords" VALUES ('a2093162-6985-4283-942a-9f101d8f02e1', 'c841d916-c6c8-4a95-bd89-7d9c47983471', 'access control', '2025-11-19 12:14:09.99566+00');
INSERT INTO "public"."experience_keywords" VALUES ('e789d652-4b07-44e9-9300-59c7232ed51f', 'f8c5bab3-8cc1-4f85-b683-1c805e34ab02', 'logging', '2025-11-19 12:15:46.087976+00');
INSERT INTO "public"."experience_keywords" VALUES ('386f30ed-9c0d-42db-a6d7-068457c9c0c5', 'f8c5bab3-8cc1-4f85-b683-1c805e34ab02', 'testing', '2025-11-19 12:15:46.087976+00');
INSERT INTO "public"."experience_keywords" VALUES ('84704459-c4c3-4da1-bb31-aa896c0f41c7', 'f8c5bab3-8cc1-4f85-b683-1c805e34ab02', 'submission', '2025-11-19 12:15:46.087976+00');
INSERT INTO "public"."experience_keywords" VALUES ('b24007b9-dc77-4599-aff5-d716ac050bb4', 'f8c5bab3-8cc1-4f85-b683-1c805e34ab02', 'database', '2025-11-19 12:15:46.087976+00');
INSERT INTO "public"."experience_keywords" VALUES ('8296c317-560a-4412-be75-5730227f754a', '55e56934-d6e1-4d27-83a3-8b569f79be80', 'Next.js', '2025-11-19 12:29:48.84715+00');
INSERT INTO "public"."experience_keywords" VALUES ('418a1a5c-a684-4308-b934-fd5314195268', '55e56934-d6e1-4d27-83a3-8b569f79be80', 'React', '2025-11-19 12:29:48.84715+00');
INSERT INTO "public"."experience_keywords" VALUES ('37510a3b-afd5-4a48-a038-ff72a323f404', '55e56934-d6e1-4d27-83a3-8b569f79be80', 'hydration', '2025-11-19 12:29:48.84715+00');
INSERT INTO "public"."experience_keywords" VALUES ('f48bbc88-91c7-4287-8de1-dd3ff07f9a9b', '55e56934-d6e1-4d27-83a3-8b569f79be80', 'SSR', '2025-11-19 12:29:48.84715+00');
INSERT INTO "public"."experience_keywords" VALUES ('a3c7061c-5bfb-4820-b5d4-0ab3f489f276', '55e56934-d6e1-4d27-83a3-8b569f79be80', 'App Router', '2025-11-19 12:29:48.84715+00');
INSERT INTO "public"."experience_keywords" VALUES ('6df90876-2beb-4618-a6e6-fcb35ed78982', '55e56934-d6e1-4d27-83a3-8b569f79be80', 'TypeScript', '2025-11-19 12:29:48.84715+00');
INSERT INTO "public"."experience_keywords" VALUES ('56f2e30f-4fb5-4a38-9acc-963c775e6010', '09aa93ca-aa69-4cce-90aa-e10f50e2a9f5', 'PostgreSQL', '2025-11-19 12:40:28.48146+00');
INSERT INTO "public"."experience_keywords" VALUES ('48706052-0747-47e3-850c-1ef41ca50676', '09aa93ca-aa69-4cce-90aa-e10f50e2a9f5', '数据库权�?, '2025-11-19 12:40:28.48146+00');
INSERT INTO "public"."experience_keywords" VALUES ('bb07c60e-23aa-478b-8318-7a8c86a8cdb9', '09aa93ca-aa69-4cce-90aa-e10f50e2a9f5', 'INSERT操作', '2025-11-19 12:40:28.48146+00');
INSERT INTO "public"."experience_keywords" VALUES ('a398b521-8522-4ff5-b6d1-b3e724592df9', '09aa93ca-aa69-4cce-90aa-e10f50e2a9f5', '权限策略', '2025-11-19 12:40:28.48146+00');
INSERT INTO "public"."experience_keywords" VALUES ('4ccb076d-5bd4-49ab-abce-74d2842ad224', '09aa93ca-aa69-4cce-90aa-e10f50e2a9f5', '权限配置', '2025-11-19 12:40:28.48146+00');
INSERT INTO "public"."experience_keywords" VALUES ('0361bbce-6929-4da8-9d09-20140c051f6e', '69bf5dba-1ca8-4f93-9522-e81f46b67bad', 'PostgreSQL', '2025-11-19 12:50:09.22619+00');
INSERT INTO "public"."experience_keywords" VALUES ('d374a82b-18e6-49b1-a16c-7942f71e4a77', '69bf5dba-1ca8-4f93-9522-e81f46b67bad', 'RLS', '2025-11-19 12:50:09.22619+00');
INSERT INTO "public"."experience_keywords" VALUES ('58896adf-3dac-45c3-acfa-db3acd2c7ad0', '79406719-a857-42d6-98e0-5b9ff04f9570', 'PostgreSQL', '2025-11-19 12:50:09.238875+00');
INSERT INTO "public"."experience_keywords" VALUES ('ea2196f1-23de-4c04-af58-c846f401a398', '69bf5dba-1ca8-4f93-9522-e81f46b67bad', 'Row Level Security', '2025-11-19 12:50:09.22619+00');
INSERT INTO "public"."experience_keywords" VALUES ('f97a983e-d6ac-4bc2-ad05-4c4b8ecca787', '69bf5dba-1ca8-4f93-9522-e81f46b67bad', 'database migration', '2025-11-19 12:50:09.22619+00');
INSERT INTO "public"."experience_keywords" VALUES ('31296c31-4763-42ed-b0d7-19560acb15bb', '79406719-a857-42d6-98e0-5b9ff04f9570', 'RLS', '2025-11-19 12:50:09.238875+00');
INSERT INTO "public"."experience_keywords" VALUES ('d956e800-9989-4fa9-83ea-5afc1dfee419', '69bf5dba-1ca8-4f93-9522-e81f46b67bad', 'TypeScript', '2025-11-19 12:50:09.22619+00');
INSERT INTO "public"."experience_keywords" VALUES ('7c1f5025-22fc-4351-b1ad-e40599e37081', '79406719-a857-42d6-98e0-5b9ff04f9570', 'database migration', '2025-11-19 12:50:09.238875+00');
INSERT INTO "public"."experience_keywords" VALUES ('b61e4a23-3f02-4111-ba70-59a03d423f73', '69bf5dba-1ca8-4f93-9522-e81f46b67bad', 'permissions', '2025-11-19 12:50:09.22619+00');
INSERT INTO "public"."experience_keywords" VALUES ('890ddd58-9bc5-4471-b06e-f079972821f0', '79406719-a857-42d6-98e0-5b9ff04f9570', 'TypeScript', '2025-11-19 12:50:09.238875+00');
INSERT INTO "public"."experience_keywords" VALUES ('27c1c2e5-2841-465d-b922-d159c9f83003', '69bf5dba-1ca8-4f93-9522-e81f46b67bad', 'access control', '2025-11-19 12:50:09.22619+00');
INSERT INTO "public"."experience_keywords" VALUES ('c8dd1e15-f524-4df2-a683-8975b342a7aa', '79406719-a857-42d6-98e0-5b9ff04f9570', 'permissions', '2025-11-19 12:50:09.238875+00');
INSERT INTO "public"."experience_keywords" VALUES ('4791747a-fa67-441c-b5fc-9998a8cc3b7b', '79406719-a857-42d6-98e0-5b9ff04f9570', 'access control', '2025-11-19 12:50:09.238875+00');
INSERT INTO "public"."experience_keywords" VALUES ('0da0f3fb-a577-45cc-ad8a-0bfb8f84f735', '4a551756-4369-45c5-8298-3a5de9549567', 'PostgreSQL', '2025-11-19 14:02:21.787115+00');
INSERT INTO "public"."experience_keywords" VALUES ('2a2f5e21-9539-4edd-bf21-e00c055b8a48', '4a551756-4369-45c5-8298-3a5de9549567', 'RLS', '2025-11-19 14:02:21.787115+00');
INSERT INTO "public"."experience_keywords" VALUES ('366860ed-2174-475f-8bb9-3196344abb96', '4a551756-4369-45c5-8298-3a5de9549567', 'Row Level Security', '2025-11-19 14:02:21.787115+00');
INSERT INTO "public"."experience_keywords" VALUES ('dc1e728a-be6b-4d0d-be22-b12557bc2474', '4a551756-4369-45c5-8298-3a5de9549567', 'database migration', '2025-11-19 14:02:21.787115+00');
INSERT INTO "public"."experience_keywords" VALUES ('f6f17f89-62ae-45b2-947f-ea0919f3efe3', '4a551756-4369-45c5-8298-3a5de9549567', 'TypeScript', '2025-11-19 14:02:21.787115+00');
INSERT INTO "public"."experience_keywords" VALUES ('a09e567c-e7d4-44e9-b609-23fe9ce369ae', '4a551756-4369-45c5-8298-3a5de9549567', 'permissions', '2025-11-19 14:02:21.787115+00');
INSERT INTO "public"."experience_keywords" VALUES ('4de26193-cea6-45b0-8c78-edb30b0e8595', '4a551756-4369-45c5-8298-3a5de9549567', 'access control', '2025-11-19 14:02:21.787115+00');
INSERT INTO "public"."experience_keywords" VALUES ('56aefa67-9a26-4bd5-b00d-19624c4b6e7e', '33e13711-14d1-4648-b9ad-37473445bb9d', 'TailwindCSS', '2025-11-19 17:03:01.275326+00');
INSERT INTO "public"."experience_keywords" VALUES ('deaa00c9-21f9-4d60-a30d-c9ad473de267', '33e13711-14d1-4648-b9ad-37473445bb9d', 'PostCSS', '2025-11-19 17:03:01.275326+00');
INSERT INTO "public"."experience_keywords" VALUES ('c95219eb-4cb3-4b48-abe5-91a91ad6097b', '33e13711-14d1-4648-b9ad-37473445bb9d', 'Next.js', '2025-11-19 17:03:01.275326+00');
INSERT INTO "public"."experience_keywords" VALUES ('ea9b0e34-2b2a-459c-961f-cfcf0166d101', '9b8654fc-9a79-45c8-b0b4-f856a0d4f675', 'chrome-extension', '2025-11-20 03:02:19.500967+00');
INSERT INTO "public"."experience_keywords" VALUES ('4d0fd934-24c0-4222-8bad-6fea92aa3e62', '9b8654fc-9a79-45c8-b0b4-f856a0d4f675', 'javascript', '2025-11-20 03:02:19.500967+00');
INSERT INTO "public"."experience_keywords" VALUES ('25168110-9366-43dd-ab01-7246216bdc02', '9b8654fc-9a79-45c8-b0b4-f856a0d4f675', 'manifest-v3', '2025-11-20 03:02:19.500967+00');
INSERT INTO "public"."experience_keywords" VALUES ('278f04ff-5c17-49d8-99cb-a042e3a1f385', '9b8654fc-9a79-45c8-b0b4-f856a0d4f675', 'content-script', '2025-11-20 03:02:19.500967+00');
INSERT INTO "public"."experience_keywords" VALUES ('dad2847c-6570-4ba9-a987-6c384986ffbd', '9b8654fc-9a79-45c8-b0b4-f856a0d4f675', 'web-accessible-resources', '2025-11-20 03:02:19.500967+00');
INSERT INTO "public"."experience_keywords" VALUES ('3a382fb5-987b-4752-ae39-9a62105eef98', '0d533542-7552-4da5-9c2c-e468405b0d39', 'clipboard-api', '2025-11-24 03:18:19.365006+00');
INSERT INTO "public"."experience_keywords" VALUES ('95b2adce-7f8f-4181-8dc3-2079a053e064', '0d533542-7552-4da5-9c2c-e468405b0d39', 'browser-compatibility', '2025-11-24 03:18:19.365006+00');
INSERT INTO "public"."experience_keywords" VALUES ('6ccb9cfc-63b7-4dc8-8b2e-6df787ded482', '0d533542-7552-4da5-9c2c-e468405b0d39', 'nextjs', '2025-11-24 03:18:19.365006+00');
INSERT INTO "public"."experience_keywords" VALUES ('131f935b-44cf-42d6-a542-e94aaec0ea8b', '0d533542-7552-4da5-9c2c-e468405b0d39', 'production-deployment', '2025-11-24 03:18:19.365006+00');
INSERT INTO "public"."experience_keywords" VALUES ('cc46535f-ee8f-447e-8bb7-945ca02b6dc5', '0d533542-7552-4da5-9c2c-e468405b0d39', 'api-key-management', '2025-11-24 03:18:19.365006+00');
INSERT INTO "public"."experience_keywords" VALUES ('bd50b66a-4b9d-40ca-9b80-9e85a36f5caa', '0d533542-7552-4da5-9c2c-e468405b0d39', 'document-execCommand', '2025-11-24 03:18:19.365006+00');
INSERT INTO "public"."experience_keywords" VALUES ('755dd6d2-7095-482e-a7ac-5f7795a461b7', '0d533542-7552-4da5-9c2c-e468405b0d39', 'typescript', '2025-11-24 03:18:19.365006+00');
INSERT INTO "public"."experience_keywords" VALUES ('8329edd0-fc1c-43d0-ad69-857f715b525e', '0d533542-7552-4da5-9c2c-e468405b0d39', 'react', '2025-11-24 03:18:19.365006+00');
INSERT INTO "public"."experience_keywords" VALUES ('dd91b55c-0482-459d-a4f4-e42ba2a9d93f', '2576695c-7d47-4309-97e8-b9840de9848d', 'clipboard-api', '2025-11-24 03:27:52.775494+00');
INSERT INTO "public"."experience_keywords" VALUES ('44b04433-ec70-4aa7-814f-a0173aca4ca4', '2576695c-7d47-4309-97e8-b9840de9848d', 'browser-compatibility', '2025-11-24 03:27:52.775494+00');
INSERT INTO "public"."experience_keywords" VALUES ('28312f3f-2a81-4bc6-98a3-40c90a663ebc', '2576695c-7d47-4309-97e8-b9840de9848d', 'nextjs', '2025-11-24 03:27:52.775494+00');
INSERT INTO "public"."experience_keywords" VALUES ('9f9e736a-2d18-44ce-98d2-0e9ae83c6a4d', '2576695c-7d47-4309-97e8-b9840de9848d', 'production-deployment', '2025-11-24 03:27:52.775494+00');
INSERT INTO "public"."experience_keywords" VALUES ('7bd0bcb3-e316-42ab-a319-32bc30aadb1c', '2576695c-7d47-4309-97e8-b9840de9848d', 'api-key-management', '2025-11-24 03:27:52.775494+00');
INSERT INTO "public"."experience_keywords" VALUES ('aa859404-b6e5-433f-a320-c088123a7e9b', '2576695c-7d47-4309-97e8-b9840de9848d', 'document-execCommand', '2025-11-24 03:27:52.775494+00');
INSERT INTO "public"."experience_keywords" VALUES ('7156b6e2-2b45-4feb-9af6-93a9d91baec4', '2576695c-7d47-4309-97e8-b9840de9848d', 'typescript', '2025-11-24 03:27:52.775494+00');
INSERT INTO "public"."experience_keywords" VALUES ('936cff4c-5784-420a-b0aa-bf6b69cf3fb2', '2576695c-7d47-4309-97e8-b9840de9848d', 'react', '2025-11-24 03:27:52.775494+00');
INSERT INTO "public"."experience_keywords" VALUES ('ffac3149-187f-46a2-9bb0-6d5e028a283b', '1cb829f4-41a9-46bc-ba51-782056e77624', 'clipboard-api', '2025-11-24 03:29:40.785233+00');
INSERT INTO "public"."experience_keywords" VALUES ('28f1b145-18e8-428f-b0d7-a3cf647bc5b7', '1cb829f4-41a9-46bc-ba51-782056e77624', 'browser-compatibility', '2025-11-24 03:29:40.785233+00');
INSERT INTO "public"."experience_keywords" VALUES ('3705c9b3-d746-42aa-abbf-ce42ef5e47b2', '1cb829f4-41a9-46bc-ba51-782056e77624', 'nextjs', '2025-11-24 03:29:40.785233+00');
INSERT INTO "public"."experience_keywords" VALUES ('6fc2ed63-ca41-48f1-8090-c0d5a21e01c5', '1cb829f4-41a9-46bc-ba51-782056e77624', 'production-deployment', '2025-11-24 03:29:40.785233+00');
INSERT INTO "public"."experience_keywords" VALUES ('2157e9e1-f200-4246-8680-a8f293a20b3c', '1cb829f4-41a9-46bc-ba51-782056e77624', 'api-key-management', '2025-11-24 03:29:40.785233+00');
INSERT INTO "public"."experience_keywords" VALUES ('40dc9fe2-dc1e-4f1d-9071-2fac80fd2205', '1cb829f4-41a9-46bc-ba51-782056e77624', 'document-execCommand', '2025-11-24 03:29:40.785233+00');
INSERT INTO "public"."experience_keywords" VALUES ('ddf39925-2173-4bcf-b90f-c8e711dd2381', '84e1d843-10d3-4460-991b-76a4cd9c685d', 'Docker', '2025-11-24 08:18:27.484418+00');
INSERT INTO "public"."experience_keywords" VALUES ('3cd01b5f-0137-40d0-867b-1d6e8e67c2c8', '84e1d843-10d3-4460-991b-76a4cd9c685d', 'Next.js', '2025-11-24 08:18:27.484418+00');
INSERT INTO "public"."experience_keywords" VALUES ('f2718c6d-52ae-4d36-8337-46f8732182d4', '84e1d843-10d3-4460-991b-76a4cd9c685d', '数据库配�?, '2025-11-24 08:18:27.484418+00');
INSERT INTO "public"."experience_keywords" VALUES ('9f4c87bb-801e-44bb-928f-b71a53e41302', '84e1d843-10d3-4460-991b-76a4cd9c685d', '构建优化', '2025-11-24 08:18:27.484418+00');
INSERT INTO "public"."experience_keywords" VALUES ('cf3be62b-f400-4151-9faa-56ed1ebe3099', '7314ef02-85b3-4d8c-9537-95cbd1bd5e75', 'Next.js', '2025-11-24 08:36:19.438349+00');
INSERT INTO "public"."experience_keywords" VALUES ('686763ec-2f00-4433-b9da-ed9fd240ef4a', '7314ef02-85b3-4d8c-9537-95cbd1bd5e75', '路由冲突', '2025-11-24 08:36:19.438349+00');
INSERT INTO "public"."experience_keywords" VALUES ('4fbb2ad0-a5e7-4a83-9e17-8c566c608c3c', '7314ef02-85b3-4d8c-9537-95cbd1bd5e75', '404错误', '2025-11-24 08:36:19.438349+00');
INSERT INTO "public"."experience_keywords" VALUES ('9132509c-08fc-4831-9030-69219cd362ac', '7314ef02-85b3-4d8c-9537-95cbd1bd5e75', 'Route Groups', '2025-11-24 08:36:19.438349+00');
INSERT INTO "public"."experience_keywords" VALUES ('c60f5f3d-e129-44ab-9eac-d903cbb4c2d3', '7314ef02-85b3-4d8c-9537-95cbd1bd5e75', 'TypeScript', '2025-11-24 08:36:19.438349+00');
INSERT INTO "public"."experience_keywords" VALUES ('1859efa6-2ba1-4941-9df5-ef0aef6b20f8', '839ebbf0-59a9-41f6-aaf4-8f8fbfa0ffad', 'React', '2025-11-24 08:36:49.085211+00');
INSERT INTO "public"."experience_keywords" VALUES ('0b16bb85-7cd2-4a18-aed6-23aca458807b', '839ebbf0-59a9-41f6-aaf4-8f8fbfa0ffad', 'Next.js', '2025-11-24 08:36:49.085211+00');
INSERT INTO "public"."experience_keywords" VALUES ('fb30abbc-d899-437e-994b-a525729b799b', '839ebbf0-59a9-41f6-aaf4-8f8fbfa0ffad', 'target="_blank"', '2025-11-24 08:36:49.085211+00');
INSERT INTO "public"."experience_keywords" VALUES ('e214eb08-a7ec-444c-bd46-269103d3dade', '839ebbf0-59a9-41f6-aaf4-8f8fbfa0ffad', '链接配置', '2025-11-24 08:36:49.085211+00');
INSERT INTO "public"."experience_keywords" VALUES ('65aa8f05-b6fd-4884-93f6-689adfa1b36c', '839ebbf0-59a9-41f6-aaf4-8f8fbfa0ffad', '用户体验', '2025-11-24 08:36:49.085211+00');

-- ----------------------------
-- Table structure for experience_records
-- ----------------------------
DROP TABLE IF EXISTS "public"."experience_records";
-- 经验记录表：存储用户分享的技术经验和解决方案
CREATE TABLE "public"."experience_records" (
  "id" "pg_catalog"."uuid" NOT NULL DEFAULT public.uuid_generate_v4(),
  "user_id" "pg_catalog"."uuid",
  "title" varchar(500) COLLATE "pg_catalog"."default" NOT NULL,
  "problem_description" text COLLATE "pg_catalog"."default" NOT NULL,
  "root_cause" text COLLATE "pg_catalog"."default",
  "solution" text COLLATE "pg_catalog"."default" NOT NULL,
  "context" text COLLATE "pg_catalog"."default",
  "query_count" int4 NOT NULL DEFAULT 0,
  "view_count" int4 NOT NULL DEFAULT 0,
  "relevance_score" float8 DEFAULT 0.0,
  "fts" "pg_catalog"."tsvector",
  "embedding" "public"."vector"(1024),
  "has_embedding" bool NOT NULL DEFAULT false,
  "created_at" timestamptz(6) NOT NULL DEFAULT now(),
  "updated_at" timestamptz(6) NOT NULL DEFAULT now(),
  "deleted_at" timestamptz(6),
  "publish_status" varchar(20) COLLATE "pg_catalog"."default" NOT NULL DEFAULT 'published'::character varying,
  "is_deleted" bool NOT NULL DEFAULT false
)
;
COMMENT ON COLUMN "public"."experience_records"."publish_status" IS 'Publication status: draft, publishing, published, rejected';
COMMENT ON COLUMN "public"."experience_records"."is_deleted" IS 'Soft delete flag: false = active, true = deleted';
COMMENT ON TABLE "public"."experience_records" IS 'Experience records with unified status system using publish_status and is_deleted fields';

-- ----------------------------
-- Records of experience_records
-- ----------------------------
INSERT INTO "public"."experience_records" VALUES ('4a551756-4369-45c5-8298-3a5de9549567', '886bb63d-44d6-491b-bfcf-b5d5c14124e2', '数据库权限策略缺失导致关键字无法保存', '在使�?Recall Kit MCP 服务器提交经验记录时，经验记录本身创建成功，但关联的关键字（keywords）没有保存到数据库中。通过 MCP 查询接口也无法通过关键字检索到刚提交的经验记录�?

错误表现�?
- submit_experience 接口返回成功状�?
- 经验记录 ID 正常返回
- �?experience_keywords 表中没有对应的关键字记录
- 查询接口无法通过关键字找到该经验记录', '问题根源在于数据库的权限策略配置不完整�?

具体原因�?
1. experience_keywords 表启用了权限控制
2. 但只配置了读取权限，允许所有用户读取关键字
3. 缺少插入权限，导致匿名用户无法插入关键字记录
4. 代码中的错误处理只是记录日志（console.error），没有抛出异常，所以经验记录创建成功，但关键字插入被静默失�?

权限控制的工作原理是：如果启用了权限控制，默认情况下会拒绝所有操作，除非有明确的权限允许该操作。由于没有插入权限，所有插入操作都被拒绝�?, '1. 修复权限策略：在数据库迁移文件中添加插入权限
   ```sql
   -- 为匿名用户授予插入权�?
   GRANT INSERT ON experience_keywords TO public;
   ```

2. 创建迁移文件：为已部署的数据库创建新的迁移文件，包含相同的权限，用于应用修复

3. 应用修复�?
   - 新部署：权限已包含在初始权限配置�?
   - 现有数据库：需要运行新的迁移文�?

修复后的策略允许匿名用户（通过 API）插入关键字记录，与 experience_records 表的策略保持一致�?, '技术栈：PostgreSQL, TypeScript, 权限控制
项目结构：Recall Kit 经验分享平台
相关表：
- experience_records - 经验记录主表（已�?INSERT 策略�?
- experience_keywords - 关键字关联表（缺�?INSERT 策略�?
相关文件�?
- supabase/migrations/002_rls_policies.sql - 权限策略定义
- mcp-server/src/services/experienceService.ts - 经验服务（关键字插入逻辑�?, 0, 1, 0, '''/src/services/experienceservice.ts'':108 ''1'':28,50 ''2'':32,62 ''3'':35,67 ''4'':38 ''api'':75 ''console.error'':40 ''experi'':16,22,29,58,78,90,96 ''grant'':55 ''id'':19 ''insert'':56,94,100 ''keyword'':9,23,30,59,97 ''kit'':4,87 ''mcp'':5,12,106 ''mcp-server'':105 ''postgresql'':82 ''public'':61 ''recal'':3,86 ''record'':79,91 ''server'':107 ''sql'':53 ''submit'':15 ''supabase/migrations/002_rls_policies.sql'':103 ''typescript'':83 ''�?':77 ''为匿名用户授予插入权�?':54 ''为已部署的数据库创建新的迁移文件'':64 ''代码中的错误处理只是记录日志'':39 ''�?':21 ''但关联的关键�?':8 ''但关键字插入被静默失�?':43 ''但只配置了读取权�?':33 ''修复后的策略允许匿名用户'':73 ''修复权限策略'':51 ''允许所有用户读取关键字'':34 ''关键字关联表'':98 ''关键字插入逻辑'':110 ''具体原因'':27 ''创建迁移文件'':63 ''包含相同的权�?':65 ''在使�?':2 ''在数据库迁移文件中添加插入权�?':52 ''如果启用了权限控�?':45 ''导致匿名用户无法插入关键字记�?':37 ''已有'':93 ''应用修复'':68 ''所以经验记录创建成�?':42 ''所有插入操作都被拒�?':49 ''技术栈'':81 ''接口返回成功状�?':17 ''插入关键字记�?':76 ''数据库权限策略缺失导致关键字无法保存'':1 ''新部�?':69 ''服务器提交经验记录时'':6 ''权限已包含在初始权限配置�?':70 ''权限控制'':84 ''权限控制的工作原理是'':44 ''权限策略定义'':104 ''查询接口也无法通过关键字检索到刚提交的经验记录'':13 ''查询接口无法通过关键字找到该经验记录'':25 ''正常返回'':20 ''没有保存到数据库�?':10 ''没有抛出异常'':41 ''现有数据�?':71 ''用于应用修复'':66 ''由于没有插入权限'':48 ''相关文件'':102 ''相关�?':89 ''策略'':95,101 ''经验分享平台'':88 ''经验服务'':109 ''经验记录'':18 ''经验记录主表'':92 ''经验记录本身创建成功'':7 ''缺少'':99 ''缺少插入权限'':36 ''表中没有对应的关键字记录'':24 ''表启用了权限控制'':31 ''表的策略保持一�?':80 ''通过'':11,74 ''错误表现'':14 ''问题根源在于数据库的权限策略配置不完�?':26 ''除非有明确的权限允许该操�?':47 ''需要运行新的迁移文�?':72 ''项目结构'':85 ''默认情况下会拒绝所有操�?':46', '[-0.032275233,-0.0029204271,-0.019287325,-0.0095232325,-0.016776823,-0.026902204,0.032108486,-0.009166574,0.017017683,0.00063457334,-0.008142919,-6.5389715e-05,-0.026105514,0.013886503,0.006299414,-0.012839689,0.011829929,0.00014250398,0.045985725,0.023029918,0.0075963526,0.00775847,0.043577127,-0.007225799,-0.002091313,0.016082035,0.009282372,-0.0066468087,0.026605763,-0.0049793166,0.00922679,-0.043169517,-0.036870103,-0.015868966,-0.022548199,-0.013256562,-0.021992367,-0.011626125,-0.0153779825,0.020510152,-0.025716433,-0.013293617,0.034424447,-0.029292276,-0.015025957,-0.015405774,0.035888135,-0.006785766,0.017230751,0.030200133,-0.041353803,0.008291141,0.043873567,-0.03536936,0.042539574,0.026883677,-0.020398986,0.003640691,-0.012895272,0.02028782,-0.00631331,-0.04668978,-0.004367903,0.007137792,0.026179625,0.07103516,-0.0057389517,0.0035897398,-0.003103388,-0.06770018,-0.006308678,0.069071226,-0.04746794,-0.06562508,-0.05158109,0.032701373,0.05654651,0.019861683,-0.017471611,0.02204795,-0.03294223,-0.02758773,0.031867627,0.06136371,-0.01708253,-0.0074203396,-0.042131964,0.026476068,0.007457395,0.02228881,0.045096397,-0.032275233,0.03390567,-0.039834533,0.0051090103,-0.003823652,-0.0036267953,0.0020530997,0.011792874,0.040909138,0.010662685,0.006035395,0.031719405,-0.03334984,0.043614183,0.0075037144,0.039834533,-0.009606607,0.07033111,-0.008166079,-0.01881487,0.023696914,0.0036661664,-0.027143065,0.015072275,-0.017582778,0.032664318,-0.039019313,0.019176159,0.02430833,0.018703703,0.06258654,0.019027937,0.0036823782,-0.0026031404,0.00015936707,-0.005197017,0.008791389,-0.022918751,0.04079797,0.023104029,-0.0061095054,-0.04113147,-0.03568433,-0.060029715,-0.0059288605,0.010199493,0.065254524,0.014229266,-0.06669968,-0.002087839,0.014581292,0.0013177819,-0.014284848,0.035943717,-0.039315756,0.006128033,0.027050426,-0.00096633483,-0.00072605384,0.008819181,-0.0004953262,0.015553995,-0.025067965,0.02397483,-0.09656632,-0.029644303,0.02558674,0.04794966,0.0036800622,-0.020713957,0.020009905,-0.042947184,0.08018784,0.03842643,-0.012256066,0.018926036,-0.015081539,-0.014127363,-0.0035851079,0.03761121,-0.029384915,-0.024085997,0.010310659,-0.0007578983,0.02028782,0.045355786,0.04257663,0.01074606,-0.048134938,-0.0027258864,0.029551664,0.018064497,-0.032108486,-0.010375506,-0.0020114123,-0.0025336614,-0.024160108,-0.008708014,0.051877532,-0.02903289,-0.027995339,0.013580796,0.0040923036,-0.00095880794,-0.017693944,0.0026425116,-0.02773595,0.04072386,0.02831031,-0.028736446,0.035795495,0.05469374,0.004344743,-0.023845136,-0.023826608,0.016332159,-0.014701721,0.0201396,-0.046208058,0.025642322,0.016415533,-0.018425787,0.03286812,-0.016461853,-0.0093009,-0.037481517,0.039241645,-0.021584759,-0.0513217,-0.068218954,0.06466164,-0.049172487,-0.029477553,-0.0013548373,0.022900224,0.0564724,0.029699886,0.012506191,-0.0037425933,-0.025623795,-0.011033239,-0.02212206,-0.0080919685,0.072739705,-0.0032052903,0.0026309318,-0.036425438,0.04835727,0.0018967722,-0.052062806,-0.04346596,0.022974335,-0.0028741078,-0.022177644,-0.021899728,0.027383925,0.017545722,0.0031890785,-0.0065171146,-0.057509948,0.01956524,-0.0080595445,-0.020751012,-0.011931832,-0.0031867626,0.017416028,-0.014859207,-0.004228945,0.001015549,0.001613067,0.0059334924,0.01872223,0.01751793,-0.01395135,-0.019694934,-0.0109406,-0.06151193,0.0117558185,0.011616861,-0.030996824,0.010375506,0.05180342,0.009273109,0.046726834,-0.028643807,-0.041094415,-0.025549684,0.061734263,0.017462347,-0.028384421,0.017693944,0.03624016,0.016776823,0.026235208,-0.0017624465,0.04064975,-0.020547207,-0.022733474,-0.025734961,0.006317942,0.008050281,0.07826096,0.0072628544,0.011626125,0.024919743,0.0014845311,-0.14503476,0.029699886,0.021436537,-0.00860148,0.008124392,-0.028495586,-0.035295248,0.018833397,-0.0516552,0.008008594,-0.04305835,-0.04457762,0.0036244793,0.00018281619,-0.0015690638,-0.03864876,-0.00845789,0.011172197,-0.016887989,-0.057361726,-0.0047940398,-0.05699117,0.049691264,0.03071891,-0.012283858,-0.045504004,0.07110927,0.018666647,-0.052211028,-0.008244822,-0.005423981,-0.013627116,-0.00021958207,0.04691211,-0.0044883327,0.017944068,-0.017499402,0.0018435051,0.044466455,-0.008142919,0.03255315,0.03559169,0.030366883,0.040130977,0.018712966,0.03433181,0.012061526,-0.013284354,-0.034869112,0.01539651,-0.022140589,-0.014257057,-0.009328691,-0.010199493,-0.011829929,-0.010236548,0.02317814,0.039834533,-0.028125033,0.025734961,0.010542255,0.033294257,0.002271958,0.017573513,0.022733474,0.016693449,0.035739914,0.0070822095,0.04120558,-0.0025336614,0.03279401,-0.012635884,-0.003395199,0.03640691,-0.028032394,0.011514959,0.032201122,-0.02590171,-0.063735254,-0.12769283,-0.007526874,0.010412562,0.013321409,0.009773356,-0.018907508,-0.010403298,0.01346963,0.0399457,0.06492102,0.21388365,-0.012080054,-0.041724358,-0.03247904,0.021306843,0.022511143,-0.018712966,0.036369853,0.02076954,-0.027754478,-0.026531652,0.02469741,0.014275584,0.005979812,-0.019379964,0.011088822,-0.0056741047,-0.009791884,0.052989192,-0.024956798,0.028717918,0.015257552,0.01122778,0.022362921,-0.059473883,-0.05228514,-0.038315263,-0.0030547527,-0.04383651,0.053433858,-0.028977307,0.03824115,0.08834002,-0.08619081,-0.033868615,-0.017193696,0.0015343243,0.022677893,-0.005789903,0.037500042,0.038129985,-0.022974335,-0.008726542,-0.01479436,-0.0052155447,0.023066973,-0.015794855,-0.015915286,0.0053452384,-0.022714946,-0.027402453,-0.020232236,-0.0034693098,-0.009009089,0.011181461,-0.010468145,0.014979637,0.0046851896,-0.031645294,-0.006864509,0.02773595,0.024808576,-0.08448626,0.07177627,-0.037148017,-0.0076750955,0.04250252,-0.01580412,0.027939755,0.07944673,0.014377487,0.035332303,0.034035366,0.029236695,0.035221137,-0.008045649,0.021140093,0.05395263,-0.06310531,0.020954818,-0.008443994,0.007563929,-0.0043354793,0.0020820491,0.01563737,0.023585748,-0.0060631866,0.07529653,-0.015906021,-0.00068668247,-0.032256708,-0.024956798,-0.02782859,0.02436391,0.020751012,0.051136423,-0.02604993,-0.0033025607,-0.022196172,-0.041650247,-0.016211728,-0.017212223,0.023826608,-0.028347366,0.002157318,-0.04113147,0.030996824,-0.005053427,-0.0070266263,-0.005845486,-0.07181332,0.016887989,-0.032516096,-0.017934803,-0.019231742,0.015285344,0.0071887434,0.018555481,0.015081539,0.0812995,0.002922743,0.009004457,-0.037185073,-0.012163429,0.006317942,-0.01756425,0.00015632738,-0.050617646,-0.053989686,0.0009923894,0.040872082,-0.037740905,0.044207066,-0.014516445,-0.015201969,-0.023085501,0.028328838,0.025642322,-0.017193696,0.010440353,-0.0019766728,-0.013812393,-0.02469741,0.009977161,0.0016084351,-0.013441838,-0.016934307,-0.016424797,-0.005979812,-0.0024757625,0.023215195,0.0109128095,0.020195182,-0.038722873,-0.0076611997,-0.026031403,-0.009254581,0.024901215,0.02414158,-0.036870103,-0.018638855,-0.020176655,0.019268798,0.01799965,0.016684184,-1.4330009e-05,0.038611706,0.013432574,-0.029570192,0.021436537,0.015387246,-0.037648264,-0.06710729,0.038204096,0.022418505,0.014396015,-0.042391352,-0.045281675,0.0011365579,-0.054508463,0.019657878,-0.029977802,-0.04498523,0.022992862,0.04531873,0.05973327,-0.012302386,-0.01891677,0.011820666,-0.021343898,-0.016665656,0.1198371,3.0939795e-05,-0.0036314272,-0.012126373,0.058176946,0.038352318,0.034998804,-0.013015701,-0.031886153,-0.023752498,0.0039070267,0.030830076,-0.018444315,-0.0049978443,-0.012348705,0.021288315,0.028477058,-0.0142663205,-0.019954322,0.012024471,0.032052904,-0.106867716,-0.001074606,0.056657676,-0.03616605,0.05739878,-0.01804597,-0.010671949,0.0033326682,-0.0045415997,-0.037500042,0.026179625,-0.016952835,-0.027476564,0.008388411,-0.015665162,-0.050877035,-0.0022291127,-0.030996824,-0.0056880005,-0.02108451,0.015137122,-0.030867131,0.020232236,0.010597838,0.004279896,0.017480874,0.054471407,-0.006271623,-0.0011145563,-0.0771493,-0.027254231,0.012413552,-0.023400472,0.012274594,-0.009671454,-0.003226134,-0.004882046,0.02301139,-0.009097096,0.020028433,0.009847467,0.0013038862,0.019046465,0.040538583,-0.0065310104,-0.040168032,-0.033738922,-0.027791534,-0.022826113,0.029514609,0.018509163,0.00062994147,-0.01279337,-0.039760422,0.028606752,-0.046726834,0.013858711,-0.03416506,-0.0021330002,0.01698989,-0.03273843,-0.008346724,0.0073045418,-0.004726877,-0.029069945,-0.04291013,0.015016693,0.0007688991,-0.031960264,0.024512133,-0.0071702157,0.048097882,-0.011552014,0.057880502,0.06480986,-0.010162437,0.0005636471,-0.048468437,-0.035795495,-0.020880707,-0.008235558,0.018268302,-0.028384421,0.009708509,0.009310164,0.032664318,0.0027976811,0.040056866,-0.018990882,0.0017786582,-0.060326155,0.031385906,-0.04561517,0.018944563,0.0031288636,-0.017434556,0.017971858,0.022659365,0.031626765,-0.018759286,0.012496927,0.028032394,0.01604498,0.020009905,0.06795956,-0.018166399,0.013432574,-0.020547207,0.026161097,-0.01932438,-0.023029918,-0.0303113,-0.037129488,-0.018064497,-0.06432814,0.009342588,-0.0031960264,-0.0024317591,-0.019157631,-0.012107845,0.0061002416,0.011579806,-0.006308678,0.028717918,0.03648102,-0.05395263,-0.0044350657,0.027865645,0.043873567,-0.056805898,0.028773502,-0.040538583,-0.022955807,-0.00978262,-0.017703207,-0.010097591,-0.016220992,0.009175838,0.007874268,0.014043989,-0.020991873,0.00083432504,0.019546712,-0.033294257,-0.05043237,0.03690716,0.029236695,0.017258544,-0.04517051,0.04561517,0.016285839,0.0023715443,0.041983746,3.177209e-05,0.010810907,-0.026346374,-0.0014173683,-0.0015181126,-0.035258193,0.0044883327,-0.0066004894,0.019102048,-0.031497072,0.028050922,-0.030051913,-0.035239667,-0.017258544,-0.058584552,-0.026920732,-0.02076954,-0.008907187,-0.0011330841,-0.0420208,0.004152518,-0.05654651,-0.0030246454,-0.03423917,0.017619833,-0.02076954,0.009625135,-0.036203105,0.032367874,-0.13762368,-0.0060122353,-0.0059427563,0.0020033065,-0.008416203,0.011653917,-0.004597183,-0.027847117,-0.010458881,-0.043873567,-0.069775276,0.0010392875,0.02982958,-0.045429893,-0.0059242286,0.00838378,0.014924054,-0.021214204,-0.02436391,0.014451598,-0.026290791,0.00059404405,0.05925155,0.010736796,-0.00034855216,-0.0037981763,-0.01643406,0.053026248,-0.04313246,-0.010412562,0.020343402,-0.0055629387,0.020880707,0.010477409,0.0046226587,0.0082633495,0.01158907,-0.0051043783,-0.015405774,-0.004784776,-0.0258276,0.017165905,-0.009245317,-0.002145738,0.007526874,0.04720855,-0.045763392,-0.03520261,-0.014321904,-0.03281254,-0.031552654,0.01580412,-0.055842455,-0.012830425,0.03288665,-0.01310834,-0.069627054,-0.004495281,-0.0077955252,0.041094415,-0.031385906,0.0076611997,-0.026309319,-0.055212516,-0.0064291083,-0.017499402,-0.00083722,0.019917266,-0.037981763,0.03801882,0.0389452,-0.015359455,0.0045161243,0.010931336,-0.029088473,0.006637545,0.036036357,-0.055953622,0.00045219142,-0.03192321,-0.031256214,0.033312786,-0.024234219,0.043095406,0.083374605,0.027976811,0.014988901,-0.035721384,0.028754974,-0.018564744,-0.04339185,-0.019194687,0.026346374,0.015896758,-0.010727532,0.018759286,-0.015785592,0.0054980917,-0.0015157966,-0.02356722,-0.016656393,-0.027754478,0.025216185,-0.025290295,-0.02334489,-0.011635389,0.010032744,-0.008819181,0.011135141,0.02173298,0.025920238,-0.008610744,0.0071841115,0.031070935,-0.06317942,0.012960119,0.0115427505,0.02108451,-0.030348355,0.045392837,0.01190404,-0.0062253037,-0.0011423478,-0.0052294405,0.0070683137,0.026179625,0.029459026,0.006688496,-0.0010566573,-0.043577127,0.014738777,-0.03127474,-0.0061002416,0.03255315,0.022066478,-0.035888135,-0.029181112,0.038204096,0.023937775,-0.01178361,-0.001130189,-0.05050648,0.010421826,-0.041316748,-0.011672445,-0.053915575,0.01074606,0.00357816,-0.05688001,-0.046319224,0.01002348,0.032182597,0.016582282,0.024048941,-0.003272453,0.056917064,-0.02701337,-0.0027027267,0.020565735,0.029625775,-0.008166079,-0.03703685,-0.016109826,-0.038611706,-0.03987159,-0.027235704,0.018768549,0.016591545,-0.014108836,0.011765082,-0.05876983,0.014451598,0.0023043815,0.049580097,0.029236695,-0.07981729,0.022399977,-0.009073935,-0.0005167488,-0.04546695,0.0025406093,0.035017334,0.041724358,-0.014294112,0.041909635,-0.031145046,-0.0013548373,0.02693926,0.0026332478,0.01623952,-0.014488653,-0.0335907,0.039797477,-0.0021411062,0.02277053,-0.0078464765,0.0022349025,-0.019528184,0.0008719594,0.058176946,0.00802249,-0.035869606,-0.05350797,-0.015146386,0.045504004,0.030200133,0.014331168,-0.009110991,-0.013034229,0.065254524,-0.00298759,-0.030237189,-0.023696914,-0.023882192,0.02869939,-0.012524718,0.008078072,0.0007220009,0.0036823782,-0.0647728,-0.015674425,-0.022696419,0.008101232,-0.03296076,-0.04417001,0.008305036,0.04035331,-0.025809072,0.040760916,-0.008749701,-0.029218167,0.009124887,-0.0111258775,0.003696274,0.07288793,-0.013877239,-0.02590171,0.04298424,-0.045022286,0.002434075,0.037555628,0.022029422,0.037018325,0.027476564]', 't', '2025-11-19 14:02:21.787115+00', '2025-11-20 07:37:08.669168+00', NULL, 'published', 'f', 'approved', '886bb63d-44d6-491b-bfcf-b5d5c14124e2', '2025-11-19 14:23:15.88933+00', NULL);
INSERT INTO "public"."experience_records" VALUES ('2576695c-7d47-4309-97e8-b9840de9848d', '886bb63d-44d6-491b-bfcf-b5d5c14124e2', '生产环境中Clipboard API安全上下文限制导致的复制功能失效', '在API密钥管理页面，本地开发环境使�?navigator.clipboard.writeText() 复制API密钥功能正常工作，但打包部署到生产环境后，点击复制按钮报错：TypeError: Cannot read properties of undefined (reading ''writeText'')。这导致用户无法在生产环境中复制完整的API密钥，影响了用户体验和系统功能完整性�?, 'navigator.clipboard.writeText() API 具有以下限制�?. 只能在安全上下文中使用（HTTPS �?localhost�?. 需要用户交互触�?3. 在某些生产部署环境中可能存在权限限制 4. 部分旧版浏览器不支持该API。本地开发环境（localhost）满足安全上下文要求，所以能正常工作，但生产环境可能不完全满足这些条件，导致 navigator.clipboard 对象不可用�?, '实现了一个兼容性更好的复制函数，包含两种复制方法的降级策略�?. 主要方法：优先使用现�?Clipboard API 2. 后备方案：使用传统的 document.execCommand(''copy'')。修改了两个复制函数：handleCopyFullApiKey �?handleCopyApiKey，确保在各种环境下都能正常工作�?, '项目类型：Next.js 15.5.2 管理后台系统。技术栈：React, TypeScript, Next.js, Tailwind CSS。问题文件：web/src/app/admin/api-keys/page.tsx。影响范围：API密钥管理页面的复制功能。部署环境：生产环境（非localhost）。用户权限：管理员用户。业务场景：用户需要复制完整的API密钥用于程序化访问系统�?, 0, 1, 0, '''1'':22,43 ''15.5.2'':60 ''2'':27,48 ''3'':29 ''4'':31 ''api'':20,47 ''api安全上下文限制导致的复制功能失效'':2 ''api密钥管理页面的复制功�?':71 ''cannot'':10 ''clipboard'':46 ''copi'':52 ''css'':67 ''document.execcommand'':51 ''handlecopyapikey'':56 ''handlecopyfullapikey'':54 ''https'':24 ''localhost'':26,34 ''navigator.clipboard'':39 ''navigator.clipboard.writetext'':5,19 ''next.js'':59,65 ''properti'':12 ''react'':63 ''read'':11,15 ''tailwind'':66 ''typeerror'':9 ''typescript'':64 ''undefin'':14 ''web/src/app/admin/api-keys/page.tsx'':69 ''writetext'':16 ''业务场景'':77 ''主要方法'':44 ''优先使用现代'':45 ''但打包部署到生产环境�?':7 ''但生产环境可能不完全满足这些条件'':37 ''使用传统�?':50 ''修改了两个复制函�?':53 ''具有以下限制'':21 ''包含两种复制方法的降级策�?':42 ''只能在安全上下文中使�?':23 ''后备方案'':49 ''�?':55 ''在api密钥管理页面'':3 ''在某些生产部署环境中可能存在权限限制'':30 ''复制api密钥功能正常工作'':6 ''实现了一个兼容性更好的复制函数'':41 ''对象不可�?':40 ''导致'':38 ''影响了用户体验和系统功能完整�?':18 ''影响范围'':70 ''�?':25 ''所以能正常工作'':36 ''技术栈'':62 ''本地开发环�?':33 ''本地开发环境使�?':4 ''满足安全上下文要�?':35 ''点击复制按钮报错'':8 ''生产环境'':73 ''生产环境中clipboard'':1 ''用户权限'':75 ''用户需要复制完整的api密钥用于程序化访问系�?':78 ''确保在各种环境下都能正常工作'':57 ''管理后台系统'':61 ''管理员用�?':76 ''这导致用户无法在生产环境中复制完整的api密钥'':17 ''部分旧版浏览器不支持该api'':32 ''部署环境'':72 ''问题文件'':68 ''需要用户交互触�?':28 ''非localhost'':74 ''项目类型'':58', NULL, 'f', '2025-11-24 03:27:52.775494+00', '2025-11-24 09:50:46.04407+00', '2025-11-24 09:50:46.04407+00', 'draft', 't', 'pending', NULL, NULL, NULL);
INSERT INTO "public"."experience_records" VALUES ('33e13711-14d1-4648-b9ad-37473445bb9d', '56a568d5-7dcd-4793-af1b-6f10a9d688fa', 'Tailwind 样式失效：缺�?PostCSS 配置', '手绘卡通风格的 UI 已按规范更新，但浏览器中所有粗边框、圆角和卡片样式完全没有生效，用户多次反馈“页面没有任何变化”，导致项目验收被阻塞�?, '项目里完全缺�?`postcss.config.js`，Next.js 无法在构建阶段运�?Tailwind CSS 插件，导致所有自定义样式类被忽略，页面只能显示默认样式�?, '- 新增 `postcss.config.js`，启�?`tailwindcss` �?`autoprefixer` 插件�?
- 清理 `.next` 缓存并重�?`npm run dev`，强制重新编译样式�?
- 追加一�?`/test-style` 临时页面验证 `border-[5px]` 等原子类是否生效，确认后再删除测试文件�?
- 指导用户使用硬刷新清除浏览器缓存，确保看到最新样式�?, '项目使用 Next.js 15 + Tailwind CSS，自定义了大�?`border-[5px]`、`rounded-3xl` 等类名。缺�?PostCSS 配置使得 Tailwind 根本未被执行，之前所有视觉改造在浏览器上都不可见�?, 0, 0, 0, '''/test-style'':38 ''15'':48 ''3xl'':56 ''5px'':41,53 ''autoprefix'':28 ''border'':40,52 ''css'':19,50 ''dev'':35 ''next'':31 ''next.js'':16,47 ''npm'':33 ''postcss'':4,59 ''postcss.config.js'':15,24 ''round'':55 ''rounded-3xl'':54 ''run'':34 ''tailwind'':1,18,49,61 ''tailwindcss'':26 ''ui'':7 ''�?':27 ''临时页面验证'':39 ''之前所有视觉改造在浏览器上都不可见'':63 ''但浏览器中所有粗边框'':9 ''启用'':25 ''圆角和卡片样式完全没有生�?':10 ''导致所有自定义样式类被忽略'':21 ''导致项目验收被阻�?':13 ''已按规范更新'':8 ''强制重新编译样式'':36 ''手绘卡通风格的'':6 ''指导用户使用硬刷新清除浏览器缓存'':44 ''插件'':20,29 ''新增'':23 ''无法在构建阶段运�?':17 ''样式失效'':2 ''根本未被执行'':62 ''清理'':30 ''用户多次反馈'':11 ''确保看到最新样�?':45 ''确认后再删除测试文件'':43 ''等原子类是否生效'':42 ''等类�?':57 ''缓存并重�?':32 ''缺失'':3 ''缺少'':58 ''自定义了大量'':51 ''追加一�?':37 ''配置'':5 ''配置使得'':60 ''页面只能显示默认样式'':22 ''页面没有任何变化'':12 ''项目使用'':46 ''项目里完全缺�?':14', '[-0.02536221,-0.013345996,-0.01583211,-0.019532371,-0.009693915,0.013374904,0.029505733,0.008826666,-0.031452224,0.01622719,0.010869519,-0.025844015,-0.009327743,0.005362489,0.000686572,-0.0032883184,0.0090916585,0.013278543,0.05504139,-0.039084014,-0.012854555,0.005502212,-0.017306432,0.0063405526,-0.011919853,0.039450187,-0.016092284,-0.0031100507,0.01899275,0.03790841,0.007882329,-0.0057431147,0.048720114,-0.033475805,-0.021970304,-0.046715803,0.017643696,-0.0161501,-0.018530216,0.0072174375,-0.012131847,0.010541892,0.022008847,0.0011346505,0.009477102,-0.0024812953,0.02412879,-0.034458686,0.014357787,-0.02272192,-0.01180422,-0.026345093,0.033996154,-0.014849227,0.032011118,0.018761484,0.014049431,-0.050762966,-0.037889138,-0.00040050034,-0.065602556,-0.007540247,-0.040510155,-0.0069331727,0.008267772,0.05153385,-0.018482037,-0.009963726,0.0032810913,-0.05045461,0.030565703,-0.0035798105,-0.034728497,-0.048411757,-0.060167797,0.025728382,-0.00048029926,0.011052605,0.013943434,-0.003134141,0.0015417757,0.021912487,0.03825531,-0.01005045,0.0067163603,0.016246462,-0.0067838132,0.03862148,0.027250886,-0.0117174955,0.020389983,-0.0041627944,0.043400988,-0.06880174,-0.021970304,0.004500058,0.0040013897,-0.03307109,0.04613764,0.025978921,0.02632582,0.047679413,-0.006176739,-0.031799123,0.045944918,0.033996154,0.05245892,-0.020081628,0.008161775,-0.043323897,0.01613083,-0.018954204,-0.0076366076,-0.0056467536,-0.029891176,0.0015068449,-0.004288064,-0.055234116,-0.0009377128,-0.00041495447,0.05203493,-0.012440203,0.02430224,-0.020158717,0.030777698,-0.012507656,0.0040013897,0.048141945,-0.0505317,0.03432378,0.030507887,0.011823492,0.006769359,0.03966218,-0.036385905,0.010464802,-0.022259386,0.014858863,-0.008017234,-0.052073475,0.060784508,0.016728267,-0.015119038,-0.060668875,0.00844604,-0.03141368,0.035422295,0.022008847,0.0125269275,-0.037966225,-0.032570012,0.0036039008,-0.0422832,-0.005468486,0.0587802,-0.038448032,0.026190914,0.019146927,-0.025150217,0.016285006,-0.059088554,0.031972572,-0.040510155,0.010300989,0.02368553,0.005897292,0.044942763,-0.024784045,-0.03644372,-0.013981978,-0.02017799,-0.013895254,0.053306896,-0.018318223,0.025150217,0.021045238,0.039161105,0.017778601,-0.014637233,-0.008388223,-0.04351662,0.04116541,0.045520928,-0.047139794,0.00036948413,-0.02879266,-0.024706956,-0.054617405,-0.047949225,0.04370934,-0.06379097,-0.02385898,0.052227654,0.020640522,-0.004348289,-0.0075354287,0.024360057,-0.0319533,0.013663988,-0.027578512,0.009347015,-0.005820203,-0.04440314,-0.042861365,-0.015861018,-0.020775428,-0.011071877,-0.05974381,0.044017695,-0.003815895,0.01613083,0.0188193,0.020794699,0.024070973,-0.036809895,0.06028343,-0.037946954,0.035113942,-0.023126636,0.00053480343,0.0074776122,-0.014087976,-0.008205137,-0.0048180493,0.034343053,0.031182414,0.040124714,3.2822958e-05,-0.01632355,-0.032955457,-0.0340347,-0.0033581802,0.024070973,0.007053624,0.06421496,-0.010532255,0.0033846796,-0.03193403,0.012334205,0.01607301,-0.0069139004,-0.05696861,0.041088324,0.035923373,-0.03958509,-0.038120404,0.043362442,-0.000990109,-0.0018477219,-0.036270272,0.0038688935,0.037310973,-0.040664334,0.00943374,-0.015485209,0.03904547,0.006663362,-0.015456301,0.0018850617,-0.035576474,0.021507772,-0.00026273425,0.014309606,0.0044711498,0.030989692,0.030777698,0.02185467,-0.013519445,-0.006658544,-0.008662852,-0.049876444,-0.029467188,0.00568048,-0.003553311,-0.01773042,0.020332167,-0.011630771,-0.033822704,0.08140576,-0.015600843,-0.025246577,0.018009868,0.041126866,0.024822589,0.05211202,0.026479999,-0.0072029834,-0.019397466,0.028715573,-0.009019388,0.009718005,0.04818049,0.07670334,0.0033268628,-0.016574088,-0.014165064,0.0032690463,-0.17622496,-0.020081628,0.038313128,-0.07627935,-0.00807505,0.0061960113,-0.06664325,0.013760348,-0.036462996,0.039180376,-0.026036737,-0.048643023,0.05662171,-0.00982882,-0.0039483914,0.026749808,-0.039546546,0.0024114335,0.04131959,-0.01908911,-0.03862148,-0.007776331,0.021681221,-0.04721688,-0.03062352,-0.052073475,0.0738896,0.009713187,-0.04482713,0.0040688426,0.0019862407,0.014271062,-0.016015194,0.01689208,0.010194992,-0.026595632,0.029871905,0.006080378,0.00706326,-0.035942648,0.042244654,0.041473765,-0.003546084,0.022143753,0.012074031,-0.036135368,0.01689208,0.011996943,0.03131732,0.0074005234,-0.006282736,0.011987306,-0.009428922,-0.031432953,-0.0161501,0.035422295,-0.005757569,0.005882838,-0.039700724,-0.00842195,-0.013500174,-0.088266656,0.041435223,-0.013153274,-0.023993885,0.002753515,-0.030681336,-0.011910218,0.029968265,-0.052227654,0.01583211,-0.033495076,0.0032810913,0.00063236896,-0.031991847,0.015167219,0.0046036458,-0.047448147,-0.0146083245,-0.114168495,0.038313128,0.011592226,0.004326608,0.0039724815,-0.026826898,-0.0062441914,-0.003823122,-0.019464917,0.030334437,0.20567288,0.019946722,-0.001102731,-0.018906025,0.057084247,-0.013230363,-0.0066681798,0.024552777,0.05361525,-0.020120174,-0.01723898,0.0076028816,0.0027101527,-0.005126404,0.02281828,0.01931074,-0.034555048,0.036713533,0.043979153,-0.041743577,0.016680086,-0.026730536,0.012835283,0.05114841,-0.08572273,-0.0026137917,-0.008344861,-0.0067067244,0.007106622,-0.0015357531,-0.067182876,0.05423196,0.056737345,-0.025111672,-0.05719988,-0.026017465,-0.0018441083,-0.04212902,-0.015215399,0.001469505,-0.016246462,-0.021122327,-0.0013068959,0.07331143,0.014781775,-0.0042736097,0.019069837,-0.006860902,0.005598573,-0.05307563,0.01412652,-0.033841975,-0.027925413,-0.016313914,-0.070304975,-0.04448023,0.0006642885,-0.061324127,-0.036462996,0.023088092,-0.015061221,0.013548354,-0.04571365,0.008629126,-0.0065621827,0.008874847,0.006080378,0.01447342,0.032666374,0.04185921,0.0017549744,0.015090129,-0.0049722265,0.0043627433,0.008079869,-0.03226166,0.038293853,0.064369135,-0.041627944,0.02289537,-0.05951254,0.056043547,-0.06263464,0.013779621,-5.0965926e-05,-0.0041025686,-0.0042471103,0.04440314,-0.0372917,-0.06348261,-0.012979824,-0.0024042064,0.023916796,0.049182646,-0.004500058,-0.005608209,0.010387714,-0.037522968,-0.0019621504,-0.042090476,-0.061169952,-0.0072993445,-0.021103054,-0.06140122,0.009342197,-0.03474777,0.04151231,0.008306317,-0.0037098979,-0.009886636,-0.055889368,0.016978806,-0.013866345,-0.016352458,-0.024417873,0.020043084,-0.003042598,0.0105708,0.06880174,-0.011910218,-0.010946607,0.03536448,0.013191818,0.014136156,-0.027694147,-0.0071162586,-0.0074246135,-0.013615807,-0.071384214,0.011466957,0.006186375,-0.02491895,-0.03607755,0.058047857,-0.00041435222,-0.016612634,0.029062472,0.014425239,0.0247455,-0.004324199,-0.002751106,-0.045944918,0.037946954,0.013384541,0.012353478,0.043670796,0.0152346715,-0.009404832,-0.024629867,0.027482152,0.038756385,0.071037315,-0.0020838063,-0.053114172,0.0029655092,-0.051379677,-0.01750879,-0.009954089,-0.0243986,-0.021083783,-0.014357787,0.0103973495,0.028484305,0.02449496,0.03607755,0.02701962,-0.059820898,0.028927566,-0.0412425,-0.01565866,-0.023666257,-0.043323897,-0.031529315,0.055658102,0.002010331,0.020640522,-0.039199647,0.00058810314,0.038910564,-0.007959417,0.01827968,0.00035442773,-0.030488614,-0.02859994,0.021604132,0.0002118436,0.0013635079,-0.019368557,-0.0025077946,-0.06406078,-0.045906372,0.11995015,-0.031895485,3.4083932e-05,0.05581228,-0.02412879,0.053037085,0.04933682,-0.033379443,-0.005593755,0.01852058,-0.025227305,-0.016824627,0.02545857,0.016236825,-0.017971324,0.0117174955,0.013191818,-0.036790624,-0.028985383,-0.0038640753,0.004418151,-0.041126866,-0.011592226,0.046561625,-0.012334205,0.058279123,0.0066296356,0.015215399,0.00372917,-0.021816127,-0.010647888,0.0027776053,0.00901457,0.030893331,-0.009650553,0.005376943,0.0067597227,0.005887656,-0.022085937,-0.0036809896,0.026653448,0.009843274,-0.023434991,0.04008617,0.0057238424,0.049491,0.017210072,0.008113595,-0.009371106,0.014926316,0.015764657,0.032704916,-0.015861018,-0.021796854,0.035846286,-0.022876097,-0.01711371,0.033283085,0.0419363,0.023839707,-0.0024837044,0.031914756,0.0054251235,0.02545857,0.0062393737,-0.026537815,-0.049105555,0.021661948,-0.03484413,-0.014010887,0.05423196,-0.0025270667,-0.009896273,-0.01790387,-0.07670334,0.04274573,-0.030238075,0.011148966,-0.04929828,-0.02447569,-0.017046258,0.0027125617,-0.030488614,0.04633036,0.01360617,-0.020582706,-0.019888906,0.0422832,-0.01662227,-0.06961118,-0.03457432,-0.026865441,0.008455676,0.020467073,0.018578397,0.04405624,-0.006398369,0.006359825,-0.025824742,-0.0046494175,-0.018000232,-0.017306432,0.027231613,-0.025940375,0.02299173,-0.04185921,0.02351208,-0.014820319,0.037137523,-0.021199416,0.032223113,-0.050608788,-0.025554933,-0.03553793,0.023338629,0.0143770585,0.008070232,0.015677933,0.023454264,-0.026961803,-0.0204478,0.029698454,-0.0023897523,0.01145732,-0.0058298395,0.07585537,-0.013326724,0.01232457,-0.022625558,0.014945588,0.0116693145,-0.026595632,-0.016468091,0.011939126,-0.0035725834,0.033456534,0.0007467976,-0.01973473,0.012054759,-0.008311135,-0.031741306,-0.003938755,-0.045867827,-0.00027477936,0.010339533,0.04328535,-0.0151864905,0.021449955,-0.0024114335,-0.026672719,-0.039064743,0.0020163537,-0.017200435,-0.0014008478,-0.053229805,-0.023589168,7.796394e-06,-0.018231498,0.006986171,0.012710013,-0.010744249,-0.022702647,-0.046484537,0.008383405,0.0117174955,-0.04282282,0.035923373,0.001822427,0.050647333,-0.014656506,0.08294753,-0.023107363,0.008243682,-0.00037701233,0.010310625,0.023974612,0.022702647,0.0053191264,0.008301498,-0.0340347,-0.011341687,0.005699752,0.027944684,0.007949781,0.0102239,-0.06302008,0.0020428528,0.0111393295,0.014232517,-0.05153385,0.012729285,-0.0018392903,-0.04544384,0.017701512,0.02202812,-0.02703889,0.011775312,0.011120058,0.04351662,-0.018058049,0.029255195,-0.0076173358,0.058394756,-0.14608325,0.020563433,0.03000681,-0.00014981121,0.004442241,0.005189039,0.013239999,-0.009395196,0.00097324594,-0.05403924,-0.038852748,-0.023569897,0.06949554,-0.047872137,0.021777581,0.023011003,-0.0027920594,0.026268004,0.02035144,0.008677307,0.0058346572,-0.006388733,0.02202812,0.0043675615,-0.016901717,-0.03850585,-0.025554933,0.023589168,-0.012498019,0.021372866,-0.02894684,0.012883463,0.011120058,0.028330129,-0.0067259967,-0.032242384,0.020736882,0.013345996,-0.02447569,-0.018106228,0.051803663,0.031028235,-0.054116327,-0.026672719,0.001032267,0.08487475,-0.023338629,-0.0010190174,-0.047756504,-0.027520696,-0.009597554,0.0026427,-0.021527043,0.014338514,-0.028368672,0.014059068,-0.0029968265,-0.009534919,-0.03904547,0.034555048,-0.023801163,0.030970419,-0.060938686,-0.04729397,-0.064407684,0.0041483403,-0.033398718,0.04343953,-0.030045355,-0.015494846,-0.026094554,-0.012999097,-0.00943374,-0.015783928,0.018607305,0.027058164,-0.0037604873,-0.02975627,0.03203039,-0.011438048,-0.022259386,0.012035486,-0.05885729,0.0024367282,0.060399063,-0.021719765,-0.029351555,-0.0003658706,-0.027559241,-0.0045675104,-0.024205878,-0.0078100576,0.02220157,0.01000227,0.014878135,-0.02281828,0.0038568482,0.00056913204,0.008002779,0.0030233257,-0.014772139,0.0030907786,0.011919853,0.009159111,-0.03401543,0.030160988,0.019965995,0.055850826,0.05650608,-0.044942763,-0.0491441,0.02299173,-0.06652762,-0.008320771,-0.039026197,0.026441453,0.014772139,0.02289537,-0.0072463457,0.012748558,0.05342253,0.012700377,0.044248965,-0.046099093,0.037522968,0.003338908,0.04027889,0.031163141,0.004808413,-0.025477843,0.025554933,-0.03307109,-0.025978921,0.033649255,-0.006581455,-0.004830094,-0.0060225613,0.04791068,-0.016246462,0.015051586,-0.03045007,-0.04316972,0.025689838,-0.034767043,0.017653331,-0.005588937,0.018491672,0.01716189,-0.032762732,0.017990595,0.028754117,0.026557086,0.008831484,0.015032313,-0.05388506,0.014242153,0.019908179,0.024764773,-0.0063164625,0.025632022,0.018000232,-0.039508004,-0.028387945,-0.00459401,0.0034039516,0.03474777,-0.001521299,0.022606287,0.009963726,0.026614903,-0.009250654,0.023743346,-0.010696069,0.011466957,0.0036978526,-0.048219036,0.030931875,-0.018973477,0.028619211,-0.026383637,0.043478075,0.029428644,0.02360844,0.039238192,0.0019079475,0.0053335805,-0.011650043,-0.0054540318,0.034632135,-0.024321511,-0.016757175,-0.031741306,-0.033148177,-0.007887146,0.018751847,-0.02106451,0.008773668,-0.027270159,0.012218572,0.059088554,0.05134113,-0.0087784855,-0.0067115426,-0.0074390676,-0.0047554146,-0.019648004,-0.04370934,-0.022606287,0.013981978,0.080480695,-0.021777581,0.0065188203,0.0048469575,0.026672719,0.008301498,0.003632809,-0.011842765,0.003945982,0.0191662,-0.009867365,0.01276783,0.014059068,-0.032994,-0.025728382,-0.026711265,0.0011533205,0.029178105,0.009443376,0.013461629,0.002857103,-0.028349401,0.0128738275,-0.0005757569,0.004991499,0.0810974,-0.008209956,-0.0254393,0.014222881,-0.021488499,0.043400988,0.053383984,0.006923537,-0.004509694,-0.005208311]', 't', '2025-11-19 17:03:01.275326+00', '2025-11-19 17:03:01.275326+00', NULL, 'published', 'f', 'pending', NULL, NULL, NULL);
INSERT INTO "public"."experience_records" VALUES ('84e1d843-10d3-4460-991b-76a4cd9c685d', '886bb63d-44d6-491b-bfcf-b5d5c14124e2', 'Next.js 构建时数据库配置导致 Docker 构建失败', 'Next.js应用在本地命令行打包没有问题，但在Docker构建过程中，Next.js应用的构建阶段失败，错误信息显示数据库URL环境变量未设置。这导致整个Docker镜像构建过程中断�?, 'Next.js在构建时会预渲染页面和API路由，这个过程中会执行数据库连接检查。由于Dockerfile中没有正确设置DATABASE_URL环境变量，导致构建失败。同时，文件复制路径的错误也影响了构建过程�?, '1. 在Dockerfile的构建阶段添加正确的DATABASE_URL环境变量�?
2. 修正Dockerfile中的文件复制路径，确保Next.js应用文件被正确复制到容器中�?
3. 优化Dockerfile结构，分离依赖安装和构建步骤，提高构建效率�?
4. 创建一个启动脚本来管理多个服务的启动，避免端口冲突�?, '项目使用Next.js框架开发Web应用，并使用Docker进行容器化部署。应用包含前端（Next.js）和后端（MCP服务器）两个部分。在开发过程中，需要确保Docker构建过程能够正确处理Next.js的预渲染和API路由，同时管理多个服务的启动�?, 0, 0, 0, '''1'':20 ''2'':23 ''3'':27 ''4'':31 ''docker'':3 ''js应用文件被正确复制到容器�?':26 ''js框架开发web应用'':35 ''js的预渲染和api路由'':44 ''mcp服务�?':40 ''next.js'':1,5,8,12,38 ''url环境变量'':16,22 ''两个部分'':41 ''优化dockerfile结构'':28 ''但在docker构建过程�?':7 ''修正dockerfile中的文件复制路径'':24 ''分离依赖安装和构建步�?':29 ''创建一个启动脚本来管理多个服务的启�?':32 ''同时'':18 ''同时管理多个服务的启�?':45 ''和后�?':39 ''在dockerfile的构建阶段添加正确的databas'':21 ''在开发过程中'':42 ''在构建时会预渲染页面和api路由'':13 ''导致构建失败'':17 ''并使用docker进行容器化部�?':36 ''应用包含前端'':37 ''应用在本地命令行打包没有问题'':6 ''应用的构建阶段失�?':9 ''提高构建效率'':30 ''文件复制路径的错误也影响了构建过�?':19 ''构建失败'':4 ''构建时数据库配置导致'':2 ''由于dockerfile中没有正确设置databas'':15 ''确保next'':25 ''这个过程中会执行数据库连接检�?':14 ''这导致整个docker镜像构建过程中断'':11 ''避免端口冲突'':33 ''错误信息显示数据库url环境变量未设�?':10 ''需要确保docker构建过程能够正确处理next'':43 ''项目使用next'':34', '[-0.01004642,0.013429589,-0.030176744,0.0065507903,-0.04314712,0.05731707,-0.0018427026,0.007333324,-0.012754829,-0.0013811484,0.009587208,-0.014432356,-0.0013553763,-0.023279203,0.0048873206,0.032725837,0.04985723,0.023785273,0.042434875,-0.008073685,-0.00057752855,-0.016194228,0.04487151,0.01208007,-0.015285177,0.009301373,-0.01784364,-0.0021144808,0.010346312,0.016184857,0.010374428,-0.029858109,0.020167813,-0.012061326,-0.012520538,-0.07283654,-0.013617022,-0.0061806096,-0.012857918,0.05495541,-0.009699668,0.023016797,-0.0023640012,-0.014029375,0.02455375,-0.014198065,0.0045874277,-0.026334364,0.009282629,-0.028321156,-0.066088945,0.027027868,0.016503492,-0.018359082,0.058854025,0.017403172,0.002094566,-0.046670865,-0.033363108,0.036380783,-0.05251878,-0.007548872,-0.013054722,0.04951985,-0.021835968,0.039510917,-0.028658535,-0.036287066,-0.02179848,-0.055517714,0.0063492996,0.017018935,-0.017384429,-0.05008215,-0.02980188,-0.007277094,0.034225304,-0.018218506,0.0434845,0.0017150138,-0.0053559034,-0.025134793,0.05019461,-0.008645357,0.01789987,-0.0037018056,-0.050606962,0.033869177,0.050494503,0.0057729427,0.034468964,-0.019286877,0.016569095,-0.036287066,-0.028508589,0.044121776,-0.004859206,-0.030682815,0.10503756,-0.00544962,-0.013251527,0.0071786917,-0.013223412,0.0024061736,0.027290273,0.029164605,0.051394183,0.011583372,-0.012558024,-0.016897103,0.016672183,-0.033850435,0.02151733,-0.009699668,0.0053231027,-0.016878359,-0.018415311,-0.02151733,0.004350793,-0.020673882,0.046783324,-0.016550351,0.09709039,-0.047945414,-0.008828104,0.016690927,-0.0046202284,0.031488776,-0.013082837,0.02241701,0.020580165,-0.005622996,-0.0010109678,0.0014174635,-0.036736906,0.030926477,-0.02061765,-0.00064957316,0.040747978,-0.022660673,0.030626584,-0.009306058,0.04258482,-0.015781876,0.03744915,0.017234482,0.04787044,0.0043906225,0.022229576,-0.0824706,-0.02760891,-0.006485189,0.04562124,0.008322034,0.026203161,-0.0054261913,0.009849614,-0.02505982,0.015631929,0.031994846,-0.035424873,0.015575699,-0.035593566,0.03246343,0.043746907,-0.0013413188,-0.00043343927,0.0074270405,-0.060765844,0.0018532458,-0.035743512,0.018555887,0.04138525,-0.0019457908,0.02230455,0.03669942,0.073773704,-0.014141834,0.009231085,-0.011152275,-0.04442167,0.0067944536,0.027683884,-0.016119255,-0.023185486,-0.021835968,-0.02789006,-0.058291726,-0.022773134,0.021086235,-0.059416324,-0.04397183,0.07508574,-0.0055339653,-0.019343106,0.026409337,0.029501986,-0.018134162,0.0068506836,-0.017309455,-0.037355438,0.02929581,0.03268835,0.010702436,-0.029520728,-0.0064570736,-0.06961269,-0.05945381,0.019399336,-0.04921996,0.012164415,-0.04127279,-0.0220234,0.042097498,-0.038236372,0.04206001,-0.002453032,0.015819361,-0.008565697,-0.011142904,-0.02207963,0.01349519,0.024497518,-0.011564628,0.06335242,0.011883264,0.059416324,0.017759295,0.003889239,-0.031526264,0.009830872,-0.0054871067,-0.023897734,-0.054505575,0.056192473,-0.0468583,-0.0005488278,0.012586139,-0.007084975,-0.028958429,-0.015172717,-0.043559477,-0.0073098945,0.018883895,-0.031751182,0.02292308,0.011049187,0.038311347,-0.017778039,0.019999122,0.0054871067,0.01840594,-0.0009354088,-0.032538403,-0.001889561,0.0020465362,-0.0125486525,0.01196761,0.00076906185,-0.03313819,0.026859177,0.030420408,0.0036526045,0.006424273,0.002148453,0.0070053157,-0.0135607915,-0.007797221,-0.026746716,-0.0016376976,-0.021461101,-0.0016306688,0.053043596,-0.0069959443,-0.033831693,0.026128188,-0.007441098,-0.031826157,0.066988625,0.068525575,-0.018527772,0.016100511,0.031132653,0.025884524,0.025378454,0.016175484,0.012857918,-0.0063961577,0.002645151,0.00050636247,0.011302222,0.020392733,0.0757605,-0.0092263995,-0.020636395,0.0043953084,0.004383594,-0.1548948,-0.042809743,0.031113911,-0.009680925,0.005149727,0.0057541993,-0.026334364,0.027234044,-0.013973145,0.049144983,0.0043953084,-0.05915392,0.029145863,-0.011489655,0.007361439,-0.0066538784,-0.030120514,0.00015141087,-0.0041422737,-0.027702626,-0.0013038322,-0.00089382206,-0.00029227865,-0.0094513185,-0.004496054,0.00025830636,0.025715835,0.04071049,-0.007361439,0.00573077,-0.029014658,-0.025097305,-0.0021121379,0.03229474,-0.013101581,-0.010065163,0.035143726,-0.02935204,-0.030158002,-0.015350779,0.009718412,0.060503434,-0.0019750772,-0.022716904,0.03549985,-0.020898802,0.0051169265,-0.022848107,-0.019380592,-0.02528474,0.014310525,0.020748856,0.016953332,-0.042322416,-0.012061326,-0.012155043,-0.02054268,0.017178252,-0.060503434,0.004688173,0.011611487,-0.031769928,0.05825424,-0.0023921162,-0.021929685,-0.006321185,0.021892197,-0.007328638,0.031863645,-0.050606962,0.020598909,-0.030870248,0.0123143615,-0.0016704984,-0.014750993,0.012689227,0.00179233,-0.027533937,0.0011204991,-0.101213925,-0.010280711,0.0028747567,0.018312223,0.02387899,-0.05199397,-0.0028161837,-0.01377634,-0.012445564,0.022323294,0.19058208,-0.00091432256,0.013214041,-0.029726906,0.061665524,-0.029277066,0.0045077684,-0.0024998903,0.050794397,-0.060053598,0.0057120267,0.011171019,-0.013035979,-0.02241701,0.012726714,0.04161017,-0.02704661,0.038648725,0.052743703,-0.03924851,0.018443426,0.033438083,0.0190807,0.04273477,-0.030589098,-0.06578905,-0.01834971,-0.0053699613,-0.019174416,0.02794629,-0.049032524,0.026952894,0.046783324,-0.06485189,-0.05540525,-0.045883648,0.04104787,-0.0063305562,-0.0057541993,-0.004355479,-0.010880497,-0.028714767,0.0018157591,-0.0041938177,-0.00025464557,-0.040110704,0.0024155453,-0.044196747,0.0025514343,-0.03490006,0.0008088914,-0.030026799,-0.011592743,-0.007553558,-0.0037814646,-0.039061077,-0.0020641082,-0.003886896,-0.034356505,0.014835337,-0.002970816,0.010336941,-0.06755093,0.068413116,0.015285177,0.030045541,0.032444686,-0.025265995,0.047907926,0.03992327,-0.002586578,-0.0030129887,0.04487151,-0.045883648,-0.028827226,-0.03748664,0.04487151,0.11433425,-0.098664835,0.05296862,-0.015079001,0.00507944,-0.039473433,0.030307949,0.012408078,0.0043648505,0.0042313044,0.05030707,-0.016381662,-0.038761184,-0.053943273,0.007220864,0.02654054,0.054393113,-0.019886661,0.021161208,-0.008771874,-0.018780807,0.0045265118,-0.022379523,-0.04442167,0.0036268323,-0.03302573,-0.0036315182,0.0040462143,-0.065301724,0.022660673,0.009062395,0.012501794,-0.014619789,-0.059416324,0.013804455,-0.03669942,-0.020074096,-0.028752252,0.0014561217,0.03325065,-0.0053699613,0.034525193,0.029708162,0.009652809,-0.0020078782,-0.0057729427,-0.01913693,-0.0073989253,-0.026109444,-0.011864522,-0.014385498,-0.06410215,0.020505192,0.08119606,-0.023579096,-0.014488586,0.018658975,0.005557394,-0.009727783,0.039473433,0.0272153,-0.024647465,0.026840433,-0.054580547,-0.030083029,-0.01411372,0.017196996,-0.00011165454,-0.014938426,0.009887101,0.00052071287,-0.0014490929,0.011545885,0.02755268,0.055480227,-0.029033402,-0.029651932,-0.0042828484,-0.02580955,-0.0126611125,-0.008579754,0.051918995,-0.0030739044,-0.007295837,0.009868358,0.04239739,0.019680485,0.071974345,0.011217877,-0.036736906,0.058066804,-0.012951634,-0.020299016,-0.002399145,-0.06458948,-0.052706216,0.069425255,-0.0020102211,-0.0110866735,-0.058479156,-0.019324362,0.0036572902,-0.0026310936,0.045246374,-0.017599978,-0.019436823,-0.033231907,0.033962894,0.015931822,0.005983805,-0.027084097,0.016878359,-0.022117117,-0.011320965,0.124455646,-0.03270709,-0.007830022,0.04138525,0.025490915,0.06653879,0.06147809,-0.026784204,0.036661934,0.022960566,-0.031432547,-0.030232975,0.020748856,0.051956482,-0.04014819,-0.01677527,-0.018377826,-0.051956482,0.031807415,-0.011414682,0.019436823,-0.08869339,-0.014507329,0.032857038,-0.014544816,0.04295969,0.030251717,0.016325431,0.0050560106,0.0065648477,-0.01936185,0.029277066,-0.010777409,-0.007600416,-0.045246374,0.0474206,-0.016381662,0.057467017,0.0054871067,-0.002450689,0.038536265,-0.0033901979,-0.030645328,0.012286246,0.0434845,-0.009329488,0.011695831,-0.003113734,-0.0007954196,-0.028920943,0.01163023,0.043297067,0.042659797,0.0055901953,0.025340969,-0.04059803,-0.003915011,0.016222343,0.038686212,0.0016810414,-0.03274458,-0.027421476,0.026409337,0.0690129,0.023297947,-0.0007274751,-0.017656207,-0.029858109,-0.06736349,-0.011555256,0.00056991406,0.008373578,-0.005205957,0.007277094,-0.0496698,0.048695143,-0.067775846,0.0042008464,-0.046783324,-0.0033316251,0.007305209,0.017759295,-0.012258131,0.0062368396,-0.031432547,-0.04269728,-0.009999561,0.021779738,-0.006522675,-0.07189938,0.024347572,0.016400404,0.033456825,0.0035143725,0.037299205,0.057279587,-0.006803825,-0.012792315,-0.01840594,0.0078112786,-0.00013076395,-0.009591894,-0.0054261913,-0.006222782,-0.00093658024,0.0076425886,-0.013645137,-0.007553558,0.06046595,-0.01722511,-0.008771874,-0.018593373,-0.014601046,-0.038011454,0.027365247,-0.016269201,-0.021985915,0.053268515,0.027908804,-0.0066210777,-0.029820621,0.03133883,0.029108375,0.055817608,0.036099635,0.07010002,-0.04974477,0.014554188,-0.024891129,-0.006499246,0.035256185,-0.034468964,-0.013251527,0.0041774176,-0.0064055296,0.030382922,0.009385717,-0.034637656,-0.027740113,-0.029164605,-0.009076453,-0.0033808262,-0.03924851,-0.01304535,-0.052743703,-0.011667716,-0.041985035,0.024066422,-0.010411914,0.00133429,-0.057504505,0.009507549,-0.013026607,-0.012333104,-0.01682213,0.01264237,-0.014985284,-0.017243855,0.00092838006,0.016353546,-0.0022749705,0.01004642,-0.039848298,0.0061337515,0.01682213,-0.0062977555,0.042097498,0.033962894,0.0248349,-0.0062415255,0.026690487,-0.00082822045,-0.0057963715,0.008823418,-0.024272598,0.020973776,0.0022257692,0.029239578,-0.00782065,-0.011545885,-0.02219209,-0.0065461043,0.01580999,-0.03649324,0.0022023402,-0.029483242,0.016100511,0.024966102,0.014029375,-0.05956627,-0.014085605,-0.010168251,-0.0069444,-0.04940739,-0.023391662,-0.018490285,-0.028958429,0.023616582,0.034862574,-0.015275805,0.020149069,-0.014713506,0.018190391,-0.11958238,0.021648534,-0.02303554,0.040747978,-0.0063774143,-0.0040813577,0.017028306,-0.024891129,0.007689447,-0.03456268,-0.039098565,-0.0010168251,0.029820621,-0.030401664,0.021629792,0.02528474,-0.013579535,0.016400404,-0.008729701,-9.0568305e-05,-0.013823198,-0.005702655,-0.01089924,-0.018359082,-0.0381614,-0.07268659,-0.00446091,-0.006363357,-0.013729482,-0.007131833,-0.006813197,-0.024628723,0.023241717,0.0446091,-0.03077653,-0.016503492,0.002813841,-0.035312414,-0.026653001,0.00088327896,-0.0035916886,0.01750626,0.022285808,-0.008373578,0.044121776,0.003919697,-0.045771185,-0.011255364,-0.050944343,0.001859103,-0.027421476,0.035706025,-0.0381614,-0.0087765595,-0.026071958,-0.037636586,-0.031038938,-0.019774202,-0.07231173,0.0024858327,-0.021760995,0.024759926,-0.045546267,0.006199353,-0.038423806,0.012445564,-0.005726084,0.038573753,0.0005315488,-0.008982736,-0.02432883,-0.09926462,-0.0014736935,-0.013645137,0.02174225,0.007502014,0.00028671423,-0.032275997,0.03139506,0.0037275776,-0.03789899,0.0075066998,-0.052368835,0.028583562,0.10023928,-0.0018801893,0.014413613,0.0027622967,-0.0024717753,-0.01913693,-0.026653001,-0.015660044,0.010037048,-0.055367768,-0.026334364,0.054280654,-0.01360765,0.007520757,0.016981447,-0.030064285,-0.0043999944,0.012276875,0.038948618,0.0030739044,0.0037392923,0.043784395,0.035424873,0.032669608,0.008757816,-0.026503054,-0.0009863672,-0.02359784,-0.034300275,-0.019099442,-0.063389905,0.035780996,0.0040766723,0.043821882,-0.008818732,0.03218228,0.012792315,0.00864067,0.034244046,-0.030101772,-0.0049482365,-0.014760364,0.030870248,0.010796152,-0.01812479,-0.016325431,0.027646396,-0.041310277,-0.051244237,0.03133883,0.036324553,0.0038962676,-0.04063552,0.03538739,-0.035199955,0.026296878,-0.020411475,-0.0024460033,0.02219209,-0.021723507,0.011639602,-0.05210643,0.0014561217,-0.031376317,0.009755898,-0.019511797,-0.00892182,-0.019605512,-0.00036637334,0.0035776312,-0.032500915,0.040523056,0.02151733,-0.011320965,-0.04873263,0.030720301,0.022904336,-0.0018567601,-0.039885785,-0.022660673,-0.004130559,0.0220234,0.010917984,0.016072396,-0.009643438,0.0329695,-0.014779108,0.036455758,-0.012961006,-0.011845778,0.016128626,-0.063389905,0.0521814,-0.0036151179,0.0387237,-0.011386567,0.024422545,-0.015744388,0.043784395,0.004627257,0.0024155453,-0.006086893,0.029726906,0.013701367,0.01252991,0.0069818865,-0.05398076,0.005777628,0.024141395,-0.008279862,-0.0002219912,-0.016119255,-0.004320335,0.011499027,0.02320423,0.07261162,-0.0022913709,-0.007080289,0.032444686,-0.027758857,0.009132682,0.008710958,-0.039885785,-0.017703066,-0.036455758,0.056717284,-0.03133883,0.0002651887,-0.00688817,-0.0040954156,0.005182528,-0.059866164,0.015060257,-0.019830432,0.0054261913,0.0027646397,0.02031776,0.0011286993,0.007740991,-0.020692624,-0.04269728,0.032032333,-0.019033842,-0.011077302,0.004489025,-0.019071328,0.00595569,0.01327027,-0.022229576,0.05431814,0.040335625,0.02084257,0.022510728,0.054130707,-0.03596843,0.025509657,0.053380974,-0.0037580356,0.029708162,-0.0016095826]', 't', '2025-11-24 08:18:27.484418+00', '2025-11-24 08:18:27.484418+00', NULL, 'published', 'f', 'pending', NULL, NULL, NULL);
INSERT INTO "public"."experience_records" VALUES ('79406719-a857-42d6-98e0-5b9ff04f9570', NULL, '数据库权限策略缺失导致关键字无法保存', '使用 Recall Kit MCP 服务器提交经验时，经验记录创建成功但关联关键字未保存到数据库，查询接口无法通过关键字检索到经验记录。错误表现：submit_experience 返回成功，但 experience_keywords 表无记录�?, '数据库权限策略配置不完整。experience_keywords 表启用了权限控制但只配置了读取权限，缺少插入权限，导致匿名用户无法插入关键字记录。代码错误处理仅记录日志未抛异常，造成静默失败�?, '修复权限策略：在数据库迁移文件中添加插入权限 - GRANT INSERT ON experience_keywords TO public。为已部署数据库创建新迁移文件应用修复。修复后允许匿名用户插入关键字记录，�?experience_records 表策略一致�?, '技术栈：PostgreSQL, TypeScript, 权限控制。项目：Recall Kit 经验分享平台。相关表：experience_records（已有INSERT策略）和 experience_keywords（缺少INSERT策略）�?, 0, 3, 0, '''experi'':11,14,18,30,37,49,53 ''grant'':27 ''insert'':28 ''keyword'':15,19,31,54 ''kit'':4,46 ''mcp'':5 ''postgresql'':41 ''public'':33 ''recal'':3,45 ''record'':38,50 ''submit'':10 ''typescript'':42 ''�?':36 ''为已部署数据库创建新迁移文件应用修复'':34 ''代码错误处理仅记录日志未抛异�?':23 ''�?':13 ''使用'':2 ''修复后允许匿名用户插入关键字记录'':35 ''修复权限策略'':25 ''�?':52 ''在数据库迁移文件中添加插入权�?':26 ''导致匿名用户无法插入关键字记�?':22 ''已有insert策略'':51 ''技术栈'':40 ''数据库权限策略缺失导致关键字无法保存'':1 ''数据库权限策略配置不完整'':17 ''服务器提交经验时'':6 ''权限控制'':43 ''查询接口无法通过关键字检索到经验记录'':8 ''相关�?':48 ''经验分享平台'':47 ''经验记录创建成功但关联关键字未保存到数据�?':7 ''缺少insert策略'':55 ''缺少插入权限'':21 ''表启用了权限控制但只配置了读取权�?':20 ''表无记录'':16 ''表策略一�?':39 ''返回成功'':12 ''造成静默失败'':24 ''错误表现'':9 ''项目'':44', '[-0.040118676,-0.006697142,-0.006027886,-0.0020616287,-0.02057274,-0.011138983,0.025009997,-0.021232828,0.019069206,-0.009672121,-0.008562807,-0.005615331,-0.022497997,0.011524035,0.007737697,-0.018179921,0.007091361,0.0045289365,0.048443116,0.015548738,0.013834342,0.0045358124,0.021122813,-0.014925321,-0.008576559,0.013696824,-0.002693067,-0.0049919146,0.017244797,-0.014503598,0.015072007,-0.036653213,-0.02400153,-0.013595977,-0.031005796,-0.02130617,-0.023194756,-0.00072311715,-0.01670389,0.02200293,-0.030015664,-0.008906603,0.032325972,-0.037735026,-0.027320305,-0.027577005,0.03307774,-0.0044808052,0.009424589,0.023414785,-0.036396515,-0.009727129,0.037239958,-0.026568538,0.046462853,0.011203159,-0.0430524,-0.0016914753,-0.01674973,0.0107447645,-0.022424653,-0.044849306,-0.027063604,-0.005551156,0.029868977,0.07165621,0.0015906285,0.011459859,-0.0023767748,-0.069125876,-0.016126314,0.060141344,-0.041732226,-0.056987587,-0.06267168,0.031097475,0.0656054,0.014769467,-0.02009601,0.008379449,-0.024093209,-0.017391482,0.032050934,0.051780228,-0.015081175,0.008952443,-0.03580977,0.01058891,0.0141368825,0.022718025,0.04448259,-0.028915517,0.02590845,-0.0515602,0.0041324254,0.0012124531,0.02695359,0.016217994,0.013513466,0.042722356,0.017272301,0.011661553,0.02686191,-0.028365444,0.058931183,-0.0023446872,0.059004523,-0.012981729,0.07495665,-0.0022724902,-0.0312625,0.022718025,0.011010633,-0.0237815,0.017263133,-0.036213156,0.025926786,-0.033939518,0.015246197,0.020646082,0.020774433,0.06802572,0.020737762,-0.019564273,0.01649303,0.022718025,0.00047844913,0.014246897,-0.00052887254,0.02070109,0.04235564,0.0045266445,-0.023983194,-0.039605275,-0.051926915,-0.0134859625,0.0017843001,0.06102146,0.033994526,-0.07077609,-0.009218311,0.023268098,-0.0027343226,-0.02400153,0.030235693,-0.012312473,0.021672886,0.034727957,-0.0027847458,0.012119947,0.0016215701,0.0042653596,0.01506284,-0.018729994,0.042172283,-0.09893984,-0.022773033,0.029832305,0.02851213,-0.0002693067,-0.014384416,0.006270835,-0.027833708,0.069272555,0.044775963,-0.007283887,0.023744829,-0.012495831,-0.006610047,0.008915771,0.02660521,-0.041768897,-0.0012284969,0.0073068063,-0.010836443,0.007114281,0.03949526,0.036689885,0.0143019045,-0.058527794,0.0038000895,0.023488129,0.03861514,-0.038688485,0.0019137965,-0.0019756798,-0.007847711,-0.031354174,-0.007916471,0.03857847,-0.02721029,-0.015924621,0.007343478,0.0030643665,0.0107447645,-0.0007168142,-0.0050469222,-0.045289364,0.02920889,0.011285669,-0.030235693,0.04594945,0.035424717,-0.013045904,-0.02625683,-0.029172217,0.015347044,-0.006376266,0.033334438,-0.039348572,0.030070672,0.017849877,-0.03307774,0.04044872,-0.010836443,-0.0027939137,-0.031757563,0.030529065,-0.025670085,-0.056400843,-0.06054473,0.059517927,-0.04517935,-0.035956454,0.008856179,0.011918254,0.07018935,0.0044005862,0.0147878025,-8.451646e-06,-0.029025532,-0.007251799,-0.008342777,-0.0091266325,0.07103279,-0.00603247,-0.007829376,-0.03536971,0.05299039,-0.007879799,-0.040118676,-0.049726624,0.03133584,0.0130184,-0.03810174,-0.041072138,0.01588795,0.020737762,-0.00028735597,0.013055072,-0.04686624,0.039458588,-0.028182086,-0.015961293,-0.0064954483,-0.005949959,0.028365444,-0.017391482,-0.008081493,0.008035653,0.0016387599,0.0012537086,0.017501498,0.016126314,-0.006623799,-0.0182716,-0.014164386,-0.060984787,0.0033210672,-0.0002903642,-0.037349973,0.017813206,0.0478197,0.015915453,0.043235756,-0.009644617,-0.030675752,-0.016758898,0.05724429,0.038175084,-0.032656014,0.016685555,0.03476463,0.017547337,0.03168422,-0.0035296367,0.0515602,-0.041365508,-0.015310372,-0.028622145,-0.0046320753,0.024551602,0.07246298,0.0023401033,0.0013614313,0.017721526,0.0081502525,-0.13619813,0.0046549947,0.02543172,-0.021489529,0.0026197238,-0.020242697,-0.032619342,0.011212327,-0.048076402,0.0042836955,-0.039385244,-0.047636345,0.023598142,-0.012954225,-0.023506464,-0.021562872,-0.0100938445,0.0009706501,-0.011982429,-0.048993193,-0.0014187306,-0.058821168,0.052000258,0.03580977,0.0011815116,-0.046242826,0.05794105,0.038688485,-0.033829506,-0.0060645575,-0.01740065,-0.011771568,0.0023561472,0.05324709,0.006037054,0.019729294,-0.019215893,0.010277202,0.039935317,-0.018344942,0.036048133,0.036139812,0.014760299,0.021562872,0.028420452,0.03467295,0.013403452,-0.011010633,-0.036433186,0.021709558,-0.038945187,-0.012825875,-0.01514535,-0.0049094036,-0.009497931,0.016025467,0.022993062,0.03780837,-0.041768897,0.009827975,0.01740065,0.01905087,0.0039490676,0.0018232636,0.0056061633,0.0079989815,0.039898645,0.006940091,0.03711161,-0.007187624,0.026696889,-0.003497549,0.0037129945,0.025761764,-0.026660217,0.0237815,0.050570067,-0.031354174,-0.05299039,-0.1211628,-0.0020169353,0.017428154,0.016162986,-0.015649583,-0.026183488,-0.0032385562,0.003350863,0.04521602,0.058491122,0.22266966,0.0037152865,-0.018629147,-0.024514932,0.017859045,0.023194756,-0.014567774,0.029135548,0.0255234,-0.036561538,-0.025321705,0.044079203,0.009882983,-0.009727129,0.00092767563,0.02508334,-0.0067979884,-0.005702426,0.057867706,-0.022589674,0.015182022,0.008232763,-0.001792322,0.02460661,-0.039128546,-0.051376842,-0.03901853,-0.0054273894,-0.033884514,0.054053865,-0.019857645,0.046462853,0.09959993,-0.07781703,-0.0478197,0.0021922712,0.016300505,0.007018018,-0.019857645,0.029703956,0.032142613,-0.012009933,0.0049414914,-0.013265933,-0.0030781182,0.024753297,-0.023708157,-0.037514996,0.016291337,-0.020041002,-0.03689158,-0.025028333,-0.008338193,-0.017107278,0.026110144,-0.019435922,0.008351945,-0.007105113,-0.03791838,0.014586109,0.022112945,0.027393648,-0.0823643,0.062414978,-0.029062204,0.012532502,0.04374916,-0.026678553,0.025670085,0.07723028,0.02673356,0.03661654,0.030419052,0.02130617,0.018179921,-0.015163686,-0.0028053736,0.05082677,-0.067879036,0.024331573,-0.0066604703,0.012504999,-0.019417586,-0.009254983,0.019600943,0.017932389,0.006463361,0.06248832,-0.015915453,-0.014036036,-0.03159254,-0.023891514,-0.007769785,0.020334374,0.028237093,0.039605275,-0.026660217,-0.011368181,-0.015732095,-0.042062268,-0.029318905,-0.0049598273,0.016768066,-0.04110881,-0.0013201758,-0.03883517,0.022186289,-0.0048681484,-0.008439041,-0.008535303,-0.07921055,0.023323106,-0.024661617,-0.005221112,-0.0043891263,0.008773669,0.009717961,0.0029956072,0.010772268,0.06813574,0.0031468775,0.011450691,-0.03806507,-0.008594895,0.0032339722,-0.016978927,-0.0039284397,-0.041292164,-0.050936785,0.0043868343,0.030419052,-0.030070672,0.05537404,-0.0027136947,-0.012880882,-0.017382314,0.00083485077,0.032234292,-0.025926786,0.025230026,-0.012294137,-0.009140384,-0.007930223,-0.0016548038,0.0020639207,-0.010423888,-0.020719426,-0.0060599735,-0.010808939,0.024148216,0.040118676,0.007746865,0.0422823,-0.029905649,-0.0023607311,-0.02816375,-0.017043103,0.018830841,0.024789969,-0.035186354,-0.0134859625,0.0027274466,0.020242697,0.019197557,0.016813906,0.0029497677,0.025945121,-0.0043937103,-0.03397619,0.018464126,0.015878782,-0.03520469,-0.07403986,0.027925385,0.01895919,0.008008149,-0.026880246,-0.031849243,-0.01544789,-0.04921322,0.031354174,-0.025413385,-0.041475523,0.026293501,0.026055137,0.041695554,-0.023891514,-0.01423773,0.008251099,-0.016227162,-0.019380914,0.121456176,-0.001950468,-0.0024432421,-0.024221558,0.046756227,0.044152547,0.042025596,-0.022754697,-0.027833708,-0.029190553,-0.022241294,0.033884514,-0.009662953,-0.014210226,-0.00670631,0.016786402,0.016529702,-0.023359777,-0.041475523,0.009415421,0.024844976,-0.11727562,-0.0016227161,0.064065196,-0.040302034,0.054603938,-0.019894317,-0.027852042,0.016410518,-0.0074580763,-0.02686191,0.019582609,-0.01758401,-0.01466862,0.0037221625,-0.030620744,-0.0518169,0.014696124,-0.033352774,-0.008072325,-0.010698925,0.0010841027,-0.033994526,0.032014262,0.032142613,0.018849177,0.024496596,0.06593545,-0.0048819003,-0.006779653,-0.083904505,-0.033664484,0.0128442105,-0.02447826,0.009882983,-0.02942892,-0.0010663399,-0.008865347,0.022277966,-0.0049139876,0.024973325,0.021086141,0.0039101043,0.025743429,0.06894252,-0.023231426,-0.028970525,-0.038248427,-0.039568603,-0.029410584,0.040155347,0.020077674,0.006545872,-0.022644682,-0.045289364,0.025193356,-0.045729425,0.029227225,-0.02981397,0.00065034704,0.005537404,-0.019619279,0.0061424845,0.012660853,-0.0017327308,-0.03247266,-0.022883048,0.010350545,0.005959127,-0.043639146,0.028218757,-0.014219394,0.051413514,0.0013820591,0.05988464,0.062378306,-0.0012216211,-0.000978672,-0.04400586,-0.010295537,-0.011404852,-0.02000433,0.014650284,-0.025046669,0.019582609,0.007013434,0.03516802,0.0035227607,0.030529065,-0.015411219,0.0028718407,-0.05885784,0.04110881,-0.043932516,0.009782136,-0.009424589,-0.023579806,0.0069813463,0.02343312,0.019380914,-0.017804038,0.037386645,0.023286434,0.019179221,0.010158019,0.06494532,-0.012275801,0.026366845,-0.010625581,0.018079074,-0.014613613,-0.038211755,-0.018134082,-0.035149682,-0.026641881,-0.055227354,-0.0021544537,-0.0014427963,-0.010313873,-0.01753817,-0.031280834,0.015356212,0.007774369,0.008425289,0.037661683,0.035956454,-0.05533737,-0.016474694,0.013036736,0.024991661,-0.06175489,0.03832177,-0.039238557,-0.031665884,-0.009328325,-0.030584073,-0.008205259,-0.039825305,0.016630549,0.012926722,0.011918254,-0.03271102,-0.0123583125,0.024294902,-0.03337111,-0.055777427,0.035058003,0.017694023,0.01354097,-0.045839436,0.067292295,-0.009232063,-0.008118165,0.04092545,-0.0039398996,0.011404852,-0.021232828,-0.008562807,0.0011316611,-0.039788634,-0.00473063,-0.014430255,0.0353147,-0.038211755,0.036048133,-0.031757563,-0.022424653,-0.0014599861,-0.048626475,-0.04301573,-0.020151017,0.01141402,-0.009369581,-0.023414785,0.02908054,-0.07253633,0.010643917,-0.018381614,0.006678806,-0.0040040747,0.0042814035,-0.026531866,0.028237093,-0.1397186,-0.0115515385,-0.003431082,0.008416121,-0.011193991,0.01306424,-0.014861146,-0.024679953,-0.01679557,-0.050093338,-0.07877049,0.0073939012,0.016951425,-0.05042338,-0.029062204,0.008429873,0.02673356,-0.01693309,-0.020407718,0.0062204115,-0.0280354,-0.021214493,0.03883517,0.0086361505,-0.0041484693,0.008677405,-0.010964793,0.04521602,-0.03623149,0.0074718283,0.011074808,-0.017180622,0.024991661,0.019692622,0.012624181,0.0054778126,0.0015585409,-0.0035708921,-0.020847777,-0.006935507,-0.015585409,0.011835743,-0.013220094,-0.007824792,-0.00341733,0.028053736,-0.033389445,-0.032032598,-0.018482462,-0.03327943,-0.024313238,-0.0061379005,-0.054567266,-0.015567073,0.04191558,-0.004726046,-0.08016401,0.0117624,-0.022149617,0.021672886,-0.022369646,0.014466926,-0.018940855,-0.064468585,-0.0012262049,-0.016978927,-0.008746165,0.029153882,-0.04451926,0.057500992,0.035002995,-0.034819636,0.011844911,0.0018129498,-0.004487681,0.016328007,0.023634814,-0.06226829,-0.030712424,-0.034636278,-0.025266698,0.05390718,-0.028420452,0.0433091,0.07099612,0.027155284,-0.00326606,-0.03740498,0.011826575,-0.012504999,-0.045729425,-0.016502198,0.019894317,0.030400716,-0.0016582416,0.01762068,-0.013183422,0.0118724145,0.0074626603,-0.012871714,-0.0073939012,-0.03667155,0.032912716,-0.011450691,-0.015438722,-0.016685555,0.018729994,-0.0104147205,0.011835743,0.010946458,0.032876045,-0.011780735,0.012129115,0.037771698,-0.06340511,0.021929586,0.021947922,0.020316038,-0.033096075,0.034177884,0.029978992,0.0012193291,0.006674222,-0.010863947,0.018473294,0.022626346,0.01670389,-0.0058536963,-0.016162986,-0.03650653,0.0054090535,-0.018225761,-0.029575605,0.044812635,0.012981729,-0.041512195,-0.020554405,0.03502133,0.009901319,-0.012981729,-0.01635551,-0.038138412,0.0028855926,-0.03190425,-0.018766666,-0.017244797,0.016868914,0.00015198639,-0.049836636,-0.05442058,0.022773033,0.02886051,0.024313238,0.026110144,0.006775069,0.035644747,-0.026238494,0.014879482,0.0126791885,0.025248362,0.0018897308,-0.039055202,-0.018812506,-0.036488194,-0.03810174,-0.024679953,0.018766666,0.0117624,-0.023854844,0.020756098,-0.048809834,0.01640135,-0.005308207,0.046059467,0.038541798,-0.076496854,0.016969759,-0.03150086,0.0063120904,-0.059957985,-0.010451392,0.017033935,0.03260101,-0.011248998,0.04257567,-0.026623545,0.020829441,0.02304807,0.006605463,0.03311441,-0.0039605275,-0.033572804,0.010295537,0.012009933,0.012202458,-0.0005520787,0.010616414,-0.02209461,-0.005633667,0.057794362,0.00030798372,-0.038688485,-0.042538997,-0.020151017,0.051706888,0.024019865,0.022571338,-0.026971925,-0.00054205133,0.06681556,-0.017675687,-0.017666519,-0.020389382,-0.018500797,0.0084757125,-0.021636214,0.035791434,0.0016043803,0.018198257,-0.04613281,-0.0040499144,-0.022663018,0.0020570448,-0.01823493,-0.04371249,0.010964793,0.049139876,-0.02191125,0.049323235,0.011102312,-0.013229262,-0.010176355,-0.011166487,0.0015665628,0.064908646,-0.02847546,-0.015200358,0.055190682,-0.041292164,0.021269498,0.028603809,0.024093209,0.011001465,0.02304807]', 't', '2025-11-19 12:50:09.238875+00', '2025-11-24 11:54:34.091584+00', NULL, 'published', 'f', 'approved', NULL, NULL, NULL);
INSERT INTO "public"."experience_records" VALUES ('9b8654fc-9a79-45c8-b0b4-f856a0d4f675', '56a568d5-7dcd-4793-af1b-6f10a9d688fa', 'Chrome 扩展在部分页面出现循环刷新与脚本加载失败的排障记�?, '"智能页面总结�? Chrome 扩展在大多数页面运行正常，但在部分页面出现：

- 页面循环不停刷新或行为异常�?
- 控制台出现脚本加载相关报错，例如�?
  - `GET chrome-extension://invalid/ net::ERR_FAILED`
  - `资源加载失败: chrome-extension://xxx/js/selector-recorder.js`
  - `资源加载失败: chrome-extension://xxx/js/hover-highlight.js`
- 有时还伴�?Content Script 重复初始化、事件监听器重复注册�?, '该问题由多种因素叠加导致�?

1. **Manifest V3 资源声明缺失**
   - 通过 `chrome.runtime.getURL()` 动态加载的 `js/selector-recorder.js`、`js/hover-highlight.js` 未在 `web_accessible_resources` 中声明�?
   - �?Manifest V3 中，这类资源不声明就无法�?content script 正常访问，导致资源请求返�?`chrome-extension://invalid/`�?

2. **Content Script 在多 frame 中重复执�?*
   - `manifest.json` 中配置了 `all_frames: true`�?
   - 没有防重复初始化的机制，导致在多�?frame 中多次创�?`ContentExtractor`、多次注�?`chrome.runtime.onMessage` 监听器�?

3. **特殊页面处理不当**
   - �?`chrome://`、`edge://`、`about:` 等特殊协议页面，或其他扩展页面中，`chrome.runtime` 行为与普通网页不同�?
   - 缺少"跳过这些页面"的逻辑，导致在不受支持的环境里仍尝试加载脚本�?

4. **缺少 chrome.runtime 可用性检�?*
   - 直接调用 `chrome.runtime.getURL()`，未检�?`chrome` �?`chrome.runtime` 是否存在�?
   - 在部分环境下返回 `invalid` URL 或抛出异常�?

5. **消息监听器重复注�?*
   - `ContentExtractor.init()` 在错误路径（异常重试等）下可能被多次调用�?
   - 未加"已注册标�?的监听器会重复处理消息，引发难以追踪的副作用�?, '1. **�?manifest.json 中声�?web_accessible_resources**

```json
{
  "web_accessible_resources": [
    {
      "resources": [
        "js/selector-recorder.js",
        "js/hover-highlight.js"
      ],
      "matches": ["<all_urls>"]
    }
  ]
}
```

2. **�?Content Script 添加防重复初始化标记**

```javascript
// 防止重复初始�?
if (typeof window !== ''undefined'' && !window.__CONTENT_EXTRACTOR_INITIALIZED__) {
  window.__CONTENT_EXTRACTOR_INITIALIZED__ = true;

  const isTopFrame = window === window.top;
  const isSpecial = isSpecialPage();

  if (isTopFrame || !isSpecial) {
    try {
      const contentExtractor = new ContentExtractor();
      window.__contentExtractor = contentExtractor;
    } catch (error) {
      console.error(''ContentExtractor 初始化失�?'', error);
    }
  } else {
    console.log(''在特殊页面或�?frame 中，跳过 ContentExtractor 初始�?');
  }
} else {
  console.log(''ContentExtractor 已初始化，跳过重复初始化'');
}
```

3. **�?HoverHighlighter 添加防重复初始化标记**

```javascript
function initializeHoverHighlighter() {
  try {
    if (typeof window !== ''undefined'' && !window.__HOVER_HIGHLIGHTER_INITIALIZED__) {
      window.__HOVER_HIGHLIGHTER_INITIALIZED__ = true;

      if (!window.hoverHighlighter) {
        if (typeof HoverHighlighter !== ''undefined'') {
          window.hoverHighlighter = new HoverHighlighter();
          console.log(''悬停高亮系统初始化成�?');
        } else {
          window.hoverHighlighter = {
            activate: () => {},
            deactivate: () => {},
            isActive: false,
            highlightElement: () => {},
            removeHighlight: () => {}
          };
        }
      }
    }
  } catch (error) {
    if (typeof window !== ''undefined'' && !window.hoverHighlighter) {
      window.hoverHighlighter = {
        activate: () => {},
        deactivate: () => {},
        isActive: false,
        highlightElement: () => {},
        removeHighlight: () => {}
      };
    }
  }
}

// 只在顶层 frame 中初始化
if (typeof window !== ''undefined'' && window === window.top) {
  if (document.readyState === ''loading'') {
    document.addEventListener(''DOMContentLoaded'', () => {
      initializeHoverHighlighter();
    });
  } else {
    initializeHoverHighlighter();
  }
}
```

4. **添加 chrome.runtime 可用性检�?*

```javascript
function isChromeRuntimeAvailable() {
  try {
    return typeof chrome !== ''undefined'' &&
           chrome.runtime &&
           typeof chrome.runtime.getURL === ''function'';
  } catch (e) {
    return false;
  }
}
```

5. **添加特殊页面检�?*

```javascript
function isSpecialPage() {
  try {
    const url = window.location.href;
    const isSpecialProtocol = /^(chrome|edge|about|moz-extension|chrome-extension):\/\//i.test(url);

    if (!isSpecialProtocol) return false;

    if (url.startsWith(''chrome-extension://'')) {
      if (isChromeRuntimeAvailable()) {
        try {
          const extensionId = chrome.runtime.id;
          return !url.startsWith(''chrome-extension://'' + extensionId);
        } catch (e) {
          return true;
        }
      }
      return true;
    }

    return true;
  } catch (e) {
    return true;
  }
}
```

6. **增强外部脚本加载错误处理**

```javascript
function loadExternalScripts() {
  return new Promise((resolve) => {
    if (!isChromeRuntimeAvailable()) {
      console.warn(''chrome.runtime 不可用，跳过外部脚本加载'');
      resolve();
      return;
    }

    if (isSpecialPage()) {
      console.warn(''特殊页面，跳过外部脚本加�?');
      resolve();
      return;
    }

    let loadedCount = 0;
    const totalScripts = 2;
    let hasError = false;

    const checkCompletion = () => {
      loadedCount++;
      if (loadedCount === totalScripts) {
        if (hasError) {
          console.warn(''部分外部脚本加载失败，但将继续运�?');
        }
        resolve();
      }
    };

    // 此处分别加载 selector-recorder.js �?hover-highlight.js�?
    // 每个都要检�?URL 是否包含 ''invalid''，并处理 onerror �?document.head 不存在的情况
    // （具体实现略，同当前项目中的修复代码）�?
  });
}
```

7. **防止消息监听器重复注�?*

```javascript
init() {
  // 防止重复注册消息监听�?
  if (this.messageListenerRegistered) {
    console.log(''消息监听器已注册，跳过重复注�?');
    return;
  }
  this.messageListenerRegistered = true;

  chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {
    // 正常消息处理逻辑
  });
}
```

上述修改后，问题页面不再出现循环刷新和脚本加载失败的报错�?, '- 技术栈：Chrome Extension Manifest V3，JavaScript�?
- 相关文件�?
  - `manifest.json`：定�?content scripts、web_accessible_resources�?
  - `chrome-extension/js/content.js`：内容脚本，负责内容提取与交互�?
  - `selector-recorder.js` / `hover-highlight.js`：动态加载的辅助脚本�?, 0, 12, 0, '''/i.test'':287 ''/invalid'':14,60 ''/js/content.js'':419 ''/xxx/js/hover-highlight.js'':27 ''/xxx/js/selector-recorder.js'':22 ''0'':348 ''1'':34,117 ''2'':61,132,351 ''3'':80,182 ''4'':92,247 ''5'':107,267 ''6'':322 ''7'':382 ''access'':45,122,126,414 ''activ'':210,224 ''catch'':163,216,263,310,318 ''checkcomplet'':356 ''chrome'':1,4,12,20,25,58,99,257,278,285,296,307,403,417 ''chrome-extens'':11,19,24,57,284,295,306,416 ''chrome.runtime'':86,94,101,249,259,334 ''chrome.runtime.geturl'':39,97,261 ''chrome.runtime.id'':303 ''chrome.runtime.onmessage'':78 ''chrome.runtime.onmessage.addlistener'':395 ''console.error'':165 ''console.log'':170,178,206,389 ''console.warn'':333,341,363 ''const'':146,150,157,273,276,301,349,355 ''content'':29,53,62,134,411 ''contentextractor'':76,158,160,162,166,175,179 ''contentextractor.init'':109 ''deactiv'':211,225 ''document.addeventlistener'':242 ''document.head'':378 ''document.readystate'':240 ''domcontentload'':243 ''e'':264,311,319 ''edg'':279 ''els'':169,177,208,245 ''err'':16 ''error'':164,168,217 ''extens'':13,21,26,59,283,286,297,308,404,418 ''extensionid'':302,309 ''fail'':17 ''fals'':213,227,266,292,354 ''frame'':65,70,74,172,231 ''function'':187,252,262,270,325 ''get'':10 ''haserror'':353,362 ''highlightel'':214,228 ''hover-highlight.js'':370,423 ''hoverhighlight'':184,201,205 ''init'':385 ''initializehoverhighlight'':188,244,246 ''invalid'':104,374 ''isact'':212,226 ''ischromeruntimeavail'':253,299,332 ''isspeci'':151,155 ''isspecialpag'':152,271,340 ''isspecialprotocol'':277,290 ''istopfram'':147,154 ''javascript'':137,186,251,269,324,384,407 ''js/hover-highlight.js'':42,130 ''js/selector-recorder.js'':41,129 ''json'':124 ''let'':346,352 ''load'':241 ''loadedcount'':347,357,359 ''loadexternalscript'':326 ''manifest'':35,49,405 ''manifest.json'':67,119,409 ''match'':131 ''messag'':396 ''moz'':282 ''moz-extens'':281 ''net'':15 ''new'':159,204,328 ''onerror'':376 ''promis'':329 ''removehighlight'':215,229 ''resolv'':330,337,344,366 ''resourc'':46,123,127,128,415 ''return'':255,265,291,304,312,314,316,320,327,338,345,392 ''script'':30,54,63,135,412 ''selector-recorder.js'':368,422 ''sender'':397 ''sendrespons'':398 ''this.messagelistenerregistered'':388,393 ''totalscript'':350,360 ''tri'':156,189,254,272,300 ''true'':71,145,196,313,315,317,321,394 ''typeof'':140,191,200,219,234,256,260 ''undefin'':142,193,202,221,236,258 ''url'':105,274,288,372 ''url.startswith'':294,305 ''v3'':36,50,406 ''web'':44,121,125,413 ''window'':141,148,192,220,235,237 ''window.__content_extractor_initialized__'':143,144 ''window.__contentextractor'':161 ''window.__hover_highlighter_initialized__'':194,195 ''window.hoverhighlighter'':198,203,209,222,223 ''window.location.href'':275 ''window.top'':149,238 ''上述修改�?':400 ''下可能被多次调用'':112 ''不可�?':335 ''不存在的情况'':379 ''�?':51,173 ''中初始化'':232 ''中声�?':47,120 ''中多次创�?':75 ''中配置了'':68 ''中重复执�?':66 ''�?':133,183 ''事件监听器重复注�?':32 ''但在部分页面出现'':6 ''但将继续运行'':365 ''例如'':9 ''具体实现�?':380 ''内容脚本'':420 ''初始�?':176 ''初始化失�?':167 ''动态加载的'':40 ''动态加载的辅助脚本'':424 ''只在顶层'':230 ''可用性检�?':95,250 ''同当前项目中的修复代�?':381 ''�?':100,369,377 ''�?':48,82,118 ''在多'':64 ''在特殊页面或�?':171 ''在部分环境下返回'':103 ''在错误路�?':110 ''增强外部脚本加载错误处理'':323 ''多次注册'':77 ''定义'':410 ''导致在不受支持的环境里仍尝试加载脚本'':91 ''导致在多�?':73 ''导致资源请求返回'':56 ''已初始化'':180 ''已注册标�?':114 ''并处�?':375 ''异常重试�?':111 ''引发难以追踪的副作用'':116 ''悬停高亮系统初始化成�?':207 ''或其他扩展页面中'':85 ''或抛出异�?':106 ''扩展在大多数页面运行正常'':5 ''扩展在部分页面出现循环刷新与脚本加载失败的排障记�?':2 ''技术栈'':402 ''控制台出现脚本加载相关报�?':8 ''是否包含'':373 ''是否存在'':102 ''智能页面总结�?':3 ''有时还伴�?':28 ''未加'':113 ''未在'':43 ''未检�?':98 ''正常消息处理逻辑'':399 ''正常访问'':55 ''此处分别加载'':367 ''每个都要检�?':371 ''没有防重复初始化的机�?':72 ''消息监听器已注册'':390 ''消息监听器重复注�?':108 ''添加'':248 ''添加特殊页面检�?':268 ''添加防重复初始化标记'':136,185 ''特殊页面'':342 ''特殊页面处理不当'':81 ''的监听器会重复处理消�?':115 ''的逻辑'':90 ''监听�?':79 ''直接调用'':96 ''相关文件'':408 ''等特殊协议页�?':84 ''缺少'':88,93 ''行为与普通网页不�?':87 ''该问题由多种因素叠加导致'':33 ''负责内容提取与交�?':421 ''资源加载失败'':18,23 ''资源声明缺失'':37 ''跳过'':174 ''跳过外部脚本加载'':336,343 ''跳过这些页面'':89 ''跳过重复初始�?':181 ''跳过重复注册'':391 ''这类资源不声明就无法�?':52 ''通过'':38 ''部分外部脚本加载失败'':364 ''重复初始�?':31 ''问题页面不再出现循环刷新和脚本加载失败的报错'':401 ''防止消息监听器重复注�?':383 ''防止重复初始�?':138 ''防止重复注册消息监听�?':386 ''页面循环不停刷新或行为异�?':7', '[-0.029045152,-0.008046674,-0.041573696,0.00010486012,-0.004585334,-0.015228012,-0.019413598,0.015670085,-0.01550078,-0.02185911,-0.0023008971,-0.007712767,-0.042627145,-0.00093352696,-0.030963937,-0.017607681,0.007510542,-0.017852234,0.024003636,-0.019865077,-0.035930205,0.006381844,0.017626494,0.041724186,-0.014654257,0.04428257,-0.045599382,-0.012030035,0.021219514,0.013911198,0.0048016678,0.0047499356,0.024003636,-0.01433446,0.007891477,-0.045486514,-0.006734562,-0.000980556,-0.008987254,0.016036911,-0.013647835,0.008418202,0.0011234068,-0.025997669,0.061739758,-0.01150331,0.05703685,-0.032544114,0.04823301,-0.042250913,-0.04891023,-0.022912562,0.043793466,-0.016723536,0.050452784,0.0053142845,-0.015416128,-0.04868449,-0.04394396,0.0032896833,-0.023533344,0.00019561152,-0.00464412,-0.003522477,-0.0099325385,0.0684367,0.010101844,0.0046088486,0.0077268756,-0.012255775,-0.012923587,0.01833193,-0.0069791134,-0.0603477,-0.05658537,0.0054600746,0.029289702,-0.006113779,0.017720552,0.019413598,-0.031960953,-0.047217183,-0.0066263955,0.038375717,-0.013534965,0.03611832,-0.001935246,0.0022550437,0.016685912,-0.0109483665,-0.012180528,-0.004439544,0.04048262,-0.043229118,-0.018858656,-0.010101844,-0.0199027,0.0038093543,0.009941945,0.051769596,0.010393424,-0.0031979764,0.02174624,-0.031377792,0.0057093287,0.03542229,0.0296095,-0.0279917,0.00042649484,-0.0059585827,-0.018604698,-0.004263185,0.009678582,0.002972237,-0.029590689,-0.0066263955,-4.0231895e-05,-0.014390894,0.012161717,-0.003070998,0.04198755,0.018642321,0.045937993,-0.045373645,-0.024191752,0.011484498,-0.018096784,0.03551635,0.025583811,0.010412235,0.0119641945,0.007557571,-0.02185911,0.001199829,-0.09721848,0.014654257,0.026449148,-0.0037529194,0.012528543,-0.05737546,0.048985474,0.048383504,-0.009561009,-0.012171122,0.024643231,-0.034876756,0.057450708,0.052559685,0.04556176,-0.016431956,-0.029214457,0.008545182,-0.0067674825,-0.005083842,0.00962685,-0.03816879,0.0148235615,0.016140375,0.013807734,0.031998575,-0.0135914,0.021482877,-0.021708617,0.018764598,0.016177999,0.0014355623,-0.013788922,0.005949177,-0.011437469,-0.0039551444,0.024944216,-0.055569544,0.031772837,0.026731322,0.004086826,-0.01087312,0.11061236,0.016384926,0.011945383,-0.011691426,-0.07295149,-0.0016048669,0.01729729,-0.018651728,-0.023439286,0.031302545,-0.03525299,-0.026863003,-0.019150237,0.052672554,-0.0028969904,-0.014136937,0.06584069,0.053838875,-0.011851325,-0.019676961,0.04082123,0.0051543857,0.018482422,-0.0021362954,0.028292686,0.023420475,0.06975351,0.009443437,-0.045185525,-0.0008077242,-0.00081242714,-0.081341475,0.023326417,-0.01406169,-0.01341269,-0.007947912,0.008709783,0.04149845,-0.022385836,-0.0055212122,-0.024850158,0.018181438,-0.015519592,-0.022931373,-0.01498346,0.065502085,0.011080048,-0.00965977,0.016770566,0.039542038,0.046351846,0.0312273,0.035760902,-0.013243385,0.02684419,0.031960953,0.02323236,-0.012472108,0.019564092,-0.02473729,-0.017146798,-0.0014955243,-0.012848341,0.014908214,0.023288794,-0.045900367,0.019846266,-0.03773612,-0.009687987,-0.015331476,0.03525299,0.036381684,-0.03100156,-0.02336404,-0.022066038,-0.004143261,0.0064429822,-0.012613196,0.02091853,0.0105721345,-0.038262848,-0.017871045,0.002336169,-0.023570968,0.016300274,0.025245203,0.02266801,0.014183966,-0.02244227,-0.02891347,-0.017024523,-0.05286067,-0.02786002,-0.028838223,-0.027013496,-0.012218151,0.016591854,-0.0034872054,-0.0053048786,-0.0011939504,-0.022724444,0.00058227865,0.08751169,0.009311755,-0.006678127,0.056961603,0.00016239725,0.04221329,0.015434939,0.013553777,-0.016874028,-0.007646926,0.04153607,-0.019103207,0.0064711994,0.0048957258,0.0797613,-0.01567949,0.011145889,0.015566621,0.0017988618,-0.15771668,-0.04860924,0.020862093,0.008563993,0.016742347,-0.010882526,-0.035064872,0.023759084,-0.0017330211,0.03228075,-0.02221653,-0.048797358,-0.035535164,-0.016507203,-0.044019207,-0.0019258403,0.01341269,0.0071813385,0.0039857132,-0.03677673,-0.020974964,0.0063160034,0.027464975,0.01705274,-0.013854763,-0.04834588,0.0576012,-0.009716205,-0.05425273,-0.0087285945,-0.022874938,0.009325864,-0.008714486,0.006598178,0.0014849427,-0.006678127,-0.015641868,0.002473729,-0.004813425,-0.00917537,0.014927026,0.06260509,-0.033635188,0.04556176,0.028386744,-0.051205248,0.032713417,-0.009640958,-0.01839777,-0.0036894302,-0.0066828304,0.005746952,0.008136028,-0.014325053,-0.04349248,0.00027850026,0.011691426,0.02648677,-0.023796707,0.0011175282,0.032450054,-0.011070643,0.033597566,-0.0013908846,-0.020429427,0.028762978,0.053048786,-0.05237157,0.027126364,-0.034067854,0.039165806,-0.0150116775,0.006094967,-0.031076808,-0.0075058388,0.00914245,0.05793981,-0.037848994,0.0034096073,-0.12648937,-0.013516153,0.0076046,-0.016892841,0.037924238,-0.023401663,-0.01597107,0.02913921,0.00720015,0.04985081,0.24455114,0.017805204,0.0042302646,0.03053127,0.06632979,-0.0039621987,-0.0034895567,0.020862093,0.029515442,-0.04638947,0.000105741914,0.038300473,0.008516964,0.0057704663,0.026768945,0.034444086,-0.038018297,0.021539312,0.08344837,-0.041573696,-0.003371984,-0.0027417946,0.026750132,0.06072393,-0.03421835,-0.06459913,0.0041879383,0.007040251,-0.012293397,0.034293596,-0.009344676,0.020297745,0.06151402,-0.03700247,-0.07772964,-0.018661134,0.017541843,0.0048533995,-0.00639125,0.016620072,0.019046772,-0.04477167,0.022084849,0.06433576,0.011324599,-0.03760444,-0.054327976,0.008408797,0.0045194933,-2.9044122e-05,0.014296836,0.011145889,-0.01046867,0.0012662576,-0.027559033,-0.021708617,-0.023439286,0.014945837,-0.05229632,0.038827196,-0.00041326793,0.0108072795,-0.029082775,0.05101713,-0.018012132,-0.0073271287,-0.0006007963,-0.05955761,0.05914375,0.04834588,-0.02323236,-0.0057187346,0.027239235,-0.0073412373,0.031189676,-0.0033531724,0.022479894,0.050904263,-0.04616373,0.017682929,-0.03839453,0.0169869,-0.049700316,0.0044724643,0.007599897,-0.024210563,0.025527377,0.058203172,-0.022856126,-0.035478726,-0.046427093,-0.03897769,-0.014795344,0.040444996,-0.020015571,0.07020499,-0.03367281,0.005793981,0.01532207,-0.025000652,0.0074399984,-0.021708617,0.013676052,-0.038356908,0.04443306,-0.0044160294,0.015068113,0.0061090756,-0.044621177,-0.0077174697,-0.055155687,0.009448139,-0.0021856758,-0.024963029,0.0005008596,0.018764598,0.022950184,0.027747149,0.059783347,0.044696424,-0.03111443,0.0018294307,-0.021934357,0.025696682,0.03480151,-0.027709525,0.002383198,-0.007002628,-0.044132076,0.03783018,0.058090303,-0.014531981,-0.017607681,0.039955895,0.02046705,0.0022080147,0.043868713,0.05624676,0.011268164,0.041573696,0.006645207,-0.023213547,0.0011069466,0.012443891,0.02740854,-0.025019463,-0.005394234,-0.012020629,-0.0128389355,0.02406007,0.06027245,0.06651791,0.0016942221,-0.022404647,-0.045147903,-0.031321358,-0.011832513,-0.029440196,-0.009151856,-0.0021774457,-0.010496887,-0.010299365,0.015030489,0.03632525,-0.027464975,-0.013450313,0.02532045,-0.01626265,0.029214457,-0.017739363,-0.013826545,-0.050829016,-0.045825124,0.04661521,-0.034914378,-2.821744e-05,-0.06591594,-0.009217697,0.01693987,0.03901531,0.03702128,0.009523386,-0.027427351,-0.033654,0.020880906,0.040557865,-0.01579236,-0.025000652,0.007905586,-0.07803062,-0.0005487704,0.09458486,0.017146798,0.02325117,0.06742087,0.007656332,0.049549825,0.023796707,0.0029393167,-0.0077786073,-0.007788013,7.1903036e-05,-0.028405556,0.06591594,5.566331e-05,-0.053876497,-0.019413598,0.007449404,-0.01577355,-0.009241211,0.009819669,0.004881617,-0.035760902,-0.042401407,0.00893082,-0.0543656,0.07366633,0.03017385,0.010732033,-0.04164894,0.0011904233,-0.030681763,0.04450831,-0.047819156,0.02140763,0.0039175213,-0.023683839,-0.022705633,0.00244316,0.017466595,0.001935246,0.019526469,0.050941885,-0.01804035,-0.035535164,-0.018341336,0.004891023,0.005643488,0.015623055,-0.014296836,0.012443891,-0.02866892,0.026430335,0.017062144,0.010092437,0.033936173,-0.04939933,-0.037660874,0.024398679,0.0021668642,0.0075716795,-0.020993775,-0.01677997,-0.059294246,0.014343865,0.0072753965,0.008690971,0.006344221,-0.008959037,-0.025000652,-0.012048847,0.017024523,-0.008211275,-0.0014955243,-0.035930205,-0.024323434,-0.01862351,-0.047480546,-0.018482422,-0.017936885,0.001784753,0.0074399984,0.01509633,0.009307052,-0.0019317189,0.008201869,-0.012180528,0.010553323,0.049549825,-0.009753828,-0.032713417,-0.013506748,0.044320192,0.064824864,0.029628312,0.0043690004,0.054553717,-0.058090303,-0.02116308,-0.05669824,-0.028161004,-0.0057187346,-0.007186041,0.009339972,-0.02913921,0.014663663,-0.028781788,0.035930205,0.035648033,0.0033084948,-0.012302804,0.0042561307,-0.009584524,-0.023909578,-0.018792816,0.006734562,-0.02430462,-0.01833193,-0.00025395697,0.030060979,-0.037924238,-0.014089908,0.011343411,0.049662694,0.0007166054,-0.0109013375,0.04164894,-0.056735866,-0.02347691,-0.0149176195,-0.03098275,-0.0096503645,-0.0516191,-0.010120655,-0.02266801,-0.027803583,0.02242346,0.022649199,-0.0339738,-0.038714327,-0.03386093,-0.028762978,0.005732843,-0.047969647,0.009678582,-0.008352363,0.03749157,-0.014729504,-0.00032920347,-0.019263105,0.006809809,-0.005883336,0.01943241,-0.02913921,-0.008244195,-0.02012844,-0.03181046,0.0005690517,0.00012433309,0.01752303,0.001135164,0.0067298594,-0.027163988,-0.04270239,-0.003045132,-0.00026189312,0.0052625523,0.025264014,0.0065135257,0.034368843,-0.01711858,0.06222886,-0.0027582548,0.02012844,0.038789574,0.024492737,0.01810619,0.056058645,0.013544371,-0.0035459916,-0.0018564723,-0.03886482,-0.016074535,-0.0049004285,-0.020297745,0.018388364,-0.025151145,0.0023761436,0.033597566,0.021727428,-0.041573696,-0.029759994,-0.042476654,-0.041912302,0.003750568,-0.010449858,0.0046558776,0.0075763827,-0.04198755,0.028029323,-0.017033927,0.046690457,-0.017240856,0.016281463,-0.16494034,0.015331476,-0.00815484,-0.038827196,-0.011428063,0.00033067312,-0.019940324,-0.050979506,0.020617543,-0.026580827,-0.03805592,-0.024078881,0.028198628,-0.022818502,-0.021200703,0.024850158,0.014409706,0.00339785,0.0032638172,0.004719367,-0.007548165,0.019375974,-0.01821906,-0.046803325,0.020260122,0.00060843857,-0.014240401,-0.028273875,-0.025264014,0.041347954,-0.008676862,-0.005389531,0.014701286,0.009424625,0.005328393,0.014616634,0.038206413,-0.031415418,1.5798827e-05,0.008531072,-0.00951398,0.017946292,-0.017485406,-0.04187468,0.036833163,0.02810457,-0.016497796,-0.005389531,-0.033371825,-0.024567984,0.008211275,0.038450964,-0.004575928,0.035064872,-0.06433576,-0.0056717056,-0.03088869,0.006438279,-0.06151402,0.03976778,-0.021313572,0.02866892,-0.04243903,-0.019338353,-0.04326674,0.003019266,-0.06587832,0.013977039,0.014992867,-0.009782046,-0.027333293,-0.025301637,0.01446614,0.0010070099,0.009894916,0.0207116,0.027145177,-0.056848735,-0.028988717,-0.026994685,-0.03852621,-0.039278675,-0.010732033,0.035760902,0.07204853,0.03662624,0.0029228565,-0.01208647,0.021294761,0.0058645247,-0.07107033,-0.020542296,-0.004408975,-0.0022033118,0.023871955,0.006965005,-0.00079126406,0.002541921,-0.0016754104,-0.010402829,-0.050716143,0.017626494,0.055118065,0.0015343233,-0.033484694,-0.015839389,0.029816428,0.015989883,-0.00084182026,0.0031650562,-0.07163467,-0.010280554,-0.013647835,0.016704725,-0.06576545,0.023439286,0.029759994,0.012208746,-0.031020371,0.030380776,0.0074258894,-0.03781137,-0.043041002,-0.038601458,-0.00019458277,0.005079139,0.07991179,0.013845357,0.009876104,-0.010261742,0.031434227,-0.047518168,-0.01965815,0.02289375,-0.00433608,-0.0152092,-0.018030943,0.014541388,0.03745395,0.02661845,-0.045072656,-0.03100156,-0.0013991147,-0.033917364,-0.018905684,-0.007651629,0.024097694,0.022141285,-0.025019463,-0.017269073,-0.0002034007,0.018821033,-0.018030943,0.0077739046,-0.020956151,0.02221653,-0.021915546,0.02138882,-0.059820972,0.04383109,-0.0012462703,-0.036155947,-0.04868449,-0.021275949,0.018670538,0.03286391,0.0381876,0.0011874839,-0.010675598,-0.00047058458,-0.03690841,0.06813571,-0.03342826,0.019846266,0.04074598,-0.04277764,0.014663663,-0.02889466,0.043379612,-0.026166972,0.02938376,0.027690714,-0.022254154,0.019112613,0.016112158,-0.00027938205,-0.026430335,0.032130256,0.02091853,-0.024887782,-0.0099325385,-0.055795286,0.029195644,-0.0064759026,-0.019676961,-0.019046772,0.00032890952,-0.03273223,-0.016676506,0.0716723,0.015434939,0.020391803,0.02417294,0.0062172427,0.0060056117,0.00090119446,-0.04567463,-0.004829885,0.009250618,0.02244227,-0.03169759,-0.023439286,-0.0271828,0.012867153,-0.029590689,0.010139466,0.062191237,-0.009537495,0.030851068,-0.013440907,0.02533926,0.012236963,0.03901531,-0.032205503,-0.06949015,-0.034368843,-0.02010963,0.021520501,0.029195644,0.009203589,-0.016573044,0.029778805,0.0005196712,0.005949177,0.016177999,0.0107602505,-0.029759994,0.032901533,-0.03655099,-0.0062172427,0.033785682,0.0031015668,-0.010779062,0.02786002]', 't', '2025-11-20 03:02:19.500967+00', '2025-11-24 11:58:58.535296+00', NULL, 'published', 'f', 'approved', '56a568d5-7dcd-4793-af1b-6f10a9d688fa', '2025-11-20 09:38:03.298766+00', NULL);
INSERT INTO "public"."experience_records" VALUES ('cf3d9a04-6bbd-4cf5-af70-236dc435244e', '886bb63d-44d6-491b-bfcf-b5d5c14124e2', 'TypeScript Type Narrowing Issue', 'TypeScript not properly narrowing types in conditional statements', 'Type guards need to be explicit for complex types', 'Use explicit type guards or type predicates to help TypeScript understand the type narrowing', '// Example of type predicate\ninterface Cat { meow(): void; }\ninterface Dog { bark(): void; }\n\nfunction isCat(animal: Cat | Dog): animal is Cat {\n  return (animal as Cat).meow !== undefined;\n}\n\nfunction handleAnimal(animal: Cat | Dog) {\n  if (isCat(animal)) {\n    animal.meow(); // TypeScript knows this is a Cat\n  } else {\n    animal.bark(); // TypeScript knows this is a Dog\n  }\n}', 8, 35, 0.92, '''anim'':51,54,59,68,74 ''animal.bark'':86 ''animal.meow'':76 ''bark'':46 ''cat'':41,52,56,61,69,82 ''complex'':20 ''condit'':11 ''dog'':45,53,70,92 ''els'':84 ''exampl'':36 ''explicit'':18,23 ''guard'':14,25 ''handleanim'':67 ''help'':30 ''iscat'':50,73 ''issu'':4 ''know'':78,88 ''meow'':42,62 ''n'':48,57,64,65,71,75,83,85,93,94 ''narrow'':3,8,35 ''need'':15 ''nfunction'':49,66 ''ninterfac'':40,44 ''predic'':28,39 ''proper'':7 ''return'':58 ''statement'':12 ''type'':2,9,13,21,24,27,34,38 ''typescript'':1,5,31,77,87 ''undefin'':63 ''understand'':32 ''use'':22 ''void'':43,47', '[-0.028479962,-0.006188664,-0.03729031,0.03663838,-0.0049919095,-0.040084288,-0.020619566,0.027809406,-0.011306303,-0.009806867,-0.0037439321,-0.035930574,-0.02006077,-0.020191155,-0.011734713,-0.03632173,0.0027357712,-0.021420507,0.038668673,-0.04768391,-0.05926961,-0.042580243,-0.021047976,-0.013923329,-0.012312135,0.001422601,-0.007455268,-0.031162182,0.022761617,0.011036218,0.038221635,0.0051548914,-0.059642144,-0.027380995,0.009033866,-0.015832549,0.028777985,-0.0011496061,-0.017760394,0.01654967,0.0021047976,-0.0021886171,0.036172718,-0.051595483,0.00048283453,-0.01027253,0.005490169,-0.024642896,0.03326698,0.009438993,-0.004246848,-0.007138617,0.04168617,-0.04194694,0.05010536,-0.00268222,-0.046231043,-0.03851966,-0.037737347,0.014128221,-0.028926998,-0.016456537,-0.032335654,0.020898964,-0.008684618,0.004458725,-0.0111759165,0.007753292,-0.022072436,-0.011231796,0.05111119,0.03395616,-0.035576668,-0.03309934,-0.05010536,0.04656632,-0.032168012,-0.0074738944,-0.06303217,0.026263405,0.0026961898,0.007059454,0.064522296,0.037662838,0.021383254,0.0064587486,0.0098813735,-0.023376292,0.0019290098,0.009750987,0.024493884,-0.040866602,0.012535653,-0.026710441,0.01663349,-0.02194205,0.027511382,-0.0056252116,0.03213076,0.019222576,0.005797507,0.026542801,-0.015161994,-0.028871119,0.037457947,-0.011967544,0.042170458,0.01963236,0.015609031,-0.010374976,0.03723443,0.030323988,-0.0011746354,0.012144496,0.0061979773,-0.035856064,-0.0070035746,-0.017760394,0.009406396,-0.0025914158,-0.010198024,0.035762932,0.0853095,-0.023506679,-0.030137721,-0.012535653,0.013494919,0.029970083,0.0046845716,-0.015106115,0.023320412,0.010561242,-0.01572079,-0.010179398,-0.06686924,-0.020749953,-0.015646283,0.03540903,0.01737855,-0.049881842,0.04719962,0.056252114,-0.01737855,-0.023208654,0.03378852,-0.006910442,0.047274128,0.021606773,-0.00080501527,0.008540263,-0.020805832,0.018552022,0.032968953,0.03207488,0.03581881,-0.050924927,-0.03641486,0.0016775517,0.0014284218,0.014184101,0.023115521,-0.03481298,0.036489367,0.024531137,0.009685795,-0.011054845,0.005490169,0.045560487,-0.025164438,-0.031590592,0.0010157279,-0.019911759,0.026915332,0.0128895575,0.00034953843,0.03481298,0.070259266,0.022575352,0.03615409,-0.027362369,-0.017471682,0.004838241,-0.00023486887,-0.010654374,0.0107568195,0.0058673564,0.005136265,-0.046044778,0.0028661569,-0.0028777986,-0.029374035,-0.012079303,-0.019092191,0.0038347365,0.006184007,-0.0064820317,0.02028429,-0.0301936,0.017769707,0.012321448,-5.6134242e-05,-0.043548822,0.009695108,-0.036750138,-0.03863142,-0.056252114,-0.05226604,-0.024438005,0.032540545,-0.031888615,0.028275069,-0.0021420508,-0.029057384,0.00540635,-0.06329294,0.018384382,-0.054575726,-0.015506584,0.026803574,-0.018738287,0.0060675913,0.03702954,0.02091759,-0.0031897929,0.053122856,-0.00023312264,-0.008009407,0.02644967,0.0061188145,-0.053085603,-0.0046682735,0.032372907,-0.01603744,0.01985588,0.00582079,-0.014212041,-0.04291552,0.038221635,0.0044098306,0.015962934,0.014528692,-0.05289934,0.07674129,0.005201458,-0.033769894,-0.025574222,-0.021793038,-0.030808277,0.00055006467,-0.049919095,-0.018021166,-0.0043446375,-0.030957289,-0.020582313,0.01389539,0.01820743,0.020880338,0.014184101,0.011371495,-0.01663349,0.02767902,0.0222587,0.03889219,-0.004996566,0.012964063,-0.018216744,0.013960582,-0.01700602,-0.0025378645,0.032391533,-0.013923329,-0.025071306,0.005271307,-0.006225917,0.030808277,0.058822576,-0.022668485,0.018328503,0.067614295,0.0024284336,-0.014929162,0.022593979,0.044405643,0.030230856,0.027567262,0.05219153,-0.04038231,-0.053867918,0.024698775,-0.02870348,0.01732267,0.003036124,0.048130948,-0.041909687,-0.040345058,-0.035260018,0.0049686264,-0.15094939,0.0053597833,0.03378852,-0.014277234,0.021923423,0.03298758,-0.013113076,-0.011213169,-0.01775108,0.013643932,0.009164251,-0.041760676,0.037457947,0.012535653,0.015795296,-0.0030966604,0.015962934,0.014482126,0.0084191905,-0.021848917,-0.031460207,-0.024903668,0.042878266,-0.024326246,0.009005927,-0.03794224,0.031590592,-0.005033819,-0.028740732,0.0031269283,-0.038594164,-0.02119699,-0.0023294801,0.01786284,0.02237046,0.02661731,-0.022761617,-0.017043274,0.028796611,-0.01555315,0.030435747,0.024251739,-0.041015614,0.025089933,-0.047125116,-0.03304346,0.006943038,0.042990025,0.008204985,-0.02237046,-0.01206999,0.04619379,0.025369331,-0.026691815,-0.035576668,0.040866602,0.013513546,0.050030854,-0.029262275,0.015571778,-0.0050384756,-0.00045867826,0.0035599952,-0.058710817,-0.05621486,0.0016309853,0.02553697,0.018216744,0.0737238,-0.010961711,0.03755108,-0.0926111,0.035576668,-0.001296872,0.012088616,0.021960676,0.04474092,0.013783631,-0.0457095,-0.10445757,0.009397083,-0.002159513,0.020358795,0.04120188,0.0066543273,-0.04362333,-0.003485489,-0.0074971775,0.037308935,0.23350215,0.06143029,-0.016829068,0.003604233,0.030100469,-0.05841279,0.009276011,0.031199435,0.01668937,-0.034850232,0.027697647,0.037625585,-0.012293508,0.008326058,0.00096799736,0.014873283,-0.01957648,0.012544966,0.008172389,-0.013727751,0.01743443,-0.0037090073,0.088811286,0.048689745,-0.043846846,-0.04097836,-0.019008372,0.0030174975,-0.026952585,0.018440263,-0.04153716,0.046529066,0.06962596,-0.058338284,0.0037322906,0.022146942,0.0072177798,-0.029485794,-0.0084611,0.03304346,-0.021848917,0.0019837252,-0.016652117,-0.022892002,-0.00799078,0.02231458,-0.018579962,-0.0059046093,-0.027082972,-0.06549087,-0.02097347,-0.025611475,-0.0004333578,-0.0072596893,-0.048577983,-0.027418248,0.005438946,-0.008628739,-0.031329818,0.024493884,0.0064866883,0.02371157,-0.038445152,-0.009685795,-0.013113076,0.0198,-0.00450762,-0.057332452,0.058114767,0.038482405,0.013513546,0.037755974,0.0463428,-0.010104892,-0.00670555,-0.0013108419,-0.0009086253,0.010654374,0.010365663,0.018840732,-0.023618437,-0.01389539,-0.058114767,-0.00992794,0.018114299,0.010533301,0.012284195,0.054203197,-0.016372718,-0.0068126526,-0.034365945,-0.025108559,-0.0225381,-0.013476293,0.004544873,0.01786284,-0.009937253,-0.02183029,-0.02902013,0.026356537,-0.008484383,-0.0021106184,0.02339492,0.0074040447,0.03809125,-0.04693885,-0.004693885,0.03326698,-0.05140922,-0.03090141,-0.02639379,-0.0058254465,-0.021513639,-0.04731138,-0.019073565,0.06962596,-0.04000978,0.027716273,-0.0014307501,-0.01851477,-0.0059046093,0.0347571,0.003669426,-0.032745436,0.011893038,-0.019446095,0.018728973,0.03851966,-0.047236875,0.029038757,-0.00016792979,-0.022202821,-0.028628973,0.065416366,0.02274299,0.03572568,0.020470554,-0.0078045153,0.018170178,0.01985588,0.009760301,0.00847507,0.0076880995,0.028628973,0.015040921,0.065677136,-0.045187958,-0.03723443,-0.012796424,0.014184101,0.03717855,0.0045332313,-0.029392662,-0.014463499,0.005601928,-0.057593223,-0.041984193,-0.043176293,-0.028088804,-0.009611288,-0.023245906,0.0035762934,-0.023301786,0.03702954,0.001097801,0.0027520694,0.026840826,-0.021588147,-0.06545362,0.013886076,0.0014423918,-0.016354091,-0.027883912,0.04228222,-0.024456631,-0.0046543037,-0.046864346,-0.047274128,0.003632173,-0.027883912,0.016707996,0.02140188,-0.042356726,0.019334337,-0.0022968836,0.01780696,1.7880739e-05,-0.021793038,0.024438005,-0.013988523,-0.0136811845,0.078082405,-0.0068126526,0.009648541,0.03606096,0.014333113,0.03196312,0.017704515,0.006216604,-0.046640825,-0.016130574,-0.0216254,-0.013085136,0.029578926,-0.041984193,0.038668673,-0.028330948,0.023506679,0.0032666274,0.039041203,0.022892002,0.02322728,-0.05573057,0.01606538,0.00029045742,-0.008950046,0.04842897,0.008400564,-0.0051409216,-0.03278269,-0.018095672,0.039786264,-0.01643791,-0.01386745,-0.0021769754,0.0012910512,-0.040754844,-0.0098813735,-0.010021072,0.022221448,-0.0057416274,0.0006431973,-0.014128221,-0.025667356,0.0122190025,0.021420507,0.024102727,0.047460392,0.01894318,-0.033117965,-0.009685795,-0.0117254,0.008409877,0.055022765,-0.050142612,0.010058325,-0.045523234,0.0049127466,0.020414675,-0.011399435,0.010905832,-0.03160922,0.047609404,0.023003763,-0.008954703,0.034105174,0.004619379,-0.019613734,-0.004398189,0.009099059,-0.015450705,-0.0009918626,-2.3264969e-05,-0.0075204605,-0.02048918,-0.0013760347,0.0098813735,-0.023339039,-0.0076974127,-0.019241203,0.023432173,0.00050087896,0.0029965427,-0.025350705,0.020079397,0.04157441,-0.02048918,0.022724364,0.04693885,-0.0034505643,-0.03809125,0.030715145,-0.022184195,0.033714015,0.02456839,0.04243123,0.042468484,0.0045495294,-0.0063935556,-0.049881842,0.011604327,0.0034948024,-0.028889745,0.027325116,-0.006957008,-0.00630508,-0.02548109,0.045821257,-0.013327281,-0.023376292,0.010598495,0.030305361,-0.0022130643,-0.016754562,-0.024438005,0.026505549,0.044815425,-0.053160112,0.007580997,0.039674506,-0.004540216,-0.058673564,0.006225917,0.043548822,0.051744495,-0.0013527516,0.03911571,0.003147883,0.082254745,-0.0066543273,-0.021122484,-0.021066602,-0.012358701,0.034216933,-0.0013655573,0.0013783631,0.0026892049,-0.008014063,-0.024009595,-0.03170235,-0.09439924,-0.025183065,-0.038445152,0.01295475,0.07696481,0.025015427,0.059455875,-0.042766508,0.038705926,-0.010998964,-0.0072829723,0.0050943554,0.031255312,-0.028237816,0.0091269985,-0.028498588,-0.026691815,-0.04693885,-0.029876951,-0.011650893,-0.045634992,0.0105053615,-0.034682594,-0.028871119,0.045448728,0.041313637,-0.00210829,0.052862085,0.009532126,0.010943085,-0.01708984,0.010579868,-0.063181184,-0.0450762,0.029616179,0.028926998,0.0034668625,-0.018756913,-0.0136811845,-0.03540903,-0.04157441,0.00046770048,-0.009210818,0.040419567,-0.00671952,0.057108935,-0.017453056,0.06493208,0.0077486355,-0.030398494,-0.04585851,-0.010263217,0.010440169,0.012377328,-0.005858043,-0.043437064,-0.038482405,0.012684666,-0.026412416,0.04839172,0.017369237,0.0329317,-0.0003940675,0.039041203,-0.14059304,0.022389086,0.013029256,0.007981467,-0.007376105,-0.009285324,-0.028144684,-0.022295954,-0.018542709,-0.10170084,0.001650776,0.03986077,-0.0006030338,-0.023022389,-0.008260865,0.040047035,-0.010617121,-0.0051316083,-0.0035716367,0.064894825,-0.0087311845,0.03395616,-0.014826716,-0.01072888,0.012293508,-0.019483348,-0.022593979,-0.021439133,-0.023003763,-0.06034995,0.025183065,-0.04291552,0.009741674,0.048503477,0.0030011993,0.012544966,0.001996531,0.00067579374,-0.03971176,-0.0042282217,-0.031590592,-0.004090851,-0.010710253,-0.0074878642,-0.026840826,-0.0028102775,-0.027977046,0.0038719894,-0.05885983,0.00012441938,-0.0054249763,0.031329818,-0.084340915,0.024493884,-0.02091759,0.0143238,-0.059679396,0.012293508,-0.03131119,0.040754844,-0.0092946375,0.00022657425,-0.030603385,-0.038482405,-0.026412416,0.0063190497,-0.08456444,0.014081655,0.014677704,0.027809406,0.018952493,-0.053607147,-0.023786075,-0.037402067,0.026058512,0.032000374,-0.009173565,-0.03755108,0.026505549,0.009094402,-0.0056764344,-0.024531137,-0.03971176,0.031534713,0.022724364,0.029318156,0.009583348,0.026039885,-0.056103103,-0.016642803,-0.05327187,-0.01518062,-0.044852678,0.042021446,-0.028610347,0.0013166626,-0.030491626,0.008535607,0.00222587,-0.012759171,-0.024493884,0.013662558,-0.041276384,0.032019,0.0042491765,0.027921164,0.024773283,0.030156348,0.013513546,8.876705e-05,-0.029783819,0.0150968,-0.017816273,-0.011976858,-0.0652301,0.0036391579,0.0134111,0.07830592,-0.051632736,0.031795483,0.031404328,-0.006831279,0.008265521,-0.011427375,0.0027613828,-0.018617215,0.049174033,0.027567262,-0.0048661805,-0.048205454,-0.008344685,-0.061355785,-0.018496143,0.030528879,0.017769707,-0.021420507,-0.044778172,0.040531326,-0.013569426,0.010943085,-0.008628739,0.02430762,-0.006682267,0.0065192846,-0.013792944,-0.013811571,0.04630555,0.019427469,-0.02413998,-0.04097836,0.048950516,0.048093695,0.0060303384,0.027157478,-0.013001316,0.0037648869,-0.023767449,0.0035180855,-0.004237535,0.06798682,-0.03190724,-0.033080712,-0.006989605,-0.00055006467,0.009685795,-0.025984006,0.018281937,0.00039144812,0.005033819,0.04109012,0.023953715,0.04511345,0.009397083,0.007236406,0.021904796,-0.011306303,-0.0022992122,-0.0069290684,0.028330948,-0.0004671184,0.015460018,0.015972247,0.008139793,0.050328877,0.034794353,-0.029746566,-0.013820884,0.036098212,0.03326698,0.012144496,-0.03792361,-0.03490611,0.0054342896,-0.01386745,0.019446095,-0.011632266,-0.003618203,0.019911759,-0.010021072,0.038184382,0.009723048,-0.056550138,0.036340356,-0.04496444,0.006491345,-0.013224835,-0.043846846,-0.03797949,-0.01472427,0.003683396,-0.014714957,0.010365663,-0.008284148,0.024400752,0.029225022,-0.04153716,0.054985512,0.03971176,0.011418061,-0.006272483,0.06046171,0.027362369,-0.011716086,-0.047981936,-0.058487296,-0.016242333,-0.022146942,0.030640638,-0.011250423,-0.03941373,-0.04496444,-0.080839135,-0.016763875,0.026635936,-0.00978824,0.012358701,-0.013578739,0.03514826,0.038817685,0.015124741,0.05155823,-0.00811651,0.049174033,0.0006862711]', 't', '2025-11-18 10:27:01.624283+00', '2025-11-24 06:50:33.483961+00', NULL, 'published', 'f', 'approved', NULL, NULL, NULL);
INSERT INTO "public"."experience_records" VALUES ('c841d916-c6c8-4a95-bd89-7d9c47983471', NULL, '数据库权限策略缺失导致关键字无法保存', '在使�?Recall Kit MCP 服务器提交经验记录时，经验记录本身创建成功，但关联的关键字（keywords）没有保存到数据库中。通过 MCP 查询接口也无法通过关键字检索到刚提交的经验记录�?

错误表现�?
- `submit_experience` 接口返回成功状�?
- 经验记录 ID 正常返回
- �?`experience_keywords` 表中没有对应的关键字记录
- 查询接口无法通过关键字找到该经验记录', '问题根源在于数据库的权限策略配置不完整�?

具体原因�?
1. `experience_keywords` 表启用了权限控制
2. 但只配置了读取权限，允许所有用户读取关键字
3. **缺少插入权限**，导致匿名用户无法插入关键字记录
4. 代码中的错误处理只是记录日志（`console.error`），没有抛出异常，所以经验记录创建成功，但关键字插入被静默失�?

权限控制的工作原理是：如果启用了权限控制，默认情况下会拒绝所有操作，除非有明确的权限允许该操作。由于没有插入权限，所有插入操作都被拒绝�?, '1. **修复权限策略**：在数据库迁移文件中添加插入权限
   ```sql
   -- 为匿名用户授予插入权�?
   GRANT INSERT ON experience_keywords TO public;
   ```

2. **创建迁移文件**：为已部署的数据库创建新的迁移文件，包含相同的权限，用于应用修复

3. **应用修复**�?
   - 新部署：权限已包含在初始权限配置�?
   - 现有数据库：需要运行新的迁移文�?

修复后的策略允许匿名用户（通过 API）插入关键字记录，与 `experience_records` 表的策略保持一致�?, '- **技术栈**：PostgreSQL, TypeScript, 权限控制
- **项目结构**：Recall Kit 经验分享平台
- **相关�?*�?
  - `experience_records` - 经验记录主表（已�?INSERT 策略�?
  - `experience_keywords` - 关键字关联表（缺�?INSERT 策略�?
- **相关文件**�?
  - `supabase/migrations/002_rls_policies.sql` - 权限策略定义
  - `mcp-server/src/services/experienceService.ts` - 经验服务（关键字插入逻辑�?, 0, 0, 0, '''/src/services/experienceservice.ts'':108 ''1'':28,50 ''2'':32,62 ''3'':35,67 ''4'':38 ''api'':75 ''console.error'':40 ''experi'':16,22,29,58,78,90,96 ''grant'':55 ''id'':19 ''insert'':56,94,100 ''keyword'':9,23,30,59,97 ''kit'':4,87 ''mcp'':5,12,106 ''mcp-server'':105 ''postgresql'':82 ''public'':61 ''recal'':3,86 ''record'':79,91 ''server'':107 ''sql'':53 ''submit'':15 ''supabase/migrations/002_rls_policies.sql'':103 ''typescript'':83 ''�?':77 ''为匿名用户授予插入权�?':54 ''为已部署的数据库创建新的迁移文件'':64 ''代码中的错误处理只是记录日志'':39 ''�?':21 ''但关联的关键�?':8 ''但关键字插入被静默失�?':43 ''但只配置了读取权�?':33 ''修复后的策略允许匿名用户'':73 ''修复权限策略'':51 ''允许所有用户读取关键字'':34 ''关键字关联表'':98 ''关键字插入逻辑'':110 ''具体原因'':27 ''创建迁移文件'':63 ''包含相同的权�?':65 ''在使�?':2 ''在数据库迁移文件中添加插入权�?':52 ''如果启用了权限控�?':45 ''导致匿名用户无法插入关键字记�?':37 ''已有'':93 ''应用修复'':68 ''所以经验记录创建成�?':42 ''所有插入操作都被拒�?':49 ''技术栈'':81 ''接口返回成功状�?':17 ''插入关键字记�?':76 ''数据库权限策略缺失导致关键字无法保存'':1 ''新部�?':69 ''服务器提交经验记录时'':6 ''权限已包含在初始权限配置�?':70 ''权限控制'':84 ''权限控制的工作原理是'':44 ''权限策略定义'':104 ''查询接口也无法通过关键字检索到刚提交的经验记录'':13 ''查询接口无法通过关键字找到该经验记录'':25 ''正常返回'':20 ''没有保存到数据库�?':10 ''没有抛出异常'':41 ''现有数据�?':71 ''用于应用修复'':66 ''由于没有插入权限'':48 ''相关文件'':102 ''相关�?':89 ''策略'':95,101 ''经验分享平台'':88 ''经验服务'':109 ''经验记录'':18 ''经验记录主表'':92 ''经验记录本身创建成功'':7 ''缺少'':99 ''缺少插入权限'':36 ''表中没有对应的关键字记录'':24 ''表启用了权限控制'':31 ''表的策略保持一�?':80 ''通过'':11,74 ''错误表现'':14 ''问题根源在于数据库的权限策略配置不完�?':26 ''除非有明确的权限允许该操�?':47 ''需要运行新的迁移文�?':72 ''项目结构'':85 ''默认情况下会拒绝所有操�?':46', '[-0.03354226,0.0006257115,-0.022404252,-0.0011346388,-0.018813709,-0.0034073514,0.014004947,-0.010267852,0.00970912,-0.017348181,-0.01133036,0.0018628228,-0.021378381,0.0114585925,0.01354697,-0.013235545,0.007950487,-0.009590046,0.047812834,0.022679036,-0.000570468,0.005582744,0.017815318,-0.0115410285,-0.013015715,0.018630518,-0.008348927,-0.0036203107,0.011247924,-0.0067597455,0.007158186,-0.03191186,-0.02181804,-0.020847129,-0.026690919,-0.0140507445,-0.020920405,0.00727268,-0.020022769,0.022111146,-0.04601756,-0.011412795,0.028119808,-0.03574055,-0.021891316,-0.018447326,0.033395708,-0.007213143,0.0213967,0.023393482,-0.04543135,-0.011000616,0.026690919,-0.03127069,0.060306456,0.026397813,-0.03843346,-0.0033684233,-0.004836241,0.010222054,-0.007355116,-0.047629643,-0.010231214,0.009873991,0.022624081,0.07334965,-0.005234681,-0.004339335,-0.00022011535,-0.06100258,-0.014087383,0.070638426,-0.050560698,-0.06045301,-0.05854782,0.031820264,0.058474544,0.013198907,-0.017705403,0.021543253,-0.022514166,-0.022880547,0.024565903,0.057485316,-0.016917683,0.022770632,-0.040082175,0.008838963,0.0014781218,0.013281343,0.033670492,-0.033615537,0.027258812,-0.04539471,-0.0034004818,-0.0053629144,0.014252255,0.01353781,0.007822253,0.044588674,0.008701569,0.00929236,0.01817254,-0.02971357,0.0702354,0.0150033375,0.046347305,-0.0068055433,0.06862333,-0.009177865,-0.025866559,0.019363282,0.0041859127,-0.033011004,0.011073892,-0.039495964,0.024932286,-0.039202858,0.01939992,0.03132565,0.021653168,0.071884125,0.02969525,-0.011073892,0.007602424,0.01473771,-0.0040530995,0.012035645,-0.002866938,0.023356844,0.045907646,-0.0034073514,-0.028467871,-0.032223284,-0.050670613,-0.0052942177,7.019934e-05,0.050267592,0.035832148,-0.074705265,-0.005555265,0.021872997,-0.00059479807,-0.02870602,0.03154548,-0.023668269,0.013949989,0.037077844,-0.00929236,0.009187025,0.006205593,-0.0025578034,0.021250147,-0.021433339,0.030611204,-0.10148778,-0.02768015,0.02687411,0.032772858,0.0043782634,-0.01737566,0.014481243,-0.040045537,0.07012549,0.053418476,-0.016807768,0.02626958,-0.013263023,-0.007052851,0.00030942092,0.021671487,-0.04986457,0.00036008467,-0.003414221,-0.005981184,0.015323921,0.054700814,0.03308428,0.023540035,-0.05858446,-0.00046713688,0.038250268,0.032882772,-0.029237272,0.0010081226,0.00262879,-0.00988315,-0.042097278,-0.0033157559,0.040558472,-0.0197663,-0.011495231,0.010231214,0.010615914,0.0044194814,0.0017277194,-0.0030180707,-0.04425893,0.0319485,0.023998013,-0.03172867,0.03938605,0.03817699,-0.011522709,-0.0400089,-0.035227615,0.0004425206,-0.019344963,0.031527158,-0.0412546,0.03515434,0.015296442,-0.020352513,0.04187745,0.0019647228,-0.0058941683,-0.031655394,0.033505622,-0.021744763,-0.055580128,-0.06320087,0.05719221,-0.054004688,-0.023906417,0.008646612,0.019747982,0.08302213,0.007249781,0.022276018,0.012044804,-0.03238816,0.0006812413,-0.011202126,-0.0023379743,0.06855005,0.0024501786,-0.00869241,-0.035062745,0.06323751,-0.0012010456,-0.043929186,-0.04601756,0.031179097,0.02159821,-0.031362288,-0.03658323,0.02647109,0.013299662,-0.0047996026,0.0031348548,-0.046090838,0.038689926,-0.0290724,-0.023320206,-0.0069383564,-0.011174647,0.030079952,-0.0213967,-0.0070436914,0.000798598,-0.004300407,0.012786727,0.018886985,0.010423564,-0.008513799,-0.009049632,-0.015910132,-0.06492287,0.0061918534,0.017467255,-0.034256704,0.01897858,0.059243947,0.011907411,0.036858015,-0.021781402,-0.027423682,-0.02222106,0.07027204,0.019949492,-0.029402144,0.020883767,0.03312092,0.015378878,0.033670492,-0.00037267906,0.047153346,-0.040118814,-0.021524934,-0.023466758,0.0059308065,0.014710232,0.07334965,0.00465076,-0.0032424794,0.0128874825,0.0022715675,-0.13548802,0.011843294,0.028449552,-0.01394083,0.0060315616,-0.014856785,-0.024217842,0.0032882772,-0.05111027,0.0062513906,-0.041181322,-0.04627403,0.0123287495,-0.0050835484,-0.019363282,-0.030831033,-0.005010272,0.005958285,-0.0074283923,-0.050267592,-0.00012007593,-0.040924855,0.049791295,0.04381927,0.0027409943,-0.048545595,0.059353862,0.03537417,-0.041144684,0.0007213143,-0.012768408,-0.012896642,-0.0012067703,0.052209415,0.0008403884,0.021433339,-0.021854678,0.008413044,0.03934941,-0.018273296,0.036638185,0.041364513,0.01474687,0.0135927675,0.032589667,0.021763083,0.015104093,-0.017073395,-0.02625126,0.016102483,-0.03596038,-0.0073780147,-0.024455989,-0.01111053,-0.00788637,0.014288893,0.022935504,0.043892547,-0.034824595,0.012392866,0.017146671,0.021048639,0.011595986,0.0027822123,0.0035813828,0.008733627,0.041327875,0.014069064,0.03975243,-0.007029952,0.03476964,-0.013446215,0.0028760976,0.0331026,-0.03211337,0.024162885,0.044112377,-0.02909072,-0.054957278,-0.123690516,-0.009397695,0.019528154,0.020279236,-0.0046942676,-0.015085774,0.002848619,0.0022337844,0.04323306,0.056239616,0.21792394,0.013702681,-0.023759864,-0.019693024,0.020847129,0.01656046,-0.016862726,0.03009827,0.030812714,-0.033652175,-0.032937728,0.040118814,0.013391257,-0.010148778,-0.011083052,0.02040747,-0.0150033375,0.003091347,0.04708007,-0.031435564,0.025701689,0.003938605,0.004795023,0.024602542,-0.045724455,-0.044332206,-0.03916622,-0.00026634245,-0.042243827,0.043269698,-0.016386429,0.036326762,0.092181675,-0.08602646,-0.044991694,-0.0058300514,0.0173665,0.0068605,-0.013556129,0.03678474,0.018630518,-0.014774349,0.007327637,-0.015699463,0.006768905,0.020096045,-0.011870773,-0.029658612,0.0027730528,-0.02407129,-0.045174886,-0.0197663,-0.014893423,-0.013601927,0.010405245,-0.014014106,0.00017503322,-0.006324667,-0.02568337,0.006942936,0.031362288,0.029420463,-0.08412128,0.06085603,-0.03416511,0.00057075423,0.035429128,-0.03517266,0.013088992,0.077526405,0.01998613,0.023137014,0.033688813,0.022202741,0.023796503,-0.0077718752,0.025573455,0.06426338,-0.065655634,0.02000445,-0.0086695105,0.013382098,-0.015067454,-0.011953209,0.020700576,0.03471468,0.001757488,0.06876988,-0.022514166,-0.01009382,-0.026068069,-0.022404252,-0.016249036,0.024346074,0.026068069,0.04165762,-0.045248162,-0.013363779,-0.010176256,-0.042170554,-0.02266072,0.00031113834,0.017119193,-0.037444226,0.005372074,-0.041144684,0.021323424,-0.004410322,-0.009031313,-0.008912239,-0.078625545,0.014728551,-0.02000445,0.006746006,-0.011266243,0.010634233,0.002724965,-0.0034829176,0.017027598,0.060746115,0.010331969,0.015214007,-0.034659725,-0.009397695,-0.006278869,-0.020938724,-0.013473693,-0.051806394,-0.054041326,0.003801212,0.041144684,-0.0335789,0.04587101,-0.0033798728,-0.009058791,-0.029328868,0.014279733,0.037627418,-0.04869215,0.02117687,-0.016294833,-0.014691913,-0.01877707,-0.002642529,-0.0032378996,-0.0072406214,-0.008504639,-0.013611087,-0.0013624826,0.007538307,0.031014225,0.00888934,0.039239496,-0.03330411,0.0021925664,-0.015076614,-0.014178978,0.020480746,0.024364393,-0.026635962,-0.00807872,0.0005209492,0.0056468607,0.013143949,0.018832028,-0.012282952,0.028156446,-0.0049598943,-0.03235152,0.01839237,0.0073871743,-0.052649073,-0.07301991,0.042097278,0.012814206,0.006278869,-0.029365506,-0.031234054,-0.011174647,-0.063274145,0.023576673,-0.025701689,-0.035722233,0.0339636,0.034678042,0.033615537,-0.012438664,-0.014609477,0.00012472726,-0.015708622,-0.02647109,0.11966032,0.009159546,0.0004473866,-0.021048639,0.047336537,0.041730896,0.04022873,-0.020315874,-0.024346074,-0.021653168,-0.012466143,0.034806278,-0.0036294702,-0.010460203,-0.007561206,0.022111146,0.018099263,-0.02282559,-0.035539042,0.0028967066,0.026819153,-0.10104812,-0.0036523691,0.065325886,-0.03777397,0.052612435,-0.0145270405,-0.030464653,0.0035103962,-0.00848632,-0.03354226,0.026489409,-0.02121351,-0.019106815,0.012264633,-0.012493622,-0.044588674,0.0007459306,-0.034256704,-0.0049598943,-0.020517385,0.014270574,-0.040705025,0.018905304,0.027496958,0.018209178,0.018254977,0.06613193,-0.0080466615,-0.01051516,-0.07979797,-0.02806485,0.01394083,-0.026324537,0.013647725,-0.01634979,0.004101187,-0.009617524,0.033395708,-0.0046530496,0.029768527,0.02626958,0.008367246,0.026306218,0.065325886,-0.015241485,-0.033670492,-0.032223284,-0.017091714,-0.02181804,0.035319213,0.015864335,0.0037325153,-0.026929067,-0.04766628,0.019161772,-0.03372545,0.019619748,-0.037700694,-0.0015868915,0.0070665902,-0.019949492,0.0122463135,0.013913351,0.008811484,-0.02909072,-0.02082881,0.015919292,-0.0050240112,-0.034421574,0.03145388,-0.013464534,0.057118934,-0.00039128438,0.06276121,0.06862333,-0.0064712195,0.0073367967,-0.03879984,-0.012658494,-0.013876713,-0.0153514,0.012392866,-0.020773852,0.013263023,0.008101619,0.036656506,0.0044492497,0.039239496,-0.011586826,-0.0025417742,-0.055580128,0.034879554,-0.039935622,0.0072039836,-0.007561206,-0.014627796,0.010533479,0.025152115,0.03191186,-0.029035762,0.03777397,0.025903197,0.021506615,0.011257083,0.076500535,-0.018923623,0.016532982,-0.020334193,0.019363282,-0.0063155075,-0.03376209,-0.027222173,-0.03313924,-0.019638067,-0.04689688,0.013162268,-0.009599205,-0.008568756,-0.023338525,-0.02081049,0.014939221,0.005642281,0.009525929,0.03858001,0.027496958,-0.04708007,-0.008449682,0.009324418,0.043929186,-0.06268793,0.032150008,-0.027918298,-0.020480746,-0.01699096,-0.025280349,-0.014911742,-0.026635962,0.012420345,0.012988237,0.027002344,-0.023173653,-0.016688693,0.030043313,-0.03680306,-0.05656936,0.037627418,0.015534591,-0.002160508,-0.04444212,0.05818144,-0.0074467114,-0.016871884,0.044295568,-0.007556626,0.013766798,-0.026232941,0.0008157721,0.0046301507,-0.041950725,-0.0029012864,-0.011247924,0.026855791,-0.031179097,0.029731888,-0.033780407,-0.022953823,-0.0050560697,-0.047996026,-0.03781061,-0.012447824,0.0012892062,-0.01030449,-0.028925847,0.015864335,-0.06909962,0.012237154,-0.033065964,0.0046003824,-0.009993065,0.009974746,-0.028870892,0.018749593,-0.13065177,-0.010973137,0.0028234303,0.008541278,-0.018923623,0.014380489,-0.007213143,-0.034458213,-0.023576673,-0.056056425,-0.08228937,0.008376406,0.0153514,-0.04488178,-0.018410688,0.011733379,0.03630844,-0.016084164,-0.01980294,-0.0020059408,-0.031472202,-0.002284162,0.044955056,0.018749593,-0.0063155075,-0.0011317765,-0.012823366,0.043782633,-0.041767534,-0.00034863525,0.0025371944,-0.012795887,0.027368724,0.01393167,0.0063384064,0.009819034,0.006901718,-0.0065719746,-0.022367613,-0.0073367967,-0.017531373,0.014435446,-0.01697264,0.0045935125,0.0038928073,0.034091834,-0.030244824,-0.03213169,-0.012860004,-0.027185535,-0.031343967,0.007332217,-0.047446452,-0.016670374,0.030537928,-0.0021147104,-0.07203067,-0.004969054,-0.017229106,0.029218953,-0.018703794,0.011211285,-0.026819153,-0.060562924,0.0006234216,-0.014462924,-0.0064712195,0.030171547,-0.052758988,0.056862466,0.036381718,-0.033688813,-0.006388784,0.009338158,-0.010780786,0.0010939933,0.036638185,-0.05781506,-0.015113252,-0.043159783,-0.028156446,0.038103715,-0.031637073,0.0452848,0.07657381,0.02343012,0.009928948,-0.037004568,0.025078839,-0.015296442,-0.04751973,-0.016954321,0.013409576,0.018923623,0.00013538955,0.018245816,-0.021836359,0.009873991,0.006837602,-0.0059537054,-0.0066131926,-0.027606873,0.037883885,-0.012612696,-0.016496344,-0.026929067,0.015644506,-0.00949845,0.009150387,0.0029173156,0.026068069,-0.009461812,0.021140233,0.040082175,-0.06415346,0.024455989,0.016203238,0.026324537,-0.030226504,0.03172867,0.017650446,-0.010625074,0.01231959,-0.0016498633,0.0046530496,0.0127226105,0.020737214,-0.00020981087,-0.012960758,-0.033652175,0.015323921,-0.0142156165,-0.026764195,0.035667274,0.021488296,-0.049644742,-0.028815934,0.033267472,0.0031371447,-0.004504207,-0.007176505,-0.050414145,0.0064025233,-0.034018558,-0.00404394,-0.04297659,0.009040472,-0.009241982,-0.04832577,-0.0500844,0.019546472,0.026690919,0.024254479,0.01514989,-0.0007333362,0.04022873,-0.02989676,0.008156576,0.019491516,0.031142458,-0.0045568743,-0.031380605,-0.0105243195,-0.041364513,-0.04407574,-0.027716788,0.018117582,0.017668765,-0.020279236,0.014911742,-0.041474428,0.019253368,-0.0057842536,0.042866677,0.03938605,-0.09254806,0.022679036,-0.03132565,0.01719247,-0.05154993,-0.0059766043,0.027625192,0.037242718,-0.013052354,0.04242702,-0.029640293,0.023723226,0.011495231,0.011614305,0.031966817,-0.0074009136,-0.028779296,0.027442,0.013766798,0.009974746,-0.006182694,0.008184055,-0.03535585,-0.008110778,0.05356503,0.011696741,-0.04341625,-0.056935742,-0.021763083,0.039276134,0.025884878,0.021433339,-0.025793284,0.0021708126,0.07008885,-0.024126247,-0.02647109,-0.019839577,-0.026782515,0.01292412,-0.010011384,0.030831033,0.010423564,0.01111969,-0.057265487,-0.0016842117,-0.0250422,0.0069383564,-0.027973255,-0.048069302,0.0007699744,0.035484083,-0.03235152,0.04143779,-0.012905801,-0.012969918,0.0004282088,-0.016468864,0.0137393195,0.06525261,-0.014783508,-0.018630518,0.05396805,-0.05012104,0.016798608,0.023778183,0.024529265,0.038726564,0.025720008]', 't', '2025-11-19 12:14:09.99566+00', '2025-11-19 12:14:09.99566+00', NULL, 'published', 'f', 'approved', NULL, NULL, NULL);
INSERT INTO "public"."experience_records" VALUES ('7314ef02-85b3-4d8c-9537-95cbd1bd5e75', '886bb63d-44d6-491b-bfcf-b5d5c14124e2', 'Next.js 路由冲突导致404错误：路由组与顶级路由的路径冲突', '�?Next.js 15 应用中，用户点击热门经验列表中的链接时，跳转�?`/experience/[id]` 路径后显�?04错误。同时在构建时出现路由冲突错误：

```
Build Error: You cannot have two parallel pages that resolve to the same path. 
Please check /(search)/experience/[id]/page and /experience/[id]/page.
```

具体表现�?
1. 链接生成正确：`href="/experience/cf3d9a04-6bbd-4cf5-af70-236dc435244e"`
2. 点击后显�?04页面
3. 构建失败，提示路由冲�?, '**主要原因**：Next.js 不允许两个不同的页面路由解析到相同的路径

项目中同时存在两个路由文件：
- `web/src/app/(search)/experience/[id]/page.tsx` - 路由组内的路�?
- `web/src/app/experience/[id]/page.tsx` - 顶级路由

�?Next.js 的路由系统中�?
- `(search)` 是一个路由组（Route Group），用于组织路由但不影响URL路径
- 路由组内�?`(search)/experience/[id]/page.tsx` 解析�?`/experience/[id]`
- 顶级�?`experience/[id]/page.tsx` 也解析为 `/experience/[id]`
- 两者产生路径冲突，导致构建失败�?04错误

**次要原因**：项目中的链接指向错�?

部分代码中链接指�?`/search/experience/[id]`，但实际应该指向 `/experience/[id]`�?
```tsx
// 错误的链�?
<Link href={`/search/experience/${experience.id}`}>

// 正确的链�?
<Link href={`/experience/${experience.id}`}>
```', '### 步骤1：删除冲突的路由文件

删除路由组内的冲突文件，保留顶级路由�?
```bash
# 删除
web/src/app/(search)/experience/[id]/page.tsx

# 保留
web/src/app/experience/[id]/page.tsx
```

### 步骤2：修复所有错误的链接指向

修改所有相关组件的链接路径�?

**用户仪表盘页�?* (`web/src/app/admin/user-dashboard/page.tsx`)�?
```tsx
// 修改�?
<Link href={`/search/experience/${experience.id}`}>

// 修改�?
<Link href={`/experience/${experience.id}`}>
```

**经验列表组件** (`web/src/components/experience/ExperienceList.tsx`)�?
```tsx
// 修改�?
<Link href={`/search/experience/${experience.id}`}>

// 修改�?
<Link href={`/experience/${experience.id}`}>
```

### 步骤3：验证路由结�?

确保最终只有一个正确的路由文件�?
```
web/src/app/
  └── experience/
      └── [id]/
          └── page.tsx  // �?唯一的详情页路由
```

### 步骤4：重新构建并测试

```bash
# 清理构建缓存
npm run build

# 启动开发服务器
npm run dev
```', '**技术栈**�?
- Next.js 15.5.6 (App Router)
- React
- TypeScript
- Node.js v22.13.0

**项目结构**�?
- 使用 Next.js App Router 架构
- 采用路由�?(Route Groups) 组织路由
- 多个组件共享经验详情页链�?

**相关文件**�?
- `web/src/app/experience/[id]/page.tsx` - 经验详情页面
- `web/src/app/admin/user-dashboard/page.tsx` - 用户仪表�?
- `web/src/components/experience/ExperienceList.tsx` - 经验列表组件', 0, 0, 0, '''/experience'':10,31,35,54,72,76,83,93,104,114,135,148 ''/experience/cf3d9a04-6bbd-4cf5-af70-236dc435244e'':42 ''/page'':33,37 ''/page.tsx'':56,60,74,81,116,120,192 ''/search/experience'':90,99,130,143 ''1'':39 ''15'':6 ''15.5.6'':171 ''2'':43 ''3'':45 ''app'':172,181 ''bash'':110,160 ''build'':14,164 ''cannot'':17 ''check'':29 ''dev'':168 ''error'':15 ''experi'':79,154 ''experience.id'':100,105,131,136,144,149 ''group'':68,186 ''href'':41,98,103,129,134,142,147 ''id'':11,32,36,55,59,73,77,80,84,91,94,115,119,155,191 ''link'':97,102,128,133,141,146 ''next.js'':1,5,49,63,170,180 ''node.js'':176 ''npm'':162,166 ''page'':21 ''page.tsx'':156 ''parallel'':20 ''path'':27 ''pleas'':28 ''react'':174 ''resolv'':23 ''rout'':67,185 ''router'':173,182 ''run'':163,167 ''search'':30,53,65,71,113 ''tsx'':95,126,139 ''two'':19 ''typescript'':175 ''v22.13.0'':177 ''web/src/app'':52,112,153 ''web/src/app/admin/user-dashboard/page.tsx'':125,194 ''web/src/app/experience'':58,118,190 ''web/src/components/experience/experiencelist.tsx'':138,196 ''不允许两个不同的页面路由解析到相同的路径'':50 ''两者产生路径冲�?':85 ''主要原因'':48 ''也解析为'':82 ''但实际应该指�?':92 ''使用'':179 ''保留'':117 ''保留顶级路由'':109 ''修复所有错误的链接指向'':122 ''修改�?':127,140 ''修改�?':132,145 ''修改所有相关组件的链接路径'':123 ''具体表现'':38 ''删除'':111 ''删除冲突的路由文�?':107 ''删除路由组内的冲突文�?':108 ''同时在构建时出现路由冲突错误'':13 ''启动开发服务器'':165 ''唯一的详情页路由'':157 ''�?':4,62 ''多个组件共享经验详情页链�?':188 ''导致构建失败�?04错误'':86 ''应用�?':7 ''技术栈'':169 ''提示路由冲突'':47 ''是一个路由组'':66 ''构建失败'':46 ''架构'':183 ''次要原因'':87 ''正确的链�?':101 ''步骤1'':106 ''步骤2'':121 ''步骤3'':150 ''步骤4'':158 ''清理构建缓存'':161 ''点击后显�?04页面'':44 ''用于组织路由但不影响url路径'':69 ''用户仪表�?':195 ''用户仪表盘页�?':124 ''用户点击热门经验列表中的链接�?':8 ''的路由系统中'':64 ''相关文件'':189 ''确保最终只有一个正确的路由文件'':152 ''组织路由'':187 ''经验列表组件'':137,197 ''经验详情页面'':193 ''解析�?':75 ''路径后显�?04错误'':12 ''路由冲突导致404错误'':2 ''路由组与顶级路由的路径冲�?':3 ''路由组内�?':70 ''路由组内的路�?':57 ''跳转�?':9 ''部分代码中链接指�?':89 ''采用路由�?':184 ''重新构建并测�?':159 ''链接生成正确'':40 ''错误的链�?':96 ''顶级�?':78 ''顶级路由'':61 ''项目中同时存在两个路由文�?':51 ''项目中的链接指向错误'':88 ''项目结构'':178 ''验证路由结构'':151', '[-0.04946008,0.00012229837,-0.028235976,0.020300498,-0.0019414589,0.050779518,0.007911917,-0.018311916,-0.018575804,0.004106751,0.007026008,-0.006092977,0.0020392388,-0.01984812,0.008901495,-0.0012628908,0.004896058,0.0139012225,0.011818396,-0.033400632,-0.024466153,0.002145265,-0.0016504757,0.02621912,-0.0066678748,0.017972631,-0.019791571,-0.005979882,0.02280743,0.010687449,0.042561304,-0.04301368,0.06450167,0.01046126,-0.030610964,-0.038489893,-0.0319681,0.0060552782,-0.017765291,0.0049573174,0.003581332,0.0065830536,0.029046487,-0.040563297,0.011328318,0.007435976,0.035210148,-0.030837154,0.014193384,-0.01397662,-0.02620027,-0.020017762,0.027858993,-0.013816402,0.028085183,0.042297415,0.007275759,-0.028876845,-0.01883969,0.03685002,-0.03583217,0.0038145897,-0.015352605,-0.023580244,0.005136384,0.05436085,-0.021356048,-0.018198822,-0.013769279,-0.035719074,-0.022223108,0.010065428,-0.025766741,-0.072456,-0.014881377,0.0057678293,0.044710103,-0.03285401,0.033796463,0.018368464,-0.021186406,-0.008750702,0.016445853,0.021412596,-0.0013418214,0.03455043,-0.025201268,-0.02131835,0.048291434,-0.0012357952,0.0037863161,-0.021846125,0.013806977,-0.027858993,-0.0010743996,-0.00388763,-0.011686452,0.0033009513,0.06453937,-0.022562392,0.028424466,0.012553511,-0.0070542814,-0.030648662,0.049346983,0.023636792,0.06367231,-0.005711282,0.030252831,-0.0074265515,0.01575786,-0.016785137,-0.038131762,0.004490802,-0.03390956,-0.03470122,-8.077141e-05,-0.03564368,0.01964078,-0.04836683,0.048706114,-0.0030865427,0.06717825,-0.057715993,-0.0036543724,-0.0017447213,-0.013175532,0.056208063,0.018688899,0.018349614,0.023222111,-0.0024715904,0.019584231,-0.005235342,-0.024239963,0.042787492,0.02150684,-0.0069506112,0.037792478,-0.06208899,0.019678477,0.038414497,-0.011808971,-0.038866878,0.024635794,-0.04391844,0.05371998,0.048517626,0.02431536,-0.0020922518,-0.0001000623,0.0073747165,0.026294516,0.0029263252,0.022034617,-0.036963116,0.003958314,-0.0071720886,0.048970003,0.031006796,-0.0016987766,0.032646667,-0.011243498,0.0035577705,0.05568029,0.0054803803,0.004429542,-0.02921613,-0.047009695,-0.024673492,-0.0383391,-0.018622926,0.019160125,-0.007431264,0.006436973,0.019009333,0.069779426,-0.0010855913,0.008128681,-0.014231082,-0.043503758,0.0060882643,0.027180426,-0.040600996,-0.019216673,-0.0151264155,-0.0027095603,-0.026369913,-0.0139012225,0.019772723,-0.029781602,-0.037057362,0.09055115,0.015333756,0.017784141,0.0028768464,0.005673584,-0.03688772,-0.009052288,-0.031892706,0.004985591,0.00045797462,0.057640597,0.053192206,-0.013741005,0.011281196,-0.027218124,-0.03517245,0.016992478,-0.012025736,-0.0025045762,-0.031195287,-0.02836792,0.019489985,-0.03004549,0.020394742,0.009009877,0.030328227,-0.0036897145,-0.0045426367,-0.013260353,0.02388183,0.016398732,-0.040035523,0.051495783,0.029404622,0.070420295,0.026501857,-0.008204077,-0.04127956,-0.0052636154,0.019716175,0.026973085,-0.033080198,0.043654554,-0.011055007,-0.013486543,-0.015955776,0.020093158,0.019301495,0.010301041,-0.05696203,-0.0008599909,0.002113457,-0.025427457,-0.010197371,0.06729134,0.026087176,-0.03321214,0.0054144086,-0.010093701,-0.00072745804,-0.034399636,-0.0022206614,0.0085951965,0.022223108,0.002989941,-0.014353601,-0.006488808,-0.040638693,0.037170455,0.05198586,-0.0039630267,0.01575786,-0.009876937,0.00039730401,-0.02582329,0.01648355,0.0031407338,-0.023052469,-0.060844947,0.023504848,0.031440325,-0.023410602,-0.036510736,0.025898686,-0.0015397371,-0.052890617,0.060392566,0.04772596,-0.01193149,0.016898232,0.026464159,0.03132723,0.014155686,-0.0048183054,-0.0022595378,-0.029498866,0.0287826,0.019923516,0.028443316,0.023731036,0.07607503,-0.050854914,-0.022901677,0.03134608,0.00041320795,-0.15953891,-0.058243766,0.07848772,-0.0094575435,0.007963751,0.009344449,-0.024975078,0.013533665,-0.032288536,0.05929932,-0.04029941,-0.058356863,-0.023900678,-0.027557407,-0.007827096,0.021902673,-0.025107022,0.007893067,0.015333756,-0.033796463,-0.03969624,-0.0066537377,0.018085727,-0.017444856,0.02493738,-0.01056493,0.04305138,0.0071249655,-0.039733935,0.002836792,-0.024334209,-0.00992406,-0.009961758,0.021205256,0.014259356,-0.0031336655,0.040600996,-0.008656456,-0.01310956,-0.020432442,0.03453158,0.09055115,0.0051081106,-0.04987476,0.053983867,-0.04731128,0.0351536,-0.030874852,-0.015475124,-0.047650564,-0.02092252,0.002872134,-0.012025736,-0.03724585,-0.027105028,-0.025257815,0.0017517897,0.017925508,-0.022430448,-0.03260897,0.005607612,-0.042448208,0.06778142,0.013298051,0.0045049386,-0.009137109,0.05560489,-0.026520707,0.025766741,-0.044898596,0.009226643,-0.026765745,0.015333756,-0.020979065,-0.036152605,0.012921069,0.03728355,-0.03820716,0.033551425,-0.104348704,0.031591117,0.03713276,-0.018604077,0.015522247,-0.042146623,-0.011055007,-0.012063434,-0.057602897,0.03498396,0.22890367,0.01108328,-0.0042363387,-0.034682374,0.026275668,-0.02003661,0.043089077,0.04369225,0.042448208,-0.047688264,-0.01676629,-0.0018519256,0.00031690075,-0.02195922,0.012233077,0.041505754,-0.027331218,0.053983867,0.044597007,-0.054662436,0.04225972,-0.019150702,0.010715722,0.052777525,-0.05643425,-0.036341093,0.009707294,0.024466153,-0.045765653,0.045237876,-0.04648192,0.024183415,0.056660444,-0.06514254,-0.06853539,-0.023617942,-0.0020863614,-0.041430358,0.024786588,0.0049903034,0.0085857725,-0.01984812,0.030233981,0.05349379,0.03536094,-0.018123426,-0.015230086,-0.0034093338,-0.023523696,-0.019546533,-0.00375333,-0.00033015406,-0.02642646,0.009876937,-0.007148527,-0.04923389,-0.019678477,-0.024635794,-0.015852107,0.009942909,-0.022147711,0.0043517896,-0.03353258,0.040412504,-0.011328318,0.012204803,0.010498958,0.0014666968,0.03750974,0.036001813,-0.019273221,0.008340734,0.036529586,-0.038112912,0.009047575,-0.047801357,0.023504848,0.064614765,-0.051835068,0.033419482,0.004521432,0.010875939,-0.041618846,0.04949778,0.029121883,0.025069324,0.017114997,0.062616765,-0.033438332,0.019942364,-0.055341005,-0.004719347,0.030667512,0.04007322,0.001113865,0.025691345,-0.011224649,-0.021751879,-0.015946353,-0.003913548,-0.03752859,0.009400996,-0.015484548,0.04237281,-0.0051882192,-0.049007703,0.024843134,0.00469343,-0.008090983,-0.017840687,-0.057301313,-0.001638695,0.017953783,-0.018792568,-0.019216673,0.040374804,-0.006908201,-0.002246579,0.029084185,0.039922427,0.013345174,0.032797463,-0.016002899,-0.004139737,-0.023768734,-0.049837064,-0.020809423,-0.038414497,-0.035982963,0.027858993,0.022920525,-0.034456182,-0.026501857,0.007874218,0.03111989,0.025257815,0.014042592,0.032703217,-0.015493973,-0.0062626186,0.0019497054,-0.06450167,-0.013203805,-0.011592207,-0.007021296,0.032797463,0.004712279,-0.03387186,-0.016690891,0.013241503,0.058356863,0.026388763,-0.031025644,-0.06359692,-0.027557407,-0.020847121,0.023523696,0.017840687,-0.019094154,-0.006149524,-0.014994471,0.051420387,0.001097961,0.038678385,0.052061256,0.007275759,-0.01310956,0.029046487,0.024711192,0.0040949704,-0.020865971,-0.03496511,-0.062579066,0.06284295,0.0109513365,-0.008265337,-0.04840453,-0.0139389215,-0.008138106,-0.017595649,0.03579447,0.019923516,-0.050063252,0.027180426,0.0329671,0.01898106,0.026973085,-0.029932396,-0.02047014,-0.031572267,-0.029046487,0.13126524,-0.011045582,0.015814409,0.037867874,-0.01962193,0.059600905,0.046067238,-0.01910358,0.03456928,0.016898232,0.023165563,-0.0065312185,0.03472007,0.028744902,-0.024466153,0.023919528,-0.0308937,-0.045501765,-0.022863977,-0.013015314,-0.019942364,-0.06435088,-0.028066333,0.032081194,-0.035228997,0.055303305,0.039997824,-0.02090367,0.009259628,-0.062390573,-0.02324096,0.04391844,-0.018283643,0.004257544,-0.03455043,0.016078295,0.00031955141,0.020809423,0.013081286,-0.0041632983,0.01863235,0.01482483,-0.04452161,0.015493973,0.05481323,0.011403715,0.015531671,0.01982927,-0.016445853,-0.0308937,-0.01875487,0.038678385,0.010885364,-0.012638332,0.062503666,-0.0027331219,-0.03816946,0.019810421,0.02278858,0.0165024,0.009311463,-0.016068872,-0.017114997,0.057263613,0.0088826455,0.017689895,-0.008081558,-0.028707203,-0.028273674,-0.017360035,-0.007615043,0.025710193,-0.011592207,0.0016846397,-0.059186224,0.048442226,-0.02197807,-0.03711391,-0.050779518,-0.011413139,0.0139012225,-0.017086724,-0.018594652,0.001571545,0.0030700497,-0.04731128,0.0075914813,0.022977073,-0.007313457,-0.04184504,-0.034267694,0.009971182,0.04331527,0.006535931,0.023429452,0.0145043945,0.007058994,-0.004410693,-0.025182419,0.01751083,-0.016464703,-0.029668508,0.0004190983,-0.021431444,0.0033857725,-0.015936928,0.048291434,-0.0037721794,0.029027639,-0.008958043,0.014956773,-0.0074736746,-0.022147711,-0.056848932,0.018538106,-0.027029632,0.0061071133,0.008156955,0.010847666,-0.03647304,-0.059714,0.022939375,0.01702075,0.03790557,-0.013533665,0.04305138,-0.029894698,-0.0070542814,-0.0020675124,-0.0085857725,0.015022745,-0.041392658,0.03472007,0.005961033,-0.0040572723,0.03820716,-0.0143913,-0.046406522,0.011874943,-0.03472007,-0.009905211,-0.0006237879,-0.02557825,-0.036925416,-0.013844675,0.021808427,-0.018915087,0.0036920705,-0.0255971,0.04561486,-0.03666153,0.04094028,-0.02003661,-0.007718713,-0.020884821,-0.011309469,0.0088637965,-0.058696147,0.018000906,0.017944358,0.019207248,-0.008067422,-0.048291434,0.024579247,0.019565383,-0.02748201,-0.00063792476,0.029555414,0.043503758,-0.027406614,0.06555723,-0.010875939,0.0038994108,0.039356954,-0.034889713,0.026520707,-0.013995469,0.030460171,0.011036158,-0.032062344,0.02047014,-0.006733847,-0.025917534,0.003732125,0.018340189,-0.016898232,-0.021261802,0.034795467,-0.022317354,-0.023109015,-0.014994471,-0.039356954,-0.0040289983,-0.03905537,0.018670049,-0.02921613,-0.025408609,0.020017762,0.006432261,0.01257236,0.0202628,-0.03875378,0.023994925,-0.12440416,0.027387766,-0.008185228,0.0121482555,-0.04218432,0.01877372,0.020734027,-0.042071227,0.011686452,-0.027350066,-0.042071227,-0.0037439056,0.01844386,-0.034135748,0.03134608,0.021638785,0.012383869,-0.008614046,0.014843679,-0.025465155,-0.004627458,-0.015512822,0.003798097,-0.0024126868,-0.047424376,-0.041656546,-0.017435431,-0.015531671,-0.0014030811,-0.0077328496,-0.030818304,-0.026973085,0.017001903,0.059186224,0.019197825,0.039470047,0.00039288626,0.0049526053,0.007977888,0.004387132,-0.0030323516,0.02580444,-0.009382147,-0.015088717,0.06736674,0.02814173,-0.017982056,-0.026991934,-0.038904574,-0.033080198,0.004309379,0.051533483,0.0028697778,-0.00010374377,-0.011837245,-0.009240779,-0.04184504,-0.035247847,-0.054473944,0.01631391,-0.08361468,0.02065863,-0.0037274125,-0.017501405,-0.032797463,0.0074972357,-0.03281631,0.03502166,-0.000862347,-0.027350066,-0.0075867693,-0.08188056,-0.021940371,-0.02092252,0.00020925463,-0.013222654,0.00036785228,-0.012091707,0.013957771,-0.014730584,-0.06099574,0.0031902129,-0.055981874,0.0319681,0.11362247,0.021393746,0.025088172,-0.039507747,0.03030938,-0.024692342,-0.022072315,-0.03257127,-0.0150792925,-0.026030628,0.02092252,0.01854753,-0.0095942,0.037867874,0.0073228814,0.009094698,-0.033551425,0.005197644,0.026388763,-0.011799547,0.00091300404,-0.005857363,0.031855006,-0.007398278,-0.010008881,-0.04648192,-0.031232985,0.012892795,-0.013090711,0.0033716357,-0.051721975,0.025446307,-0.0145138195,0.007968464,0.004040779,0.009335024,0.0035554145,-0.034211144,0.014645763,-0.025389759,0.005805528,-0.020809423,0.043616854,0.032062344,-0.006639601,-0.040224012,0.027331218,-0.048894607,-0.02857526,0.022863977,0.013835251,-0.019254372,-0.016012324,0.023165563,-0.02495623,0.0063804258,-0.04305138,-0.022769732,0.0121388305,-0.036359943,0.003932397,-0.056094967,0.020432442,-0.01676629,-0.012440416,-0.02045129,-0.024560397,-0.0085951965,0.0011056184,0.015644766,-0.040563297,0.015032169,0.012534662,-0.03387186,-0.038075212,0.052513637,-0.037641685,-0.0036873582,-0.022524694,-0.000105363615,-0.006031717,0.023222111,-0.0056547346,0.0074265515,-0.030252831,0.040638693,-0.01821767,0.07524567,-0.006163661,0.032005798,0.035059355,-0.035719074,0.031930402,-0.043843042,0.062315177,-0.0001246545,0.018151699,-0.019527685,0.036265697,0.0031949251,0.002283099,-0.020206252,0.030120887,-0.012619483,0.0018778432,-0.029857,-0.040186316,-0.02944232,0.007077843,0.0094858175,0.054436248,-0.015993474,0.011818396,-0.012223652,0.011224649,0.07332306,0.0023855912,-0.0014820118,0.010527231,0.012911645,0.0052636154,-0.00030394198,-0.035756774,-0.028028635,-0.004896058,0.06208899,-0.019697325,-0.016653193,-0.006399275,-0.021751879,-0.0046533756,-0.028952241,0.03685002,0.02063978,0.037849024,-5.9593763e-06,0.054096963,0.018688899,-0.0032396917,-0.05134499,-0.016078295,-0.0013088355,-0.040827185,0.0035035794,0.008222926,-0.04557716,0.013279202,0.020884821,0.0007133212,0.041091073,0.0060694152,-0.029065337,0.00030246942,0.0019402809,-0.024993928,0.021751879,0.0012758495,0.0039488897,0.02876375,0.012930494]', 't', '2025-11-24 08:36:19.438349+00', '2025-11-24 08:36:19.438349+00', NULL, 'published', 'f', 'pending', NULL, NULL, NULL);
INSERT INTO "public"."experience_records" VALUES ('f8c5bab3-8cc1-4f85-b683-1c805e34ab02', NULL, '测试日志记录功能', '测试提交经验时的日志记录功能是否正常工作', '之前的submitHandler缺少日志记录逻辑', '在submitHandler中添加了submission_logs表的记录逻辑，记录成功和失败的提交状�?, '这是一个测试用例，用于验证日志记录功能是否正常工作', 0, 0, 0, '''logs表的记录逻辑'':5 ''之前的submithandler缺少日志记录逻辑'':3 ''在submithandler中添加了submiss'':4 ''测试提交经验时的日志记录功能是否正常工作'':2 ''测试日志记录功能'':1 ''用于验证日志记录功能是否正常工作'':8 ''记录成功和失败的提交状�?':6 ''这是一个测试用�?':7', '[-0.06340652,-0.03302883,-0.045106262,0.0025153644,-0.024688775,-0.0077094887,-0.017803166,-0.0021540541,0.008625422,-0.0255909,-0.0094354935,-0.0063332873,0.019662648,0.016873425,0.00070478534,0.04628455,0.00563368,-0.024338972,0.0350356,-0.009545958,-0.013099227,0.016118584,0.037962902,-0.030911598,-0.039730333,-0.0019676457,-0.006931636,0.0015741165,0.06797238,-0.007893596,0.044480298,-0.017545415,0.013679164,0.019681059,-0.06285419,-0.0062182206,0.002667253,-0.00946311,-0.019773113,0.05011398,-0.027560847,-0.0020677538,0.012684986,-0.05854609,0.0072262073,-0.008399891,-0.019809933,-0.0046625147,-0.034225527,0.018870987,-0.009453905,-0.006885609,0.061823197,-0.01739813,0.026787596,0.0111753065,-0.031335045,-0.059540268,0.0064299437,0.014231486,-0.009394069,-0.0023312573,-0.008367672,-0.0094124805,0.023455257,0.038331117,-0.00370976,0.006927033,-0.018281844,-0.03402301,0.033691615,0.02967808,0.0018088531,0.009886556,-0.050040334,0.03295519,0.0007318261,-0.010374441,-0.025756596,0.018189792,-0.035551097,-0.023418436,-0.0036476238,0.0016822795,-0.025811829,0.0009470014,0.017425746,0.042786513,-0.009191551,0.012951941,0.0058177873,0.010328414,0.018060915,-0.010402056,-0.025222685,0.0003184479,-0.0126573695,-0.001753621,0.043559764,-0.0035371594,0.0140381735,-0.014369566,0.017250843,0.0009510287,0.045437656,0.0219824,0.06454798,-0.0035716796,0.03914119,-0.0030377686,-0.011957762,0.028628668,0.022700418,0.013854066,0.007792337,0.025903882,0.009025855,0.00017878534,0.018116148,0.03251333,0.0049478807,0.024486257,0.0032126706,-0.0140842,-0.044480298,-0.028021114,0.00960119,0.01549262,-0.025922293,-0.005191823,0.017628264,0.025369972,-0.0025268712,-0.011920941,-0.030598616,0.0097945025,-0.0015580071,0.0573678,0.0021851223,-0.018263433,0.009426288,-0.013136048,-0.009062677,-0.023418436,0.037778795,-0.062301874,0.01634872,0.005707323,0.02047272,0.01793204,-0.009288208,0.0032402866,-0.0070098815,0.016017325,-0.01997563,-0.010125896,-0.0038961684,0.028849598,0.047536477,0.012823066,0.012961146,0.04193962,-0.01432354,0.04090862,0.035532687,-0.016716933,0.016910246,-0.02227697,-0.019607415,0.0062642475,0.027781775,-0.048788406,0.071875446,-0.0480888,0.04845701,0.022884523,0.06193366,0.044922154,0.0020309326,-0.03531176,-0.0019687964,-0.028573437,0.020546364,-0.028205222,-0.047831047,0.023841882,0.056447264,-0.021651005,0.0023772842,0.00020223025,-0.02993583,-0.051991872,0.04422255,0.05346473,-0.032642204,-0.006370109,0.034943547,0.014047379,-0.0018180585,0.0071111405,-0.015722753,0.032384455,0.004906457,-0.038257476,-0.0003653377,-0.02023338,-0.030009473,-0.060792197,0.004216055,-0.021614185,0.03995126,-0.008712873,-0.046726406,0.013062405,-0.0017559223,-0.01662488,-0.023639364,-0.023105454,-0.025719775,-0.047205083,-0.028278865,0.07010802,0.04330201,-0.0028996882,0.022405846,-0.007907404,0.06524759,0.051770944,0.0491198,-0.012546905,0.029788544,0.0025982128,0.027339919,-0.012758628,0.023933936,-0.033139296,-0.02201922,0.011433057,0.05935616,0.04529037,-0.04908298,-0.03172167,0.03019358,-0.023694595,-0.055710837,-0.042528763,0.046174083,0.027597668,-0.040650867,-0.025885472,-0.0006656626,0.019386487,-0.0094354935,-0.011046432,0.02533315,0.02122756,0.0122983605,-0.0074517387,0.0069546495,-0.011589548,-0.0007237714,-0.0067245155,0.040761333,0.016983889,0.026934883,0.017167997,0.0018376199,-0.04013537,-0.020767292,0.0052102334,0.007824556,-0.025425203,-0.009619601,-0.00070536067,6.0374216e-05,-0.0059006354,-0.01497712,-0.0056566936,0.097724095,0.009665628,-0.009711655,0.01971788,0.023363203,0.0047959923,0.08549938,0.005790171,0.05832516,-0.042418297,0.042086903,-0.048493836,0.056447264,-0.0064299437,0.055710837,-0.0071387566,-0.05048219,0.036545277,0.009960199,-0.1416889,-0.032936778,-0.021871934,-0.030580204,0.01858562,0.020399077,-0.017886015,0.027524026,-0.03166644,0.032642204,0.0035624742,-0.043449298,0.029641258,-0.017563825,-0.058030587,-0.021816703,-0.031555973,0.013596316,0.009417083,-0.05652091,0.0007674969,-0.028481383,0.032605384,-0.009647217,-0.022939757,-0.025149042,0.05328062,0.014047379,-0.011746039,0.030377686,-0.030396098,0.0017869904,0.0047269524,0.011285771,0.00767727,0.057478264,0.031077294,0.019883577,-0.056705017,-0.00139116,0.02557249,0.027947472,-0.010438878,0.03404142,0.0041332063,-0.01112928,0.022737239,-0.05217598,-0.042860154,-0.006181399,-0.018999862,-0.03505401,-0.017195612,-0.006222823,-0.036968723,-0.03295519,0.0026833625,0.010079869,-0.019773113,0.039325297,0.008864761,-0.05328062,0.029125758,-0.014028968,-0.035551097,0.009665628,0.015584674,-0.002977934,0.011874914,-0.052065514,0.013467441,-0.034501687,-0.014157843,0.020583184,-0.0061031533,-0.004110193,-0.024191685,-0.00054656825,-0.026971703,-0.106634885,-0.018870987,-0.009030458,0.009490726,0.023326382,-0.0022886826,-0.010171923,-0.0010166169,0.013071611,0.043817513,0.21827748,0.029475562,-0.03840476,-0.04915662,0.045769047,-0.0501508,-0.05456937,0.04606362,0.0095367525,-0.034133475,-0.038257476,0.040577225,-0.018760523,-0.014746986,0.021558952,-0.0073136585,-0.01971788,0.01920238,0.048862047,0.019368077,0.05243373,0.04094544,0.022313792,-0.017103558,-0.021687828,-0.024025988,-0.036269117,-0.013798834,-0.0056152693,0.036674153,-0.0276529,0.048714764,0.047241908,0.013541084,-0.008317042,0.011433057,0.029899009,-0.0007772776,-0.007516176,0.043154728,0.03682144,-0.0120958425,0.0040112357,0.0045037223,-0.041645046,-0.009941788,-0.019901987,-0.022148095,0.014360361,-0.00985894,-0.022203328,-0.032329224,0.00045796664,-0.012105048,0.008809529,0.007088127,-0.018475156,-0.013366182,-0.020859346,0.052323263,0.02739515,0.032181937,-0.022626774,0.022405846,0.013973736,0.021687828,-0.0075576003,-0.043707047,0.06742006,0.032163527,0.0376131,0.0059052384,0.038588867,0.013320155,0.0048098005,-0.016496005,-0.004407066,0.053059693,-0.04403844,0.047536477,-0.018318666,0.0028559628,-0.05681548,0.038257476,0.04223419,0.024928113,0.02380506,0.07423202,0.0006558819,-0.009058074,-0.043596584,-0.008832542,-0.03170326,0.012583727,0.004934073,0.052102335,-0.05445891,-0.020141328,-0.02457831,-0.020840934,-0.029622847,0.0043955594,0.013651548,-0.008321645,-0.005592256,-0.0024187083,0.036950313,0.004443887,0.033139296,0.014793013,-0.05884066,0.0029503177,-0.028996883,0.010438878,-0.006250439,0.018981451,0.029549204,0.016891835,0.021632595,0.04319155,0.031279813,0.048051976,0.002579802,0.0038846617,-0.016680112,-0.050997693,0.008146743,-0.014507647,-0.02483606,0.016449979,0.09124353,-0.021356434,0.051807765,0.016339513,0.029751722,0.026437793,0.0022230945,0.036232296,-0.0152164595,0.031058883,-0.059319336,-0.05836198,-0.02995424,0.0009999322,-0.008533369,-0.006798158,0.009941788,-0.0029065923,-0.035495866,0.02535156,0.06351698,0.063111946,0.010503315,-0.042639226,-0.007971842,-0.03477785,-0.02894165,-0.04624773,-0.0145997,-0.013513468,-0.01805171,-0.007170975,0.008298632,0.05423798,0.0030768914,-0.025369972,0.031445507,0.028831186,-0.015391361,-0.00023775718,0.029549204,-0.020546364,-0.0516973,0.030340865,0.019883577,-0.013439825,-0.04558494,0.011294976,-0.000810647,0.0009654121,0.04403844,-0.017582238,-0.02557249,-0.0052516577,0.011147691,-0.0062182206,0.030782722,-0.018263433,0.031169347,-0.018742112,-0.0148574505,0.13277811,0.010448083,-0.009246783,0.023878703,0.019147148,0.06267009,-0.00082330435,0.008165154,-0.028444562,0.028352508,-0.030156758,0.004333423,0.010779476,0.008013265,0.016652497,0.0002578939,0.015529442,-0.041313656,0.01856721,0.055968586,-0.014028968,-0.07754595,-0.0011040678,0.013458236,-0.07835602,0.07169134,0.051844586,0.015649112,-0.030138347,-0.04451712,-0.03411506,0.017527005,-0.01844754,-0.02892324,0.06042398,-0.019073505,-0.011018815,0.0019032081,-0.013237307,-0.012961146,-0.027708132,0.024909703,-0.023897113,0.02763449,0.0071479618,0.0082434,0.024246918,0.010015432,0.0025406792,-0.034133475,0.0021920262,0.016256666,-0.0034980366,-0.012592932,0.010899146,0.0016811289,-0.008583998,-0.009104101,0.033397045,-0.022626774,0.0061998097,-0.03150074,-0.027413562,0.011792066,0.071249485,-0.01690104,-0.013218896,-0.020178149,-0.0480888,-0.0030101526,0.040540405,0.029033704,0.0022472583,-0.019331256,-0.05136591,0.0047683762,-0.027358329,-0.0020102204,-0.03455692,-0.008298632,0.018778933,0.002213889,-0.039693512,0.0034036818,-0.014286718,-0.027358329,0.010217949,0.01727846,-0.019239202,-0.04300744,0.006696899,-0.003534858,0.052912407,0.015041558,0.015133611,0.02866549,-0.0034220924,0.03072749,-0.03409665,-0.0033392443,-0.008326248,-0.03203465,0.050813586,-0.03892026,0.02277406,-0.028868008,0.0029825366,-0.025369972,0.010208744,-0.014682549,0.011773655,0.0047499654,-0.014746986,-0.044112083,0.008326248,-0.01739813,-0.011359414,0.069960736,0.038331117,-0.02251631,-0.050592657,0.04532719,0.021430077,0.042050082,0.011515905,0.040798154,-0.023473667,-0.00059029367,0.018742112,0.01509679,-0.034335993,-0.059135232,0.011396235,-0.018198997,-0.031537563,0.010125896,-0.0007709489,-0.0067383233,-0.036747795,-0.04046676,-0.03921483,-0.016993094,-0.023878703,0.019496951,0.010908351,0.038331117,-0.07570488,0.022829292,-0.037741974,0.026400972,-0.050739944,0.04201326,-0.033452276,-0.012813861,0.0180333,0.021908756,-0.009122511,0.005725734,-0.02073047,0.01343062,0.015050763,-0.030267222,-0.0033162308,0.019773113,0.017269256,-0.0022829291,0.03866251,0.049966693,0.0026074182,-0.017839987,0.039325297,-0.008289427,-0.049230263,-0.0018007985,0.011396235,0.06830377,0.030580204,-0.00467172,-0.030874776,-0.013228102,0.02203763,-0.016670907,-0.028978473,-0.022203328,0.029328275,-0.040724512,-0.0039444966,-0.022332203,0.010503315,-0.06174955,-0.04713144,0.026290508,0.002290984,-0.046910513,-0.015584674,-0.031408686,0.015777986,0.0224979,-0.005592256,-0.017867602,-0.008201975,-0.031868957,0.009421686,-0.14345632,-0.0018192092,-0.03499878,-0.009987815,-0.011497494,-0.0069546495,-0.019312844,-0.021264382,-0.04090862,-0.071102194,-0.0680092,-0.010079869,0.014314334,-0.038257476,-0.033176117,0.021153916,-0.024265328,-0.0049110595,-0.035495866,-0.044664405,-0.007433328,-0.028076347,0.056447264,0.0011828888,-0.004425477,0.0035923915,0.0340046,0.0022046836,-0.016799781,1.4823865e-05,0.00068119663,-0.02124597,-0.00022236697,0.03533017,-0.019257613,0.016330307,-0.009941788,-0.028481383,-0.0026143221,0.022884523,-0.020086095,0.028334098,-0.008510355,0.0153177185,0.06602084,0.069850266,-0.02686124,-0.043449298,-0.040319476,-0.013043995,-0.026769185,0.0087589,-0.04403844,0.0024002974,-0.0012806957,-0.030046294,-0.040761333,-0.027781775,-0.050997693,0.029972652,-0.0056751044,0.010540137,-0.053980228,-0.03706078,-0.021025041,-0.019662648,-0.030617027,0.03428076,-0.019220792,0.028205222,-0.03324976,-0.008165154,-0.0005413902,-0.0032932174,-0.04017219,0.009499931,0.037428994,-0.047020976,-0.064400695,-0.002632733,-0.017886015,0.03610342,-0.0747107,0.04945119,0.059798017,-0.009886556,-0.0001517446,-0.026253685,0.020270202,-0.0365821,-0.017177202,-0.012648164,0.012445646,0.010503315,-0.040282656,0.007999457,-0.011331798,0.0012622849,0.019128738,-0.013817245,0.00029974952,-0.016808987,0.021816703,0.007806145,-0.054863945,0.010079869,-0.022682006,-0.011110869,0.0048374166,-0.0029848379,0.0070973323,0.0062872604,-0.003385271,0.013154459,-0.047683764,0.032384455,-0.005159604,0.031611204,-0.024154864,0.013605522,0.032660615,0.023841882,0.0018399212,-0.012648164,-0.013817245,0.01739813,0.012233923,0.005734939,-0.03707919,-0.008841748,-0.021319613,-0.026272096,-0.0007272234,0.07982888,0.051881406,-0.020288613,-0.06300148,0.017241638,-0.050997693,-0.011920941,-0.02942033,-0.042860154,0.009803708,-0.031592794,-0.0142959235,0.017121969,0.04742601,-0.0067475284,0.0021149314,-0.006342493,0.012261539,0.0026028154,-0.02073047,0.045511298,-0.016716933,0.02200081,0.0072400155,0.010862324,0.0017271556,0.019607415,-0.033231348,-0.040614046,-0.017407335,-0.06892973,-0.034593742,-0.016201433,0.014921888,-0.017029915,-0.04429619,-0.009555164,-0.010070664,0.035937723,-0.018180585,-0.020620005,0.065652624,-0.051660478,-0.0057119257,0.0041124946,0.06760416,0.005394341,0.025204275,0.0043288204,0.00021646978,0.034391224,-0.0048558274,-0.018705292,0.041571405,0.019644238,0.044148903,-0.00237038,-0.009564369,0.02253472,0.01946013,0.025682954,0.032550152,-0.037539456,-0.0006996073,0.048935693,-0.012252334,0.075999446,-0.041055903,-0.011055637,-0.027763365,-0.0058131847,0.02763449,0.014305129,0.014829834,-0.037318528,-0.006153783,0.012381209,-0.04124001,-0.015372951,-0.011773655,0.0049386756,-0.002715581,-0.026032757,0.026198454,0.011469878,-0.04624773,-0.017683497,0.0245599,0.0041078916,0.021687828,-0.017729523,-0.052102335,-0.032899957,-0.0064621624,-0.0074977656,0.008114524,0.05987166,-0.04786787,-0.022847703,-0.046763226,0.03455692,0.0034543113,-0.0031942597,-0.07239095,0.0054403674,-0.05143955,0.032181937,0.04407526,0.0046878294,-0.017241638,0.0068810065]', 't', '2025-11-19 12:15:46.087976+00', '2025-11-19 12:15:46.087976+00', NULL, 'published', 'f', 'approved', NULL, NULL, NULL);
INSERT INTO "public"."experience_records" VALUES ('55e56934-d6e1-4d27-83a3-8b569f79be80', NULL, 'Next.js App Router 嵌套 Layout 导致 React Hydration 错误', '�?Next.js App Router 项目中，打开 web 端首页时出现 React hydration 错误。错误信息显示服务器渲染�?HTML 与客户端不匹配，具体表现为：
- `lang` 属性不一致：服务器渲染为 "en"，客户端�?"zh-CN"
- Font Awesome 样式链接在客户端存在但服务器端缺�?
- 控制台警告显示有多个 `<html>` �?`<body>` 组件被同时挂�?

错误堆栈指向 `(search)/layout.tsx:15` �?`(search)/layout.tsx:20`，提示不应该同时渲染多个 `<html>` �?`<body>` 组件�?, '�?Next.js 13+ App Router 中，只有�?layout (`app/layout.tsx`) 可以包含 `<html>` �?`<body>` 标签。嵌套的 layout 文件（如 `app/(search)/layout.tsx`）不应该包含这些标签�?

问题根源�?
1. 嵌套 layout 错误地包含了 `<html lang="zh-CN">` �?`<body>` 标签
2. �?layout 使用 `lang="en"`，而嵌�?layout 使用 `lang="zh-CN"`，导致服务器和客户端渲染不一�?
3. 外部样式表链接（Font Awesome、Google Fonts）只在嵌�?layout 中，导致服务器端 HTML 缺少这些链接', '1. **修复�?layout** (`web/src/app/layout.tsx`)�?
   - �?`lang` 属性从 "en" 改为 "zh-CN"
   - �?Font Awesome �?Google Fonts 的链接移到根 layout �?`<head>` �?
   - 更新 metadata 为中文内�?

2. **修复嵌套 layout** (`web/src/app/(search)/layout.tsx`)�?
   - 移除 `<html>` �?`<body>` 标签
   - 使用 `<div>` 包装内容，保留原有的样式类名
   - 将函数名�?`RootLayout` 改为 `SearchLayout`（更准确的命名）

修复后的代码结构�?
- �?layout：包�?`<html>`、`<head>`、`<body>` 和所有全局资源
- 嵌套 layout：只包含页面特定的内容结构（Header、main 等）', '- **技术栈**：Next.js 13+ App Router, React, TypeScript
- **项目结构**：使用路由组 `(search)` 组织相关页面
- **问题场景**：开发环境下�?SSR hydration 不匹�?
- **相关文件**�?
  - `web/src/app/layout.tsx` - �?layout
  - `web/src/app/(search)/layout.tsx` - 嵌套 layout', 0, 0, 0, '''/layout.tsx'':41,45,68,133,178 ''1'':71,103 ''13'':52,158 ''15'':42 ''2'':77,128 ''20'':46 ''3'':91 ''app'':2,12,53,66,159 ''app/layout.tsx'':58 ''awesom'':34,94,117 ''cn'':32,89,114 ''en'':28,82,110 ''font'':33,93,96,116,120 ''googl'':95,119 ''header'':153 ''html'':22,101 ''hydrat'':8,19,170 ''lang'':25,81,86,108 ''layout'':5,57,63,73,79,84,98,105,122,130,147,151,175,180 ''main'':154 ''metadata'':126 ''next.js'':1,11,51,157 ''react'':7,18,161 ''rootlayout'':141 ''router'':3,13,54,160 ''search'':40,44,67,132,165,177 ''searchlayout'':143 ''ssr'':169 ''typescript'':162 ''web'':16 ''web/src/app'':131,176 ''web/src/app/layout.tsx'':106,173 ''zh'':31,88,113 ''zh-cn'':30,87,112 ''不匹�?':171 ''不应该包含这些标�?':69 ''与客户端不匹�?':23 ''�?':55,99,124 ''为中文内�?':127 ''使用'':80,85,137 ''使用路由�?':164 ''保留原有的样式类�?':139 ''修复后的代码结构'':145 ''修复嵌套'':129 ''修复�?':104 ''具体表现�?':24 ''包含'':148 ''包装内容'':138 ''只包含页面特定的内容结构'':152 ''只在嵌套'':97 ''只有�?':56 ''可以包含'':59 ''�?':37,43,48,60,75,118,135 ''和所有全局资源'':149 ''�?':10,50 ''外部样式表链�?':92 ''�?':65 ''客户端为'':29 ''导致'':6 ''导致服务器和客户端渲染不一�?':90 ''导致服务器端'':100 ''�?':107,115 ''将函数名�?':140 ''属性不一�?':26 ''属性从'':109 ''嵌套'':4,72,150,179 ''嵌套�?':62 ''开发环境下�?':168 ''打开'':15 ''技术栈'':156 ''控制台警告显示有多个'':36 ''提示不应该同时渲染多�?':47 ''改为'':111,142 ''文件'':64 ''更准确的命名'':144 ''更新'':125 ''服务器渲染为'':27 ''标签'':61,76,136 ''样式链接在客户端存在但服务器端缺�?':35 ''�?':78,146,174 ''�?':123 ''的链接移到根'':121 ''相关文件'':172 ''移除'':134 ''端首页时出现'':17 ''�?':155 ''组件'':49 ''组件被同时挂�?':38 ''组织相关页面'':166 ''缺少这些链接'':102 ''而嵌�?':83 ''错误'':9,20 ''错误信息显示服务器渲染的'':21 ''错误地包含了'':74 ''错误堆栈指向'':39 ''问题场景'':167 ''问题根源'':70 ''项目�?':14 ''项目结构'':163', '[-0.043442138,-0.0021638435,-0.010199458,-0.012428229,-0.032638267,0.0025640305,-0.02625416,-0.029918412,-0.013117637,-0.002453064,0.03091947,-0.015846936,-0.012598219,-0.011021081,-0.008121791,0.03906015,-0.006181061,0.01693299,0.0045661465,-0.024856457,-0.012475449,-0.0030362275,0.0034423172,0.024346484,0.010171127,0.012050471,-0.043971,-0.010794426,-0.0099444715,0.013910928,0.078724705,0.008820643,0.02680191,-0.034432616,-0.02804851,-0.10139017,-0.028520707,0.01513864,-0.024195382,0.015790273,-0.008603432,0.0073284996,0.006058289,-0.03947568,0.043933224,-0.016715778,0.025253104,-0.030522823,0.015818605,0.024233157,-0.012626552,0.028161837,0.047559697,-0.031202788,-0.0036028642,-0.003964095,-0.022382144,-0.02608417,-0.03921125,0.035320345,-0.016253026,-0.009736705,-0.023515418,-0.00594024,-0.001906496,0.06697644,0.009698929,-0.024195382,-0.038757943,-0.051752806,-0.016470237,0.009746149,-0.047748577,-0.043215483,-0.029446214,-0.0030149787,0.016583564,0.0144209005,0.016630784,0.025706412,0.008650652,0.016413573,0.017782945,-0.015015869,0.0010949072,-0.00012941154,-0.049372934,-0.030957244,0.06871413,-0.041326694,0.008499549,-0.017376855,0.041326694,-0.022533247,-0.01832125,0.05798581,-0.028539596,0.005449155,0.06958297,-0.02663192,-0.00797541,0.020436693,-0.02823739,-0.017216308,0.046501976,0.012749323,0.07404051,-0.001906496,0.034697045,-0.010681099,0.013249852,-0.03966456,-0.02886069,0.0004294043,-0.019360082,-0.019511186,-0.019643402,-0.036661386,0.036510285,-0.030050626,0.042233314,0.020852227,0.023798736,-0.036963593,0.0035603666,0.0003396868,-0.0023562638,0.05027955,0.024950897,0.02349653,0.011559386,0.0012035124,-0.020115599,0.029805083,-0.040835608,0.05386825,-0.00063215394,-0.016781887,0.021664405,-0.0832578,0.040268973,0.038115755,0.010633879,-0.021418862,0.022835454,-0.002366888,0.023912063,0.038720164,-0.016876325,0.0044457363,-0.018359024,0.01326874,0.02886069,0.010246678,-0.018160703,-0.021721069,0.002972481,-0.011096633,0.023836512,0.010095575,0.0035532834,0.024818681,-0.0305606,0.0026820798,0.049259607,-0.02457314,0.005642756,-0.018906774,-0.041175593,-0.026235273,-0.00625189,0.02680191,0.03010729,-0.00025734745,-0.00249084,0.03509369,0.11453614,0.02857737,0.016149143,-0.001655051,-0.057041414,-0.0038554897,0.012324345,-0.029087344,-0.020701123,-0.008055683,-0.027614089,-0.015525842,-0.024762018,0.022911005,-0.023307651,-0.022816567,0.0575325,0.013967591,0.011266624,0.0076826476,0.04011787,-0.0038696555,0.012985421,-0.002488479,0.0017306026,-0.008183177,-0.011512167,0.03197719,-0.044235427,0.0017140757,-0.08439107,-0.053566042,0.017102981,-0.05545483,0.010747207,-0.035263684,-0.016564677,-0.00019404352,-0.07033849,-0.010662211,-0.025215328,-0.0063982713,0.008348445,-0.011776596,-0.03384709,0.0018545543,-0.0055766483,-0.01523308,0.051677257,0.0056946976,0.073285,0.037662443,-0.008948136,-0.020172263,-0.010728319,0.0044457363,0.0324305,-0.022174377,0.0491085,-0.029956186,0.011276068,-0.012853206,0.0131743,0.0076968134,-0.012116578,-0.04245997,-0.016007483,0.00926923,-0.059723496,0.00065989554,0.016989654,0.049712915,-0.03037172,0.019756729,0.031599432,0.0023055025,-0.029162895,-0.017952936,-0.003935763,0.037473567,0.03125945,-0.009561992,-0.016866881,-0.024422036,0.033204902,0.045595355,0.028539596,0.0029229003,-0.0128437625,-0.02867181,-0.005779693,0.012088247,-0.00046688493,0.0053547155,-0.07014961,0.013202632,0.029559541,-0.024346484,-0.027651865,0.037813548,-0.031221675,0.0047007226,0.08522214,0.056134798,-0.011219404,0.023005445,0.01849124,0.031297226,0.027614089,0.01750907,-0.025328655,-0.02268435,0.050543983,-0.018245697,0.021588853,-0.01549751,0.0810668,0.008008463,-0.00931645,-0.007418217,-0.01693299,-0.16016927,-0.0263486,0.06659868,-0.01657412,0.010190015,0.044235427,-0.016149143,0.0061385627,-0.014647556,-0.0048140497,-0.015620282,-0.067278646,-0.012749323,-0.008485382,-0.0021425944,-0.009585602,-0.027255218,-0.0004943314,0.044537634,-0.02090889,-0.04306438,-0.024516476,0.02546087,0.002146136,-0.027802968,-0.042308863,0.046841957,0.013948703,-0.01599804,-0.0060016257,-0.01156883,-0.019227868,-0.010445001,0.021607742,0.0032038577,0.0043371306,0.015251968,0.008339002,-0.015676945,-0.030522823,0.035055917,0.044953167,0.0056616436,-0.056701433,0.027444098,-0.06074344,0.021003328,-0.014269798,-0.0027859632,-0.03333712,0.006445491,0.0072010066,-0.019237312,-0.04110004,-0.024138719,-0.0048636305,0.020153373,0.028105173,-0.016659115,0.016007483,-0.021872172,-0.025668636,0.04823966,-0.0186329,-0.061234526,-0.039891213,0.022929894,-0.01214491,0.03635918,-0.056852534,0.035773657,-0.01312708,0.010020023,-0.034621496,0.0035768934,0.016989654,-0.0055719265,-0.05715474,0.039966766,-0.11015415,0.012626552,0.0050100116,0.020871114,0.03350711,-0.018765114,0.006327442,-0.015308632,-0.056172572,0.009014243,0.23058331,-0.0042096376,0.012872094,-0.022627687,0.033828203,-0.02268435,-0.020210037,0.0378891,0.009736705,-0.041137815,-0.033016026,0.022665463,0.008060405,-0.015752496,0.011153297,0.058665775,-0.040344525,0.039097924,0.060894545,-0.04933516,0.036812488,-0.00086116954,-0.01188048,0.044915393,-0.054812644,-0.026008619,0.020682234,0.018736783,-0.015063089,0.018859554,-0.060139026,0.027746305,0.026065283,-0.037492454,-0.059307963,-0.031599432,0.0037539674,0.0040467293,0.017952936,0.0113044,-0.030881694,-0.004304077,0.018576236,0.048013005,0.010199458,-0.012635996,-0.022401033,-0.017225752,0.00045242388,-0.014713663,-0.04929738,2.8239603e-05,-0.0016219972,0.020247813,-0.030239506,-0.049561813,-0.025404206,0.009812256,-0.014505897,0.0372658,-0.024422036,0.03233606,-0.055945918,0.031165011,-0.027651865,0.03171276,-0.042233314,-0.026953014,0.016423017,0.030428383,-0.03286492,-0.0027599924,0.0096705975,-0.0042025545,0.02189106,0.0016975488,-0.029880635,0.08673317,-0.06920522,0.03966456,-0.02474313,0.016016927,-0.035490338,0.027104115,0.049184054,-0.0026088892,0.026934125,0.039777886,-0.029597318,-0.028690698,-0.02680191,0.0045283707,0.026329713,0.015044201,0.014770326,0.011776596,-0.015053645,-0.022759903,-0.022004386,0.014402013,-0.02019115,0.021456638,-0.022174377,0.0058552446,0.025763076,-0.033960417,-0.009212567,0.012966533,-0.00036211617,-0.03547145,-0.014184802,0.024610914,0.034697045,-0.012532112,-0.01827403,0.0014142304,0.0058646887,0.04404655,0.049372934,0.027104115,0.004788079,0.03422485,-0.010662211,-0.02850182,-0.011993808,-0.04091116,-0.00032138918,-0.03054171,-0.055039298,0.02689635,0.012598219,-0.043819893,-0.02742521,0.025026448,0.008702593,-0.000498168,0.015960263,0.031146124,-0.011776596,0.03037172,-0.013070417,-0.05889243,0.0034257902,0.024422036,0.006114953,0.028010735,-0.0029960908,-0.04933516,-0.011228848,0.016451348,0.037737995,0.058023587,0.016083036,-0.06546541,-0.017679062,-0.031240564,-0.0009957458,-0.01640413,-0.02179662,-0.017376855,-0.009906696,0.019511186,0.019492298,-0.0063982713,0.036245853,-0.0016101922,-0.0032463553,0.047030836,-0.014609779,-0.005335828,0.016016927,-0.033167128,-0.06572984,0.047559697,-0.011776596,-0.012947646,-0.04306438,0.0016975488,0.0043512965,-0.0026986066,0.009491162,-0.009528939,-0.029823972,-0.023420978,0.019227868,0.046766404,-0.023080997,-0.032732707,0.042913277,-0.030617263,-0.012683216,0.10388337,-0.0416289,0.01916176,0.082124524,-0.032543827,0.04295105,0.04502872,-0.045973115,-0.011049413,0.020058936,-0.005779693,0.008457051,0.02234437,0.0098311445,-0.018717894,-0.011049413,-0.013646497,-0.033034913,0.0035485616,-0.009637544,0.026669694,-0.057079192,-0.0055719265,0.005264998,-0.03375265,0.060327906,0.027292995,0.013731493,0.015875269,-0.020342253,-0.0029181784,0.03940013,-0.019246755,0.0119277,-0.020946665,-0.015506954,-0.00131743,0.020323366,0.013476507,-0.0036264742,0.015629726,-0.023326539,-0.05870355,0.031240564,0.022759903,0.019530075,0.034697045,0.00032434042,-0.040344525,-0.025536422,-0.012928758,0.012881538,0.01688577,-0.017575178,0.036529172,-0.020587796,-0.018963438,0.031070571,0.01348595,0.016130254,0.020077823,0.017792389,-0.0096705975,0.054019354,0.009632822,0.019397859,-0.014770326,-0.022759903,-0.058930203,-0.029767308,0.0065210424,0.008792311,0.0014236744,0.002330293,-0.055681486,0.04359324,-0.023439866,-0.010614992,0.0014555476,0.011294955,-0.013920371,-0.024799794,0.0011775417,0.014194246,-0.0057466393,0.01456256,0.004615727,0.05575704,-0.003947568,-0.043479912,-0.0077204234,0.0026702748,0.043706566,-0.003654806,0.05386825,0.041968882,-0.023968726,-0.013023198,-0.040231198,0.018066263,-0.033469334,0.00598746,-0.0075362665,-0.052659426,-0.0073379437,-0.0183968,0.058099136,0.022438807,0.024440924,-0.011115521,0.03171276,-0.023345428,-0.035754766,-0.06504988,0.043706566,-0.057116967,-0.03921125,0.009935028,-0.0025309767,-0.057305846,-0.0746827,0.02876625,0.03887127,0.040457852,0.022948781,0.05583259,-0.036774714,-0.0009455748,-0.015091421,0.0044079605,0.013854264,-0.035660326,0.02376096,0.064521015,-0.010520552,0.043366585,-0.0040302025,-0.019700065,-0.015582506,-0.029975075,-0.014354793,-0.0039806217,-0.04672863,0.0012926396,0.01188048,-0.006464379,-0.024176493,0.009689486,-0.0005480438,-0.0056852535,0.008513714,0.0077062575,-0.015261412,-0.022892118,-0.0324305,-0.022079939,0.01446812,-0.009878364,-0.00902841,0.011446059,0.005142227,-0.008433441,-0.06996073,-0.007810141,0.047295265,-0.025385318,-0.007947078,0.014099807,0.043291032,-0.034451503,0.036302518,-0.03673694,0.0075315447,0.054661542,0.0047030835,0.027500762,0.005307496,0.027028564,-0.009613934,-0.016593007,-0.001116156,0.0042733843,-0.012475449,-0.036189187,0.03779466,-0.05001512,0.019700065,0.0162908,-0.0015133918,-0.029823972,-0.009576158,-0.023307651,-0.00030028788,-0.0062471684,-0.0023102246,-0.0041033933,-0.012343233,0.0073190555,0.044613186,-0.014609779,0.027255218,-0.039777886,0.017490182,-0.11899368,0.024913121,0.01331596,-0.002048155,0.010690543,0.012975978,-0.00016940072,-0.0183968,-0.026291937,-0.04778635,-0.023515418,-0.0305606,0.03386598,-0.017367411,0.042308863,0.009717817,0.0029960908,-0.017206864,0.012900426,-0.009170068,-0.0070546255,-0.0041151983,-0.004799884,-0.038795717,-0.026575256,-0.027387435,-0.013523726,0.007857361,-0.01429813,0.009160625,0.0011049414,-0.008499549,0.01956785,0.032487165,-0.020398917,0.013098748,0.02064446,0.016224694,0.016281357,-0.0021000968,0.011597162,0.023609858,-0.024327597,0.006105509,0.036510285,0.026386376,-0.030598374,-0.027632976,-0.054434888,-0.0068421364,-0.011398839,0.051412825,0.01911454,-0.04019342,0.0038106309,-0.0004966924,-0.055039298,-0.022533247,-0.023213211,0.02814295,-0.040797833,0.04110004,-0.023402091,-0.02466758,-0.072567254,0.02591418,-0.020833338,0.00428755,0.01595082,-0.03503703,-0.0092833955,-0.083484456,-0.012928758,-0.042535517,0.024252046,0.017697949,0.002469591,-0.038757943,-0.02581974,-0.0015204748,-0.029257335,-0.013504839,-0.046804182,0.057683602,0.10176793,0.04850409,0.007748755,-0.011663269,0.024346484,0.0075032124,-0.040797833,-0.0015629726,-0.030881694,-0.037152473,0.0096705975,0.012768211,0.0008912721,0.065389864,0.03324268,-0.012437672,-0.043971,-0.00013472374,0.04850409,-0.00028007192,0.00859871,0.03431929,0.015488067,0.018151259,0.045784235,-0.015072533,-0.029899523,-0.014845878,-0.021456638,0.021947723,-0.03894682,-0.0055483165,-0.00915118,0.019530075,-0.010888866,0.035452563,0.0051800027,0.03099502,0.0065304865,-0.039173476,-0.018595124,-0.00076850085,0.069469646,0.017575178,0.019303419,0.005973294,0.038266856,-0.057494726,-0.03261938,0.047219716,0.015648613,-0.006572984,-0.018916218,0.046615303,0.016715778,0.034697045,0.0075315447,-0.031788312,0.014335905,-0.0011852148,-0.017546846,-0.052017238,0.0047125276,-0.023893176,-0.00042910915,-0.012739879,0.0077959746,-0.014335905,-0.025668636,-0.010917198,-0.034338176,0.02258991,0.017027428,-0.04359324,-0.07139621,0.044386532,-0.020398917,-0.00034116243,-0.026877461,0.0051941685,0.021966612,0.008792311,0.018906774,0.010114463,0.013400955,0.040986713,0.021683292,0.043631017,-0.022627687,0.0019076765,0.0026891627,-0.015110308,0.050166223,-0.027047452,0.081671216,-0.024818681,0.02893624,-0.017518515,0.032222733,0.01415647,-0.0070546255,0.010114463,0.010690543,-0.0030409496,0.034734823,-0.016659115,-0.028992904,-0.029786196,0.007422939,0.005472765,0.041062262,-0.004809328,-0.020531131,0.0152425235,-0.008782866,0.07691147,0.020247813,-0.044348754,-0.0131743,-0.009363669,0.008395665,-0.0041506127,-0.04752192,-0.016715778,-0.039286803,0.032940473,-0.006785473,-0.03940013,-0.03441373,-0.0023078634,0.016876325,-0.016678004,0.07309612,-0.035509225,0.04876852,-0.029691756,0.045444254,0.030145066,0.014666444,0.017622398,-0.053679373,-0.015308632,-0.0012548639,0.02651859,-0.03520702,0.0070310156,-0.012834318,-0.0048825187,-0.019945607,0.02376096,0.022722127,-0.0065588183,0.0013410399,0.013967591,-0.020077823,0.0006079538,0.028879577,0.02268435,0.03770022,0.040344525]', 't', '2025-11-19 12:29:48.84715+00', '2025-11-19 12:29:48.84715+00', NULL, 'published', 'f', 'approved', NULL, NULL, NULL);
INSERT INTO "public"."experience_records" VALUES ('09aa93ca-aa69-4cce-90aa-e10f50e2a9f5', NULL, 'Database permissions policy missing insert operation', '遇到了数据库权限策略问题，缺少插入操作权限，导致无法正常执行数据插入功能', '数据库权限配置不完整，未为相关用户或角色分配INSERT权限', '为相应的数据库用户或角色添加INSERT权限，更新权限策略文�?, '在PostgreSQL数据库环境中，应用程序尝试执行INSERT操作时被拒绝，需要检查并修复权限配置', 0, 0, 0, '''databas'':1 ''insert'':5 ''miss'':4 ''oper'':6 ''permiss'':2 ''polici'':3 ''为相应的数据库用户或角色添加insert权限'':12 ''在postgresql数据库环境中'':14 ''导致无法正常执行数据插入功能'':9 ''应用程序尝试执行insert操作时被拒绝'':15 ''数据库权限配置不完整'':10 ''更新权限策略文档'':13 ''未为相关用户或角色分配insert权限'':11 ''缺少插入操作权限'':8 ''遇到了数据库权限策略问题'':7 ''需要检查并修复权限配置'':16', '[-0.016646186,-0.0196425,-0.031701736,0.004730291,-0.010579576,-0.014574661,0.023341652,-0.009155403,0.054562498,-0.01986445,-0.007990169,-0.029630212,-0.011744809,-0.005539481,0.011078962,0.0043025766,0.008415572,0.009437463,0.04028377,0.039321993,-0.008628273,0.010135678,0.025172733,-0.017006854,-0.017302785,-0.0037130243,0.044278856,0.010561081,0.019697987,-0.020197373,0.014408199,-0.03906305,-0.0060249944,-0.01187428,0.005086335,-0.008193623,-0.0031604634,-0.04638737,-0.00890571,0.017080836,-0.036640104,-0.014093771,0.0032413823,-0.029297289,-0.017090084,-0.014759619,0.013992044,-0.017275043,-0.0103113875,0.011421134,-0.054562498,-0.026023539,0.029611716,-0.03029606,0.042540252,0.014029036,-0.020659767,0.018347796,-0.014546917,0.026097521,-0.034106188,-0.019457541,-0.042947162,-0.007574015,0.01182804,0.045499574,0.037546396,0.0040367004,0.016535211,-0.05389665,0.02012339,0.057336863,-0.016008083,-0.013205974,-0.08034559,0.061257966,0.060333177,-0.004739539,0.015018559,0.029445253,-0.048791822,-0.06606686,0.02308271,0.020456314,-0.017016102,-0.0013721543,-0.03614072,0.025505656,-0.011865032,0.008632897,0.015823124,-0.025006272,0.0301111,-0.042022374,-0.005067839,-0.01060732,0.0077589722,0.017136324,0.011707818,0.004503718,-0.0032390705,0.07409403,0.008683761,-0.012179459,0.056892965,0.03116536,0.04390894,-0.037768345,0.0440939,-0.010810773,-0.035863284,0.031479787,0.053637713,-0.01169857,0.007860699,-0.060333177,0.04150449,-0.001957083,-0.008091896,0.016414989,0.016636938,0.051085297,0.038989067,-0.03523443,-0.0029500742,0.01967949,0.005164942,0.020400826,-0.044981696,0.04054271,0.03810127,0.019956928,-0.039469957,-0.05752182,-0.07982771,0.0006155621,-0.0128175635,0.07731229,0.007980921,-0.057595804,-0.018708464,-0.013011769,0.017617214,-0.020900212,0.033458833,0.0026263983,0.019624004,0.037028518,-0.0051048305,-0.00637179,-0.012022246,0.02038233,0.02278678,0.008350837,-0.0004517012,-0.081159405,-0.05626411,0.013205974,0.010718294,0.027817627,-0.009335736,0.03739843,-0.008207494,0.059260424,0.031886693,-0.03810127,-0.0041661705,-0.016525963,-0.014574661,0.002093489,0.018551249,-0.046202414,0.016516715,-0.019476037,-0.015591928,0.024025995,0.00779134,0.032792985,-0.020474808,-0.043539025,-0.00010916835,-0.008669889,0.031109873,-0.021510571,0.021806505,-0.016710922,-0.038841102,-0.018921165,-0.016479725,0.020752246,-0.033588305,-0.023415636,-0.0022426113,-0.0012658037,-0.032497056,-0.0025755349,0.0109494915,-0.017617214,0.05770678,-0.023693072,-0.006334799,0.037472416,0.020234365,-0.02474733,-0.022453856,-0.00023278651,-0.018005624,-0.035585847,0.042799193,-0.026911335,0.033717774,0.037916314,-0.04753411,0.044241864,-0.006644603,-0.010052447,0.0032968696,0.019143114,-0.018079609,-0.037509408,-0.07564767,0.047386143,-0.015212765,-0.0010710203,0.02654142,0.05041945,0.07842203,-0.017515488,-0.0040297643,-0.03077695,-0.041134577,0.015185021,-0.026263982,-0.011532108,0.06133195,0.009747267,-0.001011487,-0.0034101561,0.02561663,-0.010894004,-0.0676575,-0.062959574,0.0001432699,-0.020530296,-0.046017457,-0.055635255,-0.025154237,-0.0040158923,0.014787362,-0.00875312,-0.011735561,0.008249111,-0.019457541,-0.022620318,0.0153329875,-0.031220848,0.014352712,0.0006878112,0.0035951138,0.0008005197,-0.0019050635,-0.005627336,0.019383559,-0.018061113,0.003981213,0.018874926,-0.017820667,-0.026171504,0.016008083,0.003662161,-0.034494597,-0.014528422,0.041615468,0.028464979,0.021473581,0.00077624404,-0.03924801,-0.023212181,0.03340335,0.036455147,-0.012123972,0.027262755,0.03632568,-0.015693655,0.055672247,0.018486515,0.028058073,-0.06525305,-0.012586366,-0.069470085,-0.0065243803,0.0028691553,0.076572455,-0.0027905481,-0.014167754,-0.017312033,0.014509926,-0.14389703,0.020012416,0.011624587,-0.008392452,-0.00700527,0.00026992254,-0.03168324,0.009395847,-0.035678327,-0.0001709413,-0.027947098,-0.050863348,0.027318241,0.0043927436,-0.012086981,-0.0041153072,0.017681949,0.013464916,-0.012910042,-0.02221341,-0.02754019,-0.051973093,0.00265183,-0.012530879,-0.03460557,-0.03427265,0.04842191,0.030924914,-0.016498221,-0.019660996,-0.03221962,-0.003817063,0.0009658256,0.0070653814,0.017265795,0.017090084,0.03129483,-0.016128305,0.053008854,0.001555956,0.016498221,0.05167716,0.0077404766,0.052971862,0.009386599,0.040098812,-0.005211181,-0.023804046,-0.045462586,0.06477216,-0.026467437,-0.00903518,0.00560884,-0.012022246,-0.026226992,-0.004101435,-0.0068156887,0.029297289,-0.028520467,0.0010687083,0.014204746,-0.00944671,0.01283606,-0.005988003,-0.013113496,-0.006602987,0.024432903,0.009076796,0.02025286,-0.0073844334,0.022657309,-0.00892883,0.00934036,0.00855429,-0.027336737,-0.004281769,-0.012355169,0.010810773,-0.04971661,-0.1165233,0.007634126,0.0003415936,0.015508697,-0.007476912,-0.016377999,-0.035030976,-0.022342881,0.007268835,0.04509267,0.20744847,0.038730126,0.018014872,-0.020770742,0.01746,-0.016091313,-0.01842178,0.008480307,0.01728429,-0.029389767,0.0036714089,0.03697303,-0.021898983,0.0084386915,0.017441504,0.01885643,-0.03565983,-0.004984608,0.02619,-0.060666103,-0.0008080336,0.008313845,-0.0052851643,0.019365063,-0.024210954,-0.032349087,-0.029260296,-0.004813522,-0.03456858,0.037546396,-0.029260296,0.022453856,0.061479915,-0.050567415,-0.03924801,-0.004062132,0.0077312286,0.0025269836,-0.005659703,0.018800942,0.028797902,-0.007874571,-0.015952595,-0.014417447,0.004593885,0.03421716,-0.031405807,-0.02016038,-0.00543313,-0.016377999,-0.021714026,-0.028002584,-0.012799067,-0.016553707,0.019180106,-0.015194269,0.00090166845,-0.007407553,-0.034032203,0.007481536,0.04464877,0.0028575952,-0.055487286,0.018689968,-0.035604343,0.013344693,-0.0011398013,-0.0039997087,0.01741376,0.067250594,0.0028945869,0.022472352,0.008161255,0.02374856,0.04091263,-0.008276854,0.039285,0.060481142,-0.079235844,0.008549666,-0.025246715,0.002587095,-0.038693134,0.0017108581,0.013058009,0.013538898,0.0010600383,0.040838644,0.013289206,-0.016960613,0.007301202,-0.011300911,0.012540127,0.041837417,0.023119703,0.009599301,-0.02378555,-0.020104894,-0.018125847,-0.05578322,-0.054932415,-0.012604862,-0.014611652,-0.0009773854,-0.020900212,-0.04198538,-0.034772035,0.015490201,-0.034420613,-0.015175773,-0.05988928,0.035863284,-0.014990816,-0.013714608,0.0014507613,0.015508697,0.01017267,0.014260233,0.042281315,0.05437754,0.0015860116,0.03270051,-0.007888443,-0.024765827,-0.019050635,-0.010755286,-0.0033731647,0.009950721,-0.030444026,0.019956928,0.037638877,-0.02596805,0.011707818,0.008276854,0.024358919,-0.009765763,-0.008938077,0.02108517,0.025783094,0.028797902,-0.022731293,-0.04313212,-0.041171566,0.021640042,0.0070330137,0.024784321,0.033865742,-0.0025986547,-0.030092606,0.060296185,0.049198728,0.016951367,0.05944538,0.008674513,-0.029574724,-0.022028454,-0.009664036,0.00044852225,0.05430356,-0.014380455,-0.006163713,-0.014241737,0.052786905,0.040727668,0.031368814,0.020197373,0.009460582,0.012873051,-0.057595804,-0.029482245,0.00389567,-0.02631947,-0.05123326,0.037990298,0.04383496,-0.02195447,-0.029630212,-0.026393453,-0.03430964,-0.053156823,0.069174156,-0.002272667,-0.055487286,-0.024691842,0.03954394,0.023637585,0.034254152,-0.0037846954,0.043021142,-0.032719005,0.012123972,0.12155415,-0.012355169,0.010875508,0.015601176,0.09462432,0.034328137,0.00576143,0.017950138,-0.0010062851,0.0340507,-0.03312591,0.0020426258,-0.045499574,0.017626463,-0.005516361,0.048680846,-0.0037916314,-0.021880487,-0.0034864512,0.008521923,0.013723856,-0.14212143,0.0090582995,0.08522847,-0.05770678,0.0340507,0.016313262,-0.0067602014,0.015897108,0.034143176,-0.018671472,0.023674576,-0.013501907,-0.026929831,0.0111529445,-0.01623928,-0.03745392,-0.00075832626,-0.04709021,-0.004138427,-0.020567289,0.026504427,-0.021288622,0.017515488,0.03290396,0.019457541,0.017913146,0.052047078,-0.025875572,-0.0082444865,-0.018634481,0.0013918062,0.035215933,-0.005539481,0.006381038,-0.06281161,0.028557457,0.012059237,0.051603176,-0.021935975,-0.012808315,0.016257776,0.007162484,-0.0043233847,0.016433485,-0.005289788,-0.030092606,-0.011088209,-0.042318303,-0.048791822,0.030924914,0.03340335,-0.04246627,-0.045462586,-0.07139365,-0.008327717,-0.033754766,0.015046303,0.019180106,0.020141885,0.010977235,-0.015989587,-0.017127076,0.009243257,0.018911917,0.005229677,-0.027706653,0.010533337,-0.02561663,-0.049642626,-0.020770742,-0.03427265,0.010718294,0.029278792,0.07635051,0.031146863,0.0050169756,-0.023952013,-0.024562372,-0.019402055,-0.008332341,-0.025857076,-0.0028992107,-0.014093771,0.023415636,0.014676387,-0.008221366,-0.014731875,0.028058073,-0.017247299,-0.0060388665,-0.0440939,0.024414407,-0.02535769,-0.0021686282,-0.002896899,-0.0068434323,0.029704195,0.0226943,0.028612945,-0.01889342,0.031442795,0.05556127,0.030277563,-4.616716e-05,0.09972915,-0.018588241,0.020900212,0.0025778469,0.05822466,0.00079762976,-0.021288622,-0.0016727105,-0.021677034,-0.0020518736,-0.045425594,0.03303343,-0.013067257,0.00094501785,-0.03636267,-0.026504427,-0.011189937,-0.0069312872,0.007629502,-0.0070330137,0.022749787,-0.075610675,-0.00014955558,0.017275043,-0.005386891,-0.08981542,0.06443924,-0.03059199,-0.025431674,0.0026841976,-0.028631441,0.01588786,-0.04098661,0.021177648,0.02012339,-0.042799193,0.0068203122,-0.029389767,0.023230677,-0.016683178,-0.033458833,0.03565983,0.013085752,0.02173252,-0.03421716,0.039100043,-0.015342235,-0.0069821505,0.012937786,-0.0030171212,0.033865742,-0.017256547,0.018033369,0.014630148,-0.017404513,-0.012466144,-0.008582034,0.036251694,-0.053156823,0.017922394,-0.03858216,-0.020400826,-0.014889088,-0.04316911,-0.054155592,-0.012438401,-0.009312617,-0.013289206,-0.057114914,0.013982796,-0.048791822,0.018837934,0.005673575,-0.0040898756,-0.0017085461,-0.016137553,-0.025154237,0.048865806,-0.13368738,-0.00718098,-0.00512795,0.008831726,-0.0048042745,0.0113656465,-0.02535769,0.0004892707,-0.008794735,-0.052490976,-0.064402245,0.015702903,0.010857013,-0.020012416,-0.018588241,0.017598718,0.0014392015,-0.0015640479,-0.0353454,0.026966821,-0.0018507323,-0.022731293,0.032441568,0.0028922749,-0.011356398,0.0034078443,0.054932415,0.047941018,-0.031720232,-0.012429153,-0.002249547,0.011513612,0.028039576,0.00012874785,-0.00249924,0.0012831435,0.006390286,0.0040135803,-0.006163713,0.015536441,-0.0006369478,0.016100561,0.016858887,0.023600593,-0.02859445,0.026393453,-0.018468019,-0.02278678,-0.056375083,-0.005622712,-0.042947162,-0.017561726,-0.071689576,0.008484931,0.03344034,-0.0107367905,-0.042096354,-0.01672017,0.011929767,0.025265211,-0.012271939,0.0016599947,-0.023415636,-0.028039576,0.0049198726,-0.01986445,-0.002113141,0.04076466,-0.027984088,0.058816526,0.0115690995,-0.0584836,2.1457974e-05,-0.025006272,-0.019346567,0.028446482,-0.0059047723,-0.055968177,-0.03151678,-0.01444519,-0.015869364,0.023952013,-0.040357754,0.03168324,0.05356373,0.011948262,-0.01340018,0.004762659,0.009025932,-0.024210954,-0.03810127,-0.025376186,0.02426644,-0.025154237,-0.009867489,0.03183121,-0.002416009,0.010339132,0.00908142,-0.038249236,0.011920519,0.007393681,0.019254088,-0.038989067,-0.026116017,0.018236822,-0.011189937,-0.0017073901,0.052269027,-0.007222595,0.0453886,-0.015860116,0.0121979555,0.054784447,-0.034254152,0.016877383,0.021288622,0.04242928,-0.05863157,0.02802108,0.018884173,-0.013686865,0.032792985,-0.019309577,0.024765827,0.031701736,0.0044875345,0.016562955,-0.023582097,-0.013908814,0.026116017,-0.021788009,-0.015009311,0.069470085,0.027910106,-0.019180106,-0.00888259,0.054488517,0.01640574,-0.011920519,-0.009932225,-0.065475,0.00078433595,-0.05482144,0.007236467,0.008165879,0.02391502,-0.02718877,-0.042244323,-0.0816033,-0.011189937,0.00934036,0.013557394,0.009941473,-0.009617796,0.03736144,-0.017349025,-0.030314555,-0.012910042,0.052675933,0.02680036,-0.03684356,-0.0054701217,-0.033273876,-0.04638737,-0.012577118,0.015961843,-6.22787e-05,-0.045906484,0.013788591,-0.02086322,0.021325614,0.0035396265,-0.0031812713,0.066288814,-0.07953178,0.009479078,-0.029278792,0.033754766,-0.033162903,-0.0020044784,0.008022537,0.054451525,0.018995149,0.013381684,-0.022527838,0.0058770287,0.052232035,0.01662769,0.033144407,0.0070700054,0.022657309,0.036177713,0.030444026,0.02086322,0.034124684,0.029556228,0.019309577,0.014667139,0.027336737,0.017607966,-0.013714608,0.0003196299,-0.0103206355,0.011310159,-0.010986483,-0.0013825583,-0.02911233,-0.025339196,0.03116536,-0.03671409,-0.022823771,-0.017820667,0.025080254,0.008133512,-0.04442682,0.04324309,-0.012290434,-0.004455167,-0.036196206,0.024377415,-0.006251568,-0.00049591763,-0.0084340675,-0.049753603,-0.021991462,0.048458897,0.033014935,0.042836186,0.045869492,-0.0123921605,-0.0044805985,-0.040579703,0.012290434,0.045795508,-0.00041153072,-0.028686928,0.025043262,-0.04464877,0.025043262,0.06292258,0.013760847,0.014593157,0.0045638294]', 't', '2025-11-19 12:40:28.48146+00', '2025-11-19 12:40:28.48146+00', NULL, 'published', 'f', 'approved', NULL, NULL, NULL);
INSERT INTO "public"."experience_records" VALUES ('0d533542-7552-4da5-9c2c-e468405b0d39', '886bb63d-44d6-491b-bfcf-b5d5c14124e2', '修复生产环境中API密钥复制功能的兼容性问�?, '在API密钥管理页面，本地开发环境使�?navigator.clipboard.writeText() 复制API密钥功能正常工作，但打包部署到生产环境后，点击复制按钮报错：TypeError: Cannot read properties of undefined (reading ''writeText'')。这导致用户无法在生产环境中复制完整的API密钥�?, 'navigator.clipboard.writeText() API 具有以下限制�?. 只能在安全上下文中使用（HTTPS �?localhost�?. 需要用户交互触�?3. 在某些生产部署环境中可能存在权限限制 4. 部分旧版浏览器不支持该API。本地开发环境（localhost）满足安全上下文要求，所以能正常工作，但生产环境可能不完全满足这些条件�?, '实现了一个兼容性更好的复制函数，包含两种复制方法的降级策略�?. 主要方法：优先使用现�?Clipboard API 2. 后备方案：使用传统的 document.execCommand(''copy'')。修改了两个复制函数：handleCopyFullApiKey �?handleCopyApiKey，确保在各种环境下都能正常工作�?, '项目类型：Next.js 15.5.2 管理后台系统。技术栈：React, TypeScript, Next.js, Tailwind CSS。问题文件：web/src/app/admin/api-keys/page.tsx。影响范围：API密钥管理页面的复制功能。部署环境：生产环境（非localhost）。用户权限：管理员用户�?, 0, 0, 0, '''1'':20,38 ''15.5.2'':55 ''2'':25,43 ''3'':27 ''4'':29 ''api'':18,42 ''api密钥管理页面的复制功�?':66 ''cannot'':9 ''clipboard'':41 ''copi'':47 ''css'':62 ''document.execcommand'':46 ''handlecopyapikey'':51 ''handlecopyfullapikey'':49 ''https'':22 ''localhost'':24,32 ''navigator.clipboard.writetext'':4,17 ''next.js'':54,60 ''properti'':11 ''react'':58 ''read'':10,14 ''tailwind'':61 ''typeerror'':8 ''typescript'':59 ''undefin'':13 ''web/src/app/admin/api-keys/page.tsx'':64 ''writetext'':15 ''主要方法'':39 ''优先使用现代'':40 ''但打包部署到生产环境�?':6 ''但生产环境可能不完全满足这些条件'':35 ''使用传统�?':45 ''修复生产环境中api密钥复制功能的兼容性问�?':1 ''修改了两个复制函�?':48 ''具有以下限制'':19 ''包含两种复制方法的降级策�?':37 ''只能在安全上下文中使�?':21 ''后备方案'':44 ''�?':50 ''在api密钥管理页面'':2 ''在某些生产部署环境中可能存在权限限制'':28 ''复制api密钥功能正常工作'':5 ''实现了一个兼容性更好的复制函数'':36 ''影响范围'':65 ''�?':23 ''所以能正常工作'':34 ''技术栈'':57 ''本地开发环�?':31 ''本地开发环境使�?':3 ''满足安全上下文要�?':33 ''点击复制按钮报错'':7 ''生产环境'':68 ''用户权限'':70 ''确保在各种环境下都能正常工作'':52 ''管理后台系统'':56 ''管理员用�?':71 ''这导致用户无法在生产环境中复制完整的api密钥'':16 ''部分旧版浏览器不支持该api'':30 ''部署环境'':67 ''问题文件'':63 ''需要用户交互触�?':26 ''非localhost'':69 ''项目类型'':53', NULL, 'f', '2025-11-24 03:18:19.365006+00', '2025-11-24 09:50:43.22858+00', '2025-11-24 09:50:43.22858+00', 'draft', 't', 'pending', NULL, NULL, NULL);
INSERT INTO "public"."experience_records" VALUES ('69bf5dba-1ca8-4f93-9522-e81f46b67bad', NULL, '数据库权限策略缺失导致关键字无法保存', '在使�?Recall Kit MCP 服务器提交经验记录时，经验记录本身创建成功，但关联的关键字（keywords）没有保存到数据库中。通过 MCP 查询接口也无法通过关键字检索到刚提交的经验记录。错误表现：submit_experience 接口返回成功状态，经验记录 ID 正常返回，但 experience_keywords 表中没有对应的关键字记录，查询接口无法通过关键字找到该经验记录�?, '问题根源在于数据库的权限策略配置不完整。具体原因：1. experience_keywords 表启用了权限控制 2. 但只配置了读取权限，允许所有用户读取关键字 3. 缺少插入权限，导致匿名用户无法插入关键字记录 4. 代码中的错误处理只是记录日志（console.error），没有抛出异常，所以经验记录创建成功，但关键字插入被静默失败。权限控制的工作原理是：如果启用了权限控制，默认情况下会拒绝所有操作，除非有明确的权限允许该操作。由于没有插入权限，所有插入操作都被拒绝�?, '修复权限策略：在数据库迁移文件中添加插入权限。为匿名用户授予插入权限：GRANT INSERT ON experience_keywords TO public; 创建迁移文件：为已部署的数据库创建新的迁移文件，包含相同的权限，用于应用修复。应用修复：新部署权限已包含在初始权限配置中，现有数据库需要运行新的迁移文件。修复后的策略允许匿名用户（通过 API）插入关键字记录，与 experience_records 表的策略保持一致�?, '技术栈：PostgreSQL, TypeScript, 权限控制。项目结构：Recall Kit 经验分享平台。相关表：experience_records - 经验记录主表（已�?INSERT 策略），experience_keywords - 关键字关联表（缺�?INSERT 策略）。相关文件：supabase/migrations/002_rls_policies.sql - 权限策略定义，mcp-server/src/services/experienceService.ts - 经验服务（关键字插入逻辑）�?, 0, 0, 0, '''/src/services/experienceservice.ts'':102 ''1'':28 ''2'':32 ''3'':35 ''4'':38 ''api'':69 ''console.error'':40 ''experi'':16,22,29,56,72,84,90 ''grant'':53 ''id'':19 ''insert'':54,88,94 ''keyword'':9,23,30,57,91 ''kit'':4,81 ''mcp'':5,12,100 ''mcp-server'':99 ''postgresql'':76 ''public'':59 ''recal'':3,80 ''record'':73,85 ''server'':101 ''submit'':15 ''supabase/migrations/002_rls_policies.sql'':97 ''typescript'':77 ''�?':71 ''为匿名用户授予插入权�?':52 ''为已部署的数据库创建新的迁移文件'':61 ''代码中的错误处理只是记录日志'':39 ''�?':21 ''但关联的关键�?':8 ''但关键字插入被静默失�?':43 ''但只配置了读取权�?':33 ''修复后的策略允许匿名用户'':67 ''修复权限策略'':50 ''允许所有用户读取关键字'':34 ''关键字关联表'':92 ''关键字插入逻辑'':104 ''具体原因'':27 ''创建迁移文件'':60 ''包含相同的权�?':62 ''在使�?':2 ''在数据库迁移文件中添加插入权�?':51 ''如果启用了权限控�?':45 ''导致匿名用户无法插入关键字记�?':37 ''已有'':87 ''应用修复'':64 ''所以经验记录创建成�?':42 ''所有插入操作都被拒�?':49 ''技术栈'':75 ''接口返回成功状�?':17 ''插入关键字记�?':70 ''数据库权限策略缺失导致关键字无法保存'':1 ''新部署权限已包含在初始权限配置中'':65 ''服务器提交经验记录时'':6 ''权限控制'':78 ''权限控制的工作原理是'':44 ''权限策略定义'':98 ''查询接口也无法通过关键字检索到刚提交的经验记录'':13 ''查询接口无法通过关键字找到该经验记录'':25 ''正常返回'':20 ''没有保存到数据库�?':10 ''没有抛出异常'':41 ''现有数据库需要运行新的迁移文�?':66 ''用于应用修复'':63 ''由于没有插入权限'':48 ''相关文件'':96 ''相关�?':83 ''策略'':89,95 ''经验分享平台'':82 ''经验服务'':103 ''经验记录'':18 ''经验记录主表'':86 ''经验记录本身创建成功'':7 ''缺少'':93 ''缺少插入权限'':36 ''表中没有对应的关键字记录'':24 ''表启用了权限控制'':31 ''表的策略保持一�?':74 ''通过'':11,68 ''错误表现'':14 ''问题根源在于数据库的权限策略配置不完�?':26 ''除非有明确的权限允许该操�?':47 ''项目结构'':79 ''默认情况下会拒绝所有操�?':46', '[-0.028310047,-0.0042391825,-0.015107237,-0.0028108617,-0.015253732,-0.002778816,0.012186505,-0.011710398,0.013349304,-0.014603662,-0.009769347,-0.0023690895,-0.024464568,0.010803964,0.014557883,-0.015116394,0.007837452,-0.002517873,0.044058196,0.021314938,0.0027627933,0.0068348804,0.016901795,-0.006665496,-0.0074620596,0.020747272,-0.009078076,-0.0083410265,0.011133576,-0.006491534,0.004738179,-0.037319455,-0.016572181,-0.015912956,-0.03089201,-0.016132697,-0.023420796,0.0070912456,-0.01898934,0.018861156,-0.043728586,-0.012708391,0.031239936,-0.0324302,-0.02508717,-0.019337263,0.034517746,-0.00931613,0.015876332,0.028310047,-0.046585225,-0.00933902,0.027467703,-0.030672269,0.057938542,0.023640538,-0.03698984,-0.003795121,-0.0090048285,0.011829425,-0.012909821,-0.049808104,-0.018302647,0.006331306,0.023988461,0.07130616,-0.0046969773,-0.0034655086,-0.0017888342,-0.059549984,-0.016498934,0.06497028,-0.04460755,-0.06105155,-0.056327105,0.033235922,0.060685314,0.013395084,-0.017286342,0.022779882,-0.028969271,-0.020545842,0.028181864,0.059879594,-0.017890632,0.011600527,-0.042263642,0.012342155,0.0047656465,0.011014549,0.04043246,-0.03746595,0.024665998,-0.043105982,-0.0069951084,-0.004287251,0.01605945,0.015638279,0.017652579,0.044204693,0.0140634645,0.008212844,0.016096074,-0.034810737,0.064823784,0.01431983,0.046768345,-0.0034563527,0.07068356,-0.010694093,-0.02417158,0.021150133,0.008038881,-0.034462813,0.0130563155,-0.037118025,0.025032233,-0.034865674,0.019428823,0.02722965,0.021388186,0.068119906,0.030324345,-0.008716418,0.0054340274,0.011801957,-0.0018872601,0.008766776,-0.00046923995,0.026259124,0.045852754,0.0015450583,-0.02935382,-0.03281475,-0.0485629,-0.008917848,0.0029504893,0.04643873,0.027156403,-0.071635775,-0.0018700928,0.020600777,-0.0022798195,-0.023713784,0.03352891,-0.027394457,0.011197668,0.035103727,-0.008386806,0.011298383,0.008702684,-0.0048068482,0.019428823,-0.024867428,0.029408755,-0.099469714,-0.025325224,0.030617334,0.034352943,0.0065418915,-0.019978177,0.014448012,-0.03598269,0.07489527,0.05189565,-0.017057445,0.030599022,-0.0140085295,-0.012827418,-0.0036829612,0.027779005,-0.043105982,0.005269221,-0.0060154274,-0.0100074,0.012232284,0.05068707,0.031477988,0.023017935,-0.056143988,-0.00594218,0.037612442,0.02832836,-0.035488274,0.002039477,-0.0016205945,-0.007718425,-0.04032259,-0.007343033,0.046365485,-0.018330114,-0.020582465,0.013193654,0.008954472,0.0028383294,0.00031502024,-0.005104415,-0.044570927,0.033437353,0.028383294,-0.032137215,0.043142606,0.040615577,-0.0052554873,-0.038637903,-0.029683432,0.0006443466,-0.015061458,0.03069058,-0.044717424,0.03160617,0.019483758,-0.02041766,0.044314563,-0.0011959897,-0.004381099,-0.038015302,0.033162676,-0.019740123,-0.054019816,-0.06529989,0.057755426,-0.047574062,-0.023805343,0.005012856,0.0197035,0.0775688,0.0111518875,0.022688324,0.0029230216,-0.032356955,0.0020692337,-0.009219993,-0.0074986834,0.068339646,0.0021424808,-0.013010535,-0.03515866,0.060465574,-0.0017556441,-0.047976922,-0.04541327,0.026954973,0.015619968,-0.031477988,-0.035891134,0.025837954,0.018165309,-0.003710429,0.0037722313,-0.04684159,0.033638783,-0.026698608,-0.020124672,-0.0115730595,-0.0025361846,0.026259124,-0.017515238,-0.0029069986,0.0025453407,0.0030969835,0.015519253,0.024318075,0.009970777,-0.0026575003,-0.0101447385,-0.019795058,-0.06478716,0.011270914,0.011335006,-0.034719177,0.020142984,0.059147123,0.008844601,0.03709971,-0.016691208,-0.026314061,-0.02570977,0.064823784,0.023036247,-0.02935382,0.022358712,0.035030477,0.017789917,0.029774992,0.004481814,0.04409482,-0.037832186,-0.020875456,-0.02448288,0.006853192,0.015638279,0.07467553,0.00466951,-0.006692964,0.020179607,-0.000105221334,-0.1352876,0.014383921,0.030324345,-0.01742368,0.0038615013,-0.021388186,-0.02651549,0.012488649,-0.05394657,0.009934153,-0.043105982,-0.047354322,0.010227142,-0.004642042,-0.020967014,-0.028071994,-0.008844601,0.003241189,-0.0142740505,-0.04999122,0.003806566,-0.0466951,0.04643873,0.04438781,0.0037905432,-0.042520005,0.059037253,0.03026941,-0.047574062,-0.0013241722,-0.011545592,-0.0118385805,-0.0012383356,0.05240838,-0.003355638,0.017341277,-0.025856266,0.00033504877,0.038637903,-0.018934404,0.037612442,0.045779508,0.017441992,0.018220244,0.033748653,0.016791923,0.01340424,-0.011545592,-0.033950083,0.010904678,-0.038747776,-0.0041316003,-0.02448288,-0.012680924,-0.011261758,0.011078641,0.021369874,0.036312304,-0.03239358,0.014768469,0.017341277,0.02386028,0.009384799,0.009050609,0.0061848112,0.008455475,0.041311428,0.013880347,0.040469084,-4.9570623e-05,0.0344445,-0.013981061,0.0034128623,0.03424307,-0.036348928,0.023146119,0.042629875,-0.033382416,-0.05654685,-0.11873373,-0.0077230027,0.020234542,0.018128684,-0.0026391887,-0.017799072,-0.0039347485,0.0029413332,0.040615577,0.06167415,0.2182767,0.004172802,-0.024299761,-0.024189891,0.016407374,0.01695673,-0.014896652,0.031001883,0.030287722,-0.034792427,-0.031111753,0.037319455,0.015922112,-0.009384799,-0.0077367364,0.016187634,-0.010987082,-0.00074105576,0.050577197,-0.02955525,0.02852979,0.006564781,0.0034563527,0.025343535,-0.04907563,-0.043728586,-0.040688824,-0.006111564,-0.038967516,0.042703126,-0.017597642,0.032942932,0.09295071,-0.080571935,-0.03797868,-0.004529882,0.018485764,0.012809106,-0.018769598,0.040615577,0.025984447,-0.01376132,0.012717547,-0.01615101,0.009361909,0.022377023,-0.010501819,-0.028181864,0.0049487646,-0.018201932,-0.03616581,-0.018952716,-0.011463189,-0.010172206,0.012864041,-0.012149881,0.0028245957,-0.0044429014,-0.02955525,0.008720996,0.029280573,0.026423931,-0.08372156,0.066874705,-0.034389567,0.0063496176,0.03484736,-0.035726327,0.01605945,0.076250345,0.021205068,0.028621348,0.034371253,0.021955851,0.021607928,-0.009622852,0.022834819,0.058744263,-0.071452655,0.022157282,-0.008290669,0.014145868,-0.01335846,-0.005969648,0.019648565,0.0308737,0.0011822558,0.065043524,-0.013880347,-0.014383921,-0.034371253,-0.026643673,-0.015006523,0.023732096,0.025142105,0.047097955,-0.04105506,-0.011444877,-0.014200803,-0.042520005,-0.02539847,-0.007118713,0.017432837,-0.032924622,0.005594256,-0.037282832,0.026790168,-0.0021630817,-0.008725574,-0.011719554,-0.07515164,0.018412517,-0.018037125,0.0059192902,-0.013596513,0.006931017,0.001161655,0.001851781,0.020124672,0.06215026,0.006931017,0.018916093,-0.035579834,-0.008194531,-0.0051685064,-0.02479418,-0.004545905,-0.051126555,-0.05537489,0.0063175717,0.037539195,-0.033235922,0.047903676,-0.007434592,-0.0132669015,-0.027138092,0.014457168,0.035891134,-0.03827167,0.016544715,-0.013303525,-0.01767089,-0.02162624,0.00629926,-0.003064938,-0.009558761,-0.0123146875,-0.015162173,-0.003241189,0.0036623606,0.030910322,0.0062855263,0.037612442,-0.03605594,-0.0045047035,-0.017881475,-0.012882353,0.01981337,0.025636524,-0.029958108,-0.010044023,0.0001590838,0.006230591,0.015684059,0.018916093,-0.013138719,0.03171604,-0.006038317,-0.036403865,0.01898934,0.011142732,-0.046402108,-0.076030605,0.043032736,0.015510097,0.014191647,-0.030928634,-0.034865674,-0.009133012,-0.06643522,0.022779882,-0.031166688,-0.033034492,0.03131318,0.025856266,0.037832186,-0.013779632,-0.016444,-1.5271757e-05,-0.019557005,-0.026863415,0.11924646,0.013971905,0.0003693834,-0.023329237,0.047500815,0.047647312,0.03741101,-0.020600777,-0.025783017,-0.017716669,-0.008666061,0.034975544,-0.0038752353,-0.008780509,-0.010071492,0.019575316,0.019245705,-0.022230528,-0.036660228,0.006308416,0.026661985,-0.10342506,-0.007695535,0.06288273,-0.034792427,0.057315942,-0.009961621,-0.025142105,0.0022946978,-0.00949467,-0.034059953,0.023530666,-0.0197035,-0.019795058,0.014374766,-0.01715816,-0.045156907,0.001098136,-0.033492286,-0.0051593506,-0.02347573,0.012662612,-0.03980986,0.023896903,0.028053682,0.014823404,0.022010786,0.062186882,-0.009558761,-0.005379092,-0.081817135,-0.033437353,0.013825411,-0.026240813,0.0140634645,-0.018421674,0.003154208,-0.0056079896,0.028896024,-0.0026025649,0.029335508,0.022230528,0.006775367,0.031459678,0.06266299,-0.0131112505,-0.03741101,-0.033437353,-0.022779882,-0.025856266,0.03442619,0.01610523,0.004010285,-0.02499561,-0.0446808,0.019685188,-0.041384675,0.020252854,-0.033675406,-0.0032343222,0.0065510473,-0.019776747,0.015446005,0.01239709,0.008446319,-0.025563277,-0.017240562,0.0131112505,0.001583971,-0.033254232,0.031752665,-0.014182491,0.056253858,0.0012520695,0.05588762,0.07365007,-0.0021630817,0.011032861,-0.039370377,-0.015363603,-0.0115730595,-0.013550734,0.013504954,-0.020985326,0.014951587,0.0041293115,0.043838456,0.0027078579,0.0370814,-0.0132669015,-0.0027536373,-0.062003765,0.034920607,-0.040066224,0.01574815,-0.0005587961,-0.024025084,0.013092939,0.02386028,0.02863966,-0.028419917,0.03232033,0.020710649,0.017011665,0.012937289,0.07321059,-0.022505205,0.019593628,-0.02417158,0.018824533,-0.0072789416,-0.032155525,-0.031532925,-0.02924395,-0.0155467205,-0.047757182,0.010071492,-0.0069905305,-0.008496677,-0.01909921,-0.01898934,0.009760191,0.009815127,0.010254609,0.045156907,0.03341904,-0.04449768,-0.008634015,0.012946445,0.03962674,-0.05995284,0.03453606,-0.030232787,-0.020820519,-0.011142732,-0.027083157,-0.0118935155,-0.02752264,0.011792801,0.013285213,0.0259112,-0.026661985,-0.01655387,0.031166688,-0.037392702,-0.053507086,0.037539195,0.018101217,-0.0026552114,-0.04501041,0.06339546,-0.007040888,-0.013129562,0.03980986,-0.0035753795,0.016938418,-0.030196162,0.00071473257,-0.0005771079,-0.042373512,-0.0008892669,-0.015958736,0.02397015,-0.03380359,0.033345792,-0.034462813,-0.022578454,-0.0042300266,-0.05171253,-0.04182416,-0.014768469,0.0023988462,-0.0132669015,-0.031276558,0.014548727,-0.06614223,0.010236298,-0.0331993,0.008135018,-0.00466951,0.008881224,-0.026259124,0.02365885,-0.13426214,-0.012140725,0.0046969773,0.006519002,-0.0162151,0.015729839,-0.006697542,-0.033126052,-0.022102347,-0.052994356,-0.080425434,0.006312994,0.0142740505,-0.046402108,-0.0155467205,0.0071370252,0.03279644,-0.020490907,-0.018256867,-0.0036577827,-0.03210059,-0.0010849743,0.043801833,0.016324973,-0.009105544,0.0032663678,-0.01990493,0.03735608,-0.041128308,0.0023645116,0.007713847,-0.012003386,0.025526652,0.01601367,0.0057315943,0.0046923994,0.005456917,-0.007809984,-0.021571303,-0.0062901042,-0.01858648,0.01387119,-0.012818262,-0.0007101546,0.004271228,0.031258248,-0.034517746,-0.02915239,-0.012616832,-0.031459678,-0.029005896,0.002506428,-0.051053304,-0.02093039,0.03006798,-0.009732723,-0.06914537,-0.0056949705,-0.022743259,0.024299761,-0.023933526,0.016260881,-0.023823656,-0.06306585,-0.003442619,-0.016343284,-0.009288662,0.029427066,-0.047610685,0.05808504,0.03871115,-0.033657093,-0.0069172834,0.008615703,-0.012452026,0.002421736,0.03422476,-0.055594634,-0.01548263,-0.03838154,-0.027138092,0.03808855,-0.037942056,0.048599523,0.07734905,0.025490029,0.0054202937,-0.03775894,0.030159539,-0.015098081,-0.049954597,-0.016022827,0.015153017,0.024098333,0.0054157157,0.019465446,-0.015711527,0.007869497,0.0056995484,-0.0044016996,-0.009833438,-0.02852979,0.041018438,-0.013569046,-0.012772483,-0.019923242,0.01304716,-0.010483507,0.0063541955,0.004857206,0.022541828,-0.008414273,0.012937289,0.035726327,-0.068889,0.022908065,0.021827668,0.025947824,-0.029372131,0.038674526,0.021296626,-0.0029161547,0.013303525,-0.005566788,0.0069081276,0.014182491,0.023805343,0.000603145,-0.0068119904,-0.035488274,0.015574188,-0.013211966,-0.027760694,0.030983571,0.017945567,-0.05229851,-0.02732121,0.03775894,0.012433714,-0.004816004,-0.006871504,-0.051163178,0.0030786719,-0.03250345,-0.0127907945,-0.04720783,0.004358209,-0.005928446,-0.053360593,-0.04845303,0.021296626,0.0314963,0.023109496,0.017954722,-0.0033716606,0.043838456,-0.025837954,0.007407124,0.02083883,0.03058071,-0.007814562,-0.030800452,-0.011454033,-0.039443623,-0.046658475,-0.027266275,0.020967014,0.017643422,-0.018082906,0.015510097,-0.044717424,0.017295498,-0.001673241,0.048489653,0.03735608,-0.0892151,0.02508717,-0.02743108,0.013459175,-0.053140853,-0.0043055625,0.028090306,0.03330917,-0.010987082,0.044534303,-0.032631632,0.02083883,0.012717547,0.0010689514,0.028200176,-0.0069859526,-0.031185,0.029280573,0.014951587,0.007343033,-0.008336448,0.009375643,-0.034499437,-0.004452057,0.05394657,0.010941302,-0.04519353,-0.053177476,-0.015867177,0.043655336,0.027980434,0.016471466,-0.02955525,0.0043994104,0.07079343,-0.023109496,-0.025691459,-0.023805343,-0.02620419,0.015894644,-0.0127907945,0.02763251,0.006775367,0.010318701,-0.05951336,-0.00435592,-0.024904052,0.0064365985,-0.02550834,-0.04336235,0.0028200175,0.036110874,-0.035030477,0.044204693,-0.00855619,-0.009041453,-0.0008927004,-0.013962749,0.013157031,0.068962246,-0.024189891,-0.019886618,0.054715667,-0.045596387,0.013926126,0.025251975,0.024739245,0.033492286,0.031624485]', 't', '2025-11-19 12:50:09.22619+00', '2025-11-19 12:50:09.22619+00', NULL, 'published', 'f', 'approved', NULL, NULL, NULL);
INSERT INTO "public"."experience_records" VALUES ('839ebbf0-59a9-41f6-aaf4-8f8fbfa0ffad', '886bb63d-44d6-491b-bfcf-b5d5c14124e2', 'React Link组件设置新标签页打开：提升用户体验的最佳实�?, '�?React/Next.js 应用的用户仪表盘页面中，热门经验列表的链接默认在当前页面打开，导致用户体验问题：
1. 用户点击查看热门经验后，会离开仪表盘页�?
2. 用户需要使用浏览器的返回按钮才能回到仪表盘页面
3. 如果用户想同时查看多个热门经验，需要多次返回仪表盘页面重新点击

这导致用户体验不流畅，用户需要不断在页面间来回切换，增加了操作成本�?, 'React �?`Link` 组件（包�?Next.js 中的 `Link`）默认行为是在当前页面加载链接内容，除非显式配置为在新标签页打开�?

问题代码片段�?
```jsx
// PopularExperienceItem 组件中的链接没有设置 target="_blank"
function PopularExperienceItem({ experience }: { experience: any }) {
  return (
    <Link 
      href={`/experience/${experience.id}`} 
      style={{ 
        // 样式属�?..
      }}
    >
      {/* 内容... */}
    </Link>
  );
}
```

这是因为�?
1. HTML�?`<a>` 标签默认行为是在当前页面打开链接
2. React�?`Link` 组件在不设置特定属性时，也继承这一默认行为
3. 缺少 `target="_blank"` 和相应的安全属�?`rel="noopener noreferrer"`', '为了让热门经验链接在新标签页打开，同时遵循最佳安全实践，需要修�?`PopularExperienceItem` 组件，添�?`target="_blank"` �?`rel="noopener noreferrer"` 属性：

```jsx
function PopularExperienceItem({ experience }: { experience: any }) {
  return (
    <Link 
      href={`/experience/${experience.id}`}
      target="_blank"                    // 新增：在新标签页打开
      rel="noopener noreferrer"         // 新增：安全最佳实�?
      style={{ 
        textDecoration: ''none'', 
        display: ''flex'', 
        alignItems: ''center'', 
        gap: ''1rem'',
        padding: ''1rem'',
        borderRadius: ''8px'',
        transition: ''background 0.2s ease'',
        border: ''1px solid #e2e8f0''
      }}
      // 其他属�?..
    >
      {/* 内容保持不变... */}
    </Link>
  );
}
```

修改文件：`web/src/app/admin/user-dashboard/page.tsx`', '**技术栈**�?
- React 18+
- Next.js 15.5.6
- TypeScript

**应用场景**�?
应用是一个经验分享平台，用户仪表盘页面展示了热门经验列表，允许用户快速访问平台上热门的内容�?

**相关文件**�?
- `web/src/app/admin/user-dashboard/page.tsx`：包�?`PopularExperienceItem` 组件
- `web/src/components/experience/ExperienceList.tsx`：通用经验列表组件

**原始实现**�?
经验链接默认在原页面打开，用户查看完经验详情后需要使用浏览器返回按钮返回仪表盘�?, 0, 1, 0, '''/experience'':44,88 ''0.2'':114 ''1'':9,50 ''15.5.6'':129 ''18'':127 ''1px'':118 ''1rem'':107,109 ''2'':12,53 ''3'':14,58 ''8px'':111 ''alignitem'':104 ''background'':113 ''blank'':35,61,73,91 ''border'':117 ''borderradius'':110 ''center'':105 ''display'':102 ''e2e8f0'':120 ''eas'':116 ''experi'':38,39,82,83 ''experience.id'':45,89 ''flex'':103 ''function'':36,80 ''gap'':106 ''href'':43,87 ''html�?':51 ''jsx'':31,79 ''link'':22,27,42,55,86 ''link组件设置新标签页打开'':2 ''next.js'':25,128 ''none'':101 ''noopen'':64,76,95 ''noreferr'':65,77,96 ''pad'':108 ''popularexperienceitem'':32,37,69,81,138 ''react'':1,20,126 ''react/next.js'':5 ''react�?':54 ''rel'':63,75,94 ''return'':41,85 ''solid'':119 ''style'':46,99 ''target'':34,60,72,90 ''textdecor'':100 ''transit'':112 ''typescript'':130 ''web/src/app/admin/user-dashboard/page.tsx'':124,136 ''web/src/components/experience/experiencelist.tsx'':140 ''中的'':26 ''为了让热门经验链接在新标签页打开'':66 ''也继承这一默认行为'':57 ''会离开仪表盘页�?':11 ''修改文件'':123 ''允许用户快速访问平台上热门的内�?':134 ''其他属�?':121 ''内容'':48 ''内容保持不变'':122 ''包含'':137 ''包括'':24 ''原始实现'':142 ''同时遵循最佳安全实�?':67 ''�?':74 ''和相应的安全属�?':62 ''�?':4 ''在新标签页打开'':93 ''增加了操作成�?':19 ''如果用户想同时查看多个热门经�?':15 ''安全最佳实�?':98 ''导致用户体验问题'':8 ''属�?':78 ''应用场景'':131 ''应用是一个经验分享平�?':132 ''应用的用户仪表盘页面�?':6 ''技术栈'':125 ''提升用户体验的最佳实�?':3 ''新增'':92,97 ''标签默认行为是在当前页面打开链接'':52 ''样式属�?':47 ''添加'':71 ''热门经验列表的链接默认在当前页面打开'':7 ''用户仪表盘页面展示了热门经验列表'':133 ''用户查看完经验详情后需要使用浏览器返回按钮返回仪表�?':144 ''用户点击查看热门经验�?':10 ''用户需要不断在页面间来回切�?':18 ''用户需要使用浏览器的返回按钮才能回到仪表盘页面'':13 ''�?':21 ''相关文件'':135 ''组件'':23,70,139 ''组件中的链接没有设置'':33 ''组件在不设置特定属性时'':56 ''经验链接默认在原页面打开'':143 ''缺少'':59 ''这导致用户体验不流畅'':17 ''这是因为'':49 ''通用经验列表组件'':141 ''问题代码片段'':30 ''除非显式配置为在新标签页打开'':29 ''需要修�?':68 ''需要多次返回仪表盘页面重新点击'':16 ''默认行为是在当前页面加载链接内容'':28', '[-0.06673125,-0.017979743,-0.02720754,-0.009890258,0.0009925248,0.0015045323,0.0065546287,-0.019705873,-0.020545613,-0.005001112,0.015628474,0.018362291,-0.0038184796,0.03041721,0.03196606,0.024315108,0.027972637,0.005654242,0.02349403,0.004590573,-0.023363402,0.014900701,-0.011765676,0.013529127,-0.0030183948,0.012176215,-0.012269518,-0.03129427,0.0042243535,0.017401256,0.043442495,-0.06505177,0.026852984,0.012558762,-0.057736717,-0.05008576,-0.031182306,-0.0014182257,-0.030305244,0.015768431,0.008476698,-0.004760853,0.020359004,-0.014751414,0.00474919,-0.020806864,0.030118637,-0.020153735,0.026908968,-0.017737152,-0.03601547,-0.0061160983,0.015880397,-0.04639091,0.050197728,0.020750882,-0.038963888,-0.049973797,-0.037918877,0.0022159778,-0.010841963,-0.03431733,-0.0074923374,0.0146114575,0.008751946,0.047062702,0.0006128928,-0.00028603608,-0.020340342,-0.05329543,-0.009223132,-0.0038371403,-0.027599419,-0.038889244,-0.028308531,0.03233928,0.03735905,-0.0010543389,0.029689437,-0.022616968,-0.033850808,-0.01770916,0.043069277,0.018455595,0.044935364,0.014350205,-0.047361277,-0.009684989,0.04683877,-0.041576408,0.0014975345,-0.0075623156,0.05303418,-0.028588446,-0.0016619833,-0.0070211506,0.009778293,-0.0022183103,0.06568625,-0.034354653,0.030977035,0.023251439,-0.006204738,-0.030977035,0.060909063,5.9627295e-05,0.05378061,0.008579332,0.022337055,-0.0063073724,-0.017074691,0.0104967365,-0.008905898,-0.030510515,-0.0039187814,-0.022691611,0.00081349706,-0.02608789,0.0345226,-0.019556586,0.030753106,0.011411119,0.02825255,-0.0340934,0.014126275,-0.002661506,-0.016244283,0.016981388,-0.003578221,0.025807977,0.04318124,0.0034569253,0.01744791,0.018651534,-0.040680684,0.010664685,0.00054991234,0.01573111,0.013146579,-0.037694946,0.012344162,0.07154576,-0.026815662,-0.00949838,0.04836896,0.008159463,0.040531397,0.056206524,0.017289292,-0.021534638,-0.020620257,-0.00528569,0.014592797,0.007184433,0.006927846,-0.02243036,0.023885908,0.031126322,0.050160404,0.019575248,0.018595552,0.010907276,-0.010198163,0.027226202,0.029428184,0.00020760212,-0.0009202139,-0.041315153,-0.034821175,0.02524815,-0.021124098,-0.027543437,0.039523713,-0.021236064,0.02737549,-0.0015208605,0.095842205,0.021926517,0.009908919,-0.005780203,-0.023848586,0.012624075,0.038516026,-0.040195502,-0.033533573,0.004637225,-0.0039491057,-0.058520474,-0.0041403794,0.049078073,-0.022169108,-0.040643364,0.048406284,-0.035492964,0.036537975,-0.018194344,0.021646604,-0.009573024,0.0033123035,-0.038049504,-0.0051037464,0.02849514,0.004445951,0.031424895,-0.028775053,-0.0051410682,-0.036164757,-0.014508823,0.03233928,-0.022075804,-0.012848006,0.013435823,-0.011756345,-0.0015675126,-0.06128228,-0.0028784384,0.0034965796,0.0016468214,0.0041520423,-0.01187764,-0.006535968,0.030529175,-0.011047232,-0.049376648,0.008915228,0.025266811,0.0366686,0.028009959,0.0035222382,-0.04612966,0.015927048,0.04336785,0.056691706,-0.021683926,0.02890568,0.00350591,-0.026050568,-0.046950735,0.02459502,-0.0012759366,0.013407831,-0.07673348,-0.027487455,0.022131786,-0.06318569,-0.024277786,0.027002271,0.025397437,-0.023475368,0.004742192,-0.017653178,0.025098864,-0.031779453,-0.0002637305,0.0015360224,0.020526951,0.023997873,-0.013585109,-0.023139473,-0.032656513,0.008817258,0.046241622,0.010655354,0.019780517,-0.011952284,0.005239038,-0.021030795,0.0102821365,-0.013510467,-0.00938175,-0.05997602,-0.006694585,0.030753106,-0.036071453,-0.00069628353,0.0040564057,-0.028215228,-0.004285001,0.08710892,0.01617897,-0.029838722,0.0073430506,0.05501223,0.00807549,0.008150132,-0.0036015469,0.0037998187,-0.0010036046,0.007184433,0.007926202,0.0060741114,0.03276848,0.07445685,-0.027562097,0.003302973,0.01165371,0.0027361494,-0.1518248,-0.058184575,0.04403964,-0.018259656,0.014536814,0.017410588,-0.049936473,0.0027128232,-0.014975344,0.04079265,-0.051503986,-0.0638948,-0.010552719,-0.027674062,-0.012194876,-0.0087752715,-0.04202427,0.0060367896,0.027002271,-0.049787186,-0.02782335,0.006997824,0.047995746,0.016804108,0.007291733,-0.058371186,0.07188165,0.008047498,-0.023531351,0.019556586,0.022262411,-0.032619193,-0.0058128596,0.014060962,-0.0021145092,-0.00055457756,-0.015395214,-0.00583152,-0.01789577,-0.013361179,0.02175857,0.07475542,-0.00361321,-0.025957264,0.037247088,-0.029204253,-0.0039607687,-0.015059318,-0.035679575,-0.05239971,-0.026069228,-0.020769542,-0.021963838,0.00035076594,-0.030585157,-0.018464927,-0.0009639503,0.00829009,0.008742616,0.012782693,-0.0065406333,-0.037788253,0.059640124,-0.008537346,-0.017970413,-0.0022789582,0.054004543,-0.010198163,0.03317902,-0.057027604,0.038926564,-0.032619193,0.011523084,-0.016897414,-0.036817886,0.016281605,0.01532057,-0.03754566,0.036444668,-0.094871834,0.02416582,0.042733382,0.027039593,0.034391973,-0.047435917,-0.01467677,0.007380372,-0.02373662,0.02782335,0.23139472,-0.0006892857,-0.00949838,-0.018157022,0.05068291,0.0113551365,-0.020788204,0.025919942,0.051653273,-0.05131738,-0.02478163,0.026871646,0.026442446,-0.015824413,0.032637853,0.04202427,-0.027487455,0.013799709,0.04724931,-0.032432582,0.023643317,0.03836674,0.0044669444,0.031574182,-0.08255567,-0.0023664308,0.007249746,0.021441333,-0.036593955,0.06605946,-0.05157863,0.041128546,0.065910175,-0.052959535,-0.01877283,-0.016720135,0.012064249,-0.015189944,0.00938175,0.016533526,0.007996181,-0.026610393,0.026815662,0.027506115,-0.0014182257,0.007315059,-0.046764128,0.026890306,-0.026069228,0.007982185,0.002056194,-0.0032423253,-0.032488566,-0.0045135967,0.005934155,-0.04941397,-0.014060962,-0.006563959,-0.006745903,0.009465723,-0.022803577,0.0071331155,-0.03539966,0.021086777,-0.02739415,0.029409524,0.011205849,-0.012764032,0.014751414,0.06385748,-0.059602804,0.051503986,0.040867295,-0.008448707,-0.016570847,0.005593594,-0.017746482,0.064268015,-0.04922736,0.04254677,-0.00015613895,0.034578584,-0.031536862,0.025416099,0.026143871,-0.017951753,-0.017914431,0.0695677,-0.008402054,0.024240464,-0.04400232,0.0058968333,-0.006601281,0.010888615,0.03278714,0.05202649,-0.006190742,-0.034989122,-0.037023157,-0.00090738456,-0.011933623,0.0052576987,0.02048963,0.006242059,-0.014602127,-0.060386557,0.0012421138,0.024912255,0.017541213,-0.042808022,-0.0565051,0.023214117,0.023363402,-0.039411746,-0.023046168,0.031051679,0.043031953,0.018688856,0.004945129,0.059640124,0.0036645273,0.018026395,-0.02461368,-0.028998984,-0.025378777,-0.07479275,-0.023214117,-0.042136233,-0.060237274,0.033514913,0.012502779,-0.014770075,-0.035026442,0.018436935,0.025192168,0.0045205946,0.05113077,0.031798113,0.020937491,0.017625187,-0.02677834,-0.061842106,-0.0056355814,0.013557118,0.014480831,0.035045106,-0.0042756707,-0.04859289,-0.0054489723,0.02890568,0.06471588,0.022075804,0.019761857,-0.06258854,-0.027897993,-0.010216824,0.015357892,-0.00043094935,-0.031033019,-0.010235485,-0.004546253,0.01769983,0.0011400622,0.033832148,0.060237274,0.00906918,-0.024837611,0.019593908,0.008360067,-0.007156442,-0.0026521755,-0.05549741,-0.048816822,-0.0062840465,0.015423205,0.037284408,-0.07583775,0.020676238,-0.015647136,-0.033794828,0.0066759246,-0.012708049,-0.032675173,-0.018716848,0.015861735,0.020788204,0.03491448,-0.015451197,0.0061394246,-0.03039855,-0.016533526,0.121146336,-0.04232284,0.015796423,0.045457866,-0.028028619,0.089646794,0.017830456,-0.0014893702,-0.037918877,-0.027879333,0.023829924,-0.006078777,0.02375528,0.0023652646,-0.0016981387,-0.017867777,-0.0021763234,-0.040232826,0.007968189,-0.0009272117,-0.018343631,-0.046726804,-0.016916074,0.041725695,-0.044076964,0.063073725,0.021254726,-0.012493449,-0.0014497159,-0.012549432,-0.02244902,-0.0037088469,-0.030491853,0.0032726491,0.00036272057,-0.01856756,-0.021292048,-0.001752955,0.0055562723,-0.0058548464,0.030174619,-0.022094464,-0.027412811,0.018175682,0.049712542,-0.0061114333,0.024520377,0.0025192169,-0.0066572637,-0.032712497,-0.04601769,0.0010164339,-0.006890524,-0.009111167,0.02610655,0.009456393,-0.03278714,0.018101038,-0.0065079764,0.0039397753,0.0076276287,-0.02392323,-0.036202077,0.026293159,0.033776164,0.03818013,-0.014779405,-0.04859289,-0.048630215,-0.025994584,0.024968237,0.01467677,-0.010319458,-0.04142712,-0.009610346,0.020433648,-0.021926517,-0.005201716,-0.07318791,-0.0037018491,0.0057335505,-0.0146114575,-0.020023108,0.041725695,-0.02200116,-0.0049031423,0.018502248,0.02478163,0.016692143,-0.022187768,-0.02459502,-0.008430046,0.043741066,-0.009321102,0.012745371,0.05042166,-0.010375441,-0.019761857,-0.024986899,-0.0058548464,-0.00010197871,-0.046241622,0.019295335,-0.006605946,0.023176795,-0.020023108,0.0107113365,0.011093884,0.006400677,-0.020396326,0.017391926,-0.031368915,-0.0007598471,-0.06867199,0.03217133,-0.017998405,-0.019537926,0.042136233,-0.007552985,-0.018698188,-0.02308349,0.06083442,0.022318395,0.04986183,0.03362688,0.05288489,-0.0690452,-0.0073057287,0.00329131,0.023027508,0.0013680747,-0.054900266,0.050533623,-0.026498428,-0.0154698575,0.032432582,-0.017102683,0.0012724377,0.0027198212,0.0042476794,-0.035735555,0.0005872341,-0.019258013,-0.0070864633,-0.0061814114,0.01251211,0.01424757,0.0017016376,-0.028961662,0.05303418,0.0010502568,0.012045588,-0.006941842,-0.009097172,-0.007926202,-0.012194876,-0.037284408,-0.024296446,-0.006186077,0.039561033,0.008882572,0.005397655,-0.035922166,0.013305197,0.0035922164,-0.043106597,-0.026554411,0.023979211,0.041874982,-0.031033019,0.078674205,-0.034205366,0.037788253,0.04377839,0.0061580855,0.015553831,-0.0031770123,0.0046955403,-0.017233308,-0.009619676,0.048816822,-0.027319506,-0.02804728,-0.018446265,0.015936378,-0.04612966,-0.0028014623,0.018838143,0.05045898,-0.03405608,-0.05355668,-0.019463282,-0.0388146,-0.0115697365,0.00054728816,-0.016281605,0.0020223712,0.00906918,0.022934202,0.004744525,0.033328306,-0.049078073,0.026349142,-0.1563034,-0.0012257856,-0.003482584,-0.00582219,-0.03196606,0.003923447,0.019929804,-0.03218999,0.013967657,-0.035903506,-0.06669393,-0.019276673,0.028196568,-0.032227315,0.017942421,0.028084602,-0.007030481,-0.026442446,-0.021851873,-0.00010759155,-0.011849649,-0.00073477154,0.041315153,-0.04034479,-0.034690548,-0.027916653,-0.01532057,0.0513547,-0.00948905,-0.01446217,-0.005127073,-0.004368975,0.0370978,0.058856368,-0.011457771,0.020620257,-0.0017004713,0.0032096687,0.003956103,0.0044389535,-0.010207493,-0.0040144185,-0.027020933,-0.010478076,0.048443604,0.06128228,-0.018455595,-0.02071356,-0.049936473,-0.028756393,0.003832475,0.027524775,-0.014966014,0.004518262,0.004837829,-0.0008315748,-0.017149335,0.0014567138,-0.07912207,0.03648199,-0.022187768,0.030678462,-0.040270146,-0.01987382,-0.067701615,0.004285001,-0.08046565,0.035325017,-0.015628474,-0.030865071,-0.012026927,-0.073523805,-0.018240996,-0.009517041,0.020993473,-0.012278849,0.019127386,-0.019146048,-0.027543437,-0.0066292724,-0.009083176,0.006997824,-0.05803529,0.03306705,0.084496394,0.05325811,0.012745371,-0.041539084,0.026423784,-0.018352961,-0.017933091,-0.037881557,-0.006172081,-0.031238288,0.0076276287,0.024968237,0.019146048,0.028103262,0.02954015,-0.024483055,-0.03922514,-0.0012631073,0.036351364,0.0074083633,-0.03691119,0.021441333,0.018698188,0.013286536,-0.011849649,-0.001633992,-0.04956326,0.019024752,-0.0013190899,0.013473145,-0.07494203,0.0029064298,0.014378197,0.017783804,-0.02028436,0.037079137,-0.009484384,0.015423205,0.0035502296,-0.03536234,-0.032731157,0.019239351,0.036388688,0.041240513,-0.03301107,-0.03454126,0.022822239,-0.023829924,-0.02782335,0.07038878,0.009316437,-0.008756611,-0.035045106,0.024856271,0.000663627,-0.0029297557,-0.052847568,-0.02588262,0.007161107,-0.034839835,-0.020788204,0.00062047376,0.0328058,0.034018755,-0.043666422,-0.033290982,0.00453459,-0.008607324,-0.015936378,-0.029745419,-0.03345893,0.021945177,0.04097926,0.002607856,-0.009218467,0.060983706,-0.030995697,-0.022560986,-0.02823389,-0.015311239,-0.0031116991,-0.017541213,0.0164029,0.011588397,-0.033794828,0.037396375,-0.021609282,0.044935364,-0.021105438,0.035735555,0.012670727,-0.04336785,0.036090113,-0.011457771,0.059602804,-0.008910563,0.0096383365,-0.01574044,-0.002922758,0.010011554,0.037023157,-0.028196568,-1.1289459e-05,0.014770075,0.014415518,0.0073897024,-0.05389258,-0.02890568,0.00026693783,-0.05042166,0.041912302,-0.022542326,-0.0033939448,0.015124631,0.0146114575,0.05217578,-0.0111405365,0.029950688,0.019892482,0.0015605148,0.023344742,-0.014686101,0.0014637116,-0.0035502296,0.0010286801,0.0556467,-0.003993425,-0.014807397,-0.022169108,0.02825255,0.02565869,-0.014116945,0.021907855,0.038889244,0.013491806,-0.017130675,0.018511578,0.027748706,-0.011588397,-0.020508291,-0.0026824994,-0.008388059,0.0022451354,-0.0040983926,-0.00937242,-0.002689497,0.0055142855,0.028812375,-0.0064846505,0.022318395,0.02416582,-0.0012596084,-0.031611506,-0.00582219,0.0036342035,-0.011980276,0.016934736,0.028084602,-0.02349403,0.014079623]', 't', '2025-11-24 08:36:49.085211+00', '2025-11-24 12:14:53.284266+00', NULL, 'published', 'f', 'pending', NULL, NULL, NULL);
INSERT INTO "public"."experience_records" VALUES ('3ca407ea-86f4-4c05-b99e-540f521cde64', '886bb63d-44d6-491b-bfcf-b5d5c14124e2', 'Next.js API Route CORS Issue', 'When making requests to Next.js API routes from external domains, getting CORS errors', 'Next.js API routes don''t have CORS headers configured by default', 'Add CORS headers to the API route response or use a middleware like next-connect with cors', '// Example of adding CORS headers in Next.js API route\nimport { NextApiRequest, NextApiResponse } from ''next'';\n\nexport default function handler(req: NextApiRequest, res: NextApiResponse) {\n  res.setHeader(''Access-Control-Allow-Origin'', ''*'');\n  res.setHeader(''Access-Control-Allow-Methods'', ''GET, POST, PUT, DELETE, OPTIONS'');\n  res.setHeader(''Access-Control-Allow-Headers'', ''Content-Type, Authorization'');\n  \n  if (req.method === ''OPTIONS'') {\n    return res.status(200).end();\n  }\n  \n  // Your API logic here\n  res.status(200).json({ message: ''Hello World'' });\n}', 15, 18, 0.85, '''200'':109,120 ''access'':74,81,93 ''access-control-allow-head'':92 ''access-control-allow-method'':80 ''access-control-allow-origin'':73 ''add'':30,50 ''allow'':76,83,95 ''api'':2,11,20,35,55,115 ''author'':100 ''configur'':27 ''connect'':45 ''content'':98 ''content-typ'':97 ''control'':75,82,94 ''cor'':4,17,25,31,47,51 ''default'':29,64 ''delet'':88 ''domain'':15 ''end'':110 ''error'':18 ''exampl'':48 ''extern'':14 ''function'':65 ''get'':16,85 ''handler'':66 ''header'':26,32,52,96 ''hello'':123 ''issu'':5 ''json'':121 ''like'':42 ''logic'':116 ''make'':7 ''messag'':122 ''method'':84 ''middlewar'':41 ''n'':62,71,78,90,101,102,106,111,112,113,118,125 ''nexport'':63 ''next'':44,61 ''next-connect'':43 ''next.js'':1,10,19,54 ''nextapirequest'':58,68 ''nextapirespons'':59,70 ''nimport'':57 ''option'':89,105 ''origin'':77 ''post'':86 ''put'':87 ''req'':67 ''req.method'':104 ''request'':8 ''res'':69 ''res.setheader'':72,79,91 ''res.status'':108,119 ''respons'':37 ''return'':107 ''rout'':3,12,21,36,56 ''type'':99 ''use'':39 ''world'':124', '[-0.031757582,-0.0027032627,-0.0069676945,0.051762648,-0.04697322,0.01691036,-0.0061387555,-0.020447167,-0.020815585,0.018669553,0.0003315757,-0.027870778,0.029362869,-0.0019526123,-0.014847222,0.012719612,0.0016417601,-0.0013930784,-0.0026157638,-0.012056461,-0.027631307,0.020041907,-0.016726151,0.009095306,0.0011265514,-0.004020355,-0.044983767,-0.023578715,-0.012010408,0.022049783,-0.008183472,-0.017020885,0.051504757,0.018024823,0.0031338506,-0.030983904,-0.01353013,-0.045389026,-0.02790762,0.0068848007,-0.031241797,0.0007771305,0.0151419565,-0.022068204,0.03938382,0.004992056,0.0055723134,-0.019710332,0.009201225,-0.03172074,-0.03912593,0.002820696,0.03194179,-0.039089087,0.030210229,0.021699786,-0.013852495,-0.02980497,-0.02239978,0.046457436,-0.056109972,-0.01395381,-0.050878447,0.0066959867,0.014460384,0.03127864,0.0037233187,0.0165051,-0.027631307,-0.037799627,0.0053834994,-0.004222985,-0.0034539134,-0.04041539,-0.02895761,0.012074881,0.027318152,-0.038389094,0.025512906,-0.008597941,-0.021644523,-0.0333602,0.009367013,0.021883994,0.011080154,-0.0074604526,-0.021036634,0.01651431,0.03067075,0.00782887,0.012240669,-0.018420871,0.0140551245,-0.048631098,-0.013557761,0.007230192,-0.035257548,0.004349628,0.046789013,-0.015501163,-0.018899813,0.005328237,0.013069608,-0.026286583,0.07913606,0.024315549,0.06296254,0.000511467,0.011338046,-0.02239978,0.02599185,0.002173663,-0.012516982,-0.012028829,-0.0043312074,-0.064436205,-0.011936724,-0.015059062,-0.027170785,-0.021902416,-0.008344655,0.02792604,0.058467846,-0.015611689,0.022933984,0.0065900665,0.0031269428,0.0595731,-0.0019767897,0.02053927,-0.0067558545,-0.001709687,0.0029058924,0.018328767,-0.024905019,0.026249742,-0.012185406,0.0019123167,0.0017154437,-0.054046836,0.009836745,0.03588386,0.0050795553,-0.008989385,0.011439361,-0.026157636,0.05367842,0.030707592,0.019286651,-0.028165512,0.013502498,-0.01864192,-0.0013124871,0.0024269498,0.016431417,-0.028626034,-0.022547146,-0.024020815,0.041815378,0.03452071,0.006737434,0.03595754,-0.022326095,-0.019912962,0.06812038,-0.043841675,0.0033410855,-0.01881692,-0.02028138,-0.04037855,-0.0073821642,0.0025098438,0.015280113,-0.041594326,0.027447099,0.04973635,0.028570771,0.022786617,0.007547952,0.011724885,-0.025568169,-0.0046535726,0.040120658,-0.05651523,-0.020520851,0.012535403,-0.030928643,0.0026848419,0.004216077,0.027649727,-0.032844413,-0.024978701,0.07515715,0.03129706,0.01671694,0.038425937,0.023099773,-0.0085334685,0.0077690026,-0.053383686,-0.03831541,0.009104515,0.015160377,0.016440628,-0.028902346,-0.0089110965,-0.028386563,-0.026286583,-0.003097009,-0.022233991,0.037118055,0.03280757,-0.05036266,-0.0024983305,-0.057031017,0.008998595,-0.0002812061,-0.028441826,-0.0072440077,-0.026544476,-0.00993806,0.023081351,-0.009606484,-0.030412858,0.014405121,0.03129706,0.043289047,0.017776141,-0.022731354,-0.029012872,0.012001198,0.004137788,0.015703792,-0.04166801,0.034318082,-0.037357528,-0.003214442,-0.023339244,0.02328398,0.0405996,0.0012284418,-0.028239196,0.021920837,-0.0030762856,-0.030504962,0.017840615,0.024112921,-0.0033756245,-0.041594326,-0.028626034,0.0042966683,-0.009560432,-0.0035828594,0.03886804,0.013465657,-0.0042529185,-0.0101499,-0.0030924038,-0.00067524007,-0.022786617,-0.027557623,0.014524857,0.03172074,0.003207534,0.005982178,0.05032582,-0.014994589,-0.019618228,-0.025733957,-0.041520644,-0.04634691,0.035773333,0.04244169,-0.016532732,-0.024776071,0.03568123,-0.009215041,-0.04631007,0.088935964,0.043510098,-0.0066959867,0.015151166,0.040046975,0.028920768,0.032475997,0.038831197,-0.027152363,-0.027852356,0.011669622,0.012093302,0.022289254,0.0313339,0.057252068,-0.033268094,-0.04885215,-0.013511709,-0.001656727,-0.14132492,-0.029491814,0.06819406,-0.031407584,0.014469595,0.04144696,-0.048189,0.015353796,-0.0038177255,0.01820903,0.005153239,-0.04269958,-0.00866702,-0.024057658,0.004771006,-0.0014195584,-0.00813742,0.008289392,0.015353796,-0.0414838,-0.015620898,-0.019084023,0.03361809,-0.031610213,-0.016348524,-0.039273296,0.043067995,0.003838449,-0.04037855,0.045573235,-0.030597067,-0.050804764,0.0020032697,0.02873656,-0.0052913954,-0.010232794,0.03890488,0.01904718,0.006198623,-0.031168114,0.00867623,0.072136134,-0.013216975,-0.021184001,0.025844483,-0.038941722,0.017499827,-0.021810312,-0.053015266,0.031868108,0.023615558,-0.0074742683,0.011135417,-0.02138663,-0.024647126,0.0073499274,0.0020021184,0.025070805,-0.031370744,-0.005245343,-0.019305073,-0.043252204,0.04487324,-0.025255015,-0.019728754,0.036933847,0.03809436,-0.014018283,0.014847222,-0.004738769,0.02704184,-0.06369937,0.010840682,-0.005899284,-0.065467775,0.014313017,-0.0065071727,-0.029418131,-0.006217044,-0.08318865,-0.00475719,0.027815515,-0.009753851,0.0046950197,-0.067420386,-0.028294459,0.0028874716,-0.018098505,0.055262614,0.2275346,0.031997055,-0.0053374474,0.022307675,0.08539916,-0.03172074,0.017601142,0.022657672,0.032697048,-0.037099633,0.01522485,-0.023265561,0.0021356698,-0.012719612,0.01502222,0.037799627,-0.042589054,0.037136476,0.016643258,-0.057362594,-0.0013389671,0.015197218,0.0043127863,0.0076492666,-0.09836745,-0.012664349,-0.009984112,0.0091735935,-0.025770798,0.042589054,-0.03234705,0.032936517,0.025973428,-0.0333602,-0.07884133,0.006359806,-0.023633977,-0.02809183,0.028404983,0.014119598,0.006746644,0.013732759,0.032273367,0.026526054,0.044062722,-0.016376154,-0.013990652,-0.0024453707,-0.028073408,-0.024278708,-0.030560225,-0.04675217,-0.01945244,0.017085359,-0.023394506,-0.07655714,0.0051486334,-0.024665546,-0.016781414,0.03805752,0.03897856,0.008745309,-0.031131273,0.030099703,-0.029160239,-0.03002602,0.039089087,-0.023652399,0.021276107,0.0557784,-0.024555022,-0.003403256,0.052278433,-0.0026042506,-0.0032374682,-0.011853831,0.021718208,0.062004652,-0.058725737,0.015795898,-0.009569642,0.023597136,-0.052536324,0.010509107,0.030320754,-0.0052315276,0.028294459,0.041962743,0.007041378,0.0017948836,-0.017039306,-0.025918165,0.017140621,0.035773333,-0.02199452,-0.012259089,-0.0070091416,-0.0031983238,-0.0074558477,-0.0038016073,-0.054046836,0.008404522,-0.019139284,-0.0047525847,-0.019268231,-0.05537314,0.027797094,0.015952474,-0.015731424,-0.052094225,0.004561468,-0.0006953879,0.012609086,-0.027207626,-0.010186742,0.042552214,0.008183472,-0.007151903,0.06952037,-0.016431417,0.016661678,0.029270764,0.010582791,0.008634783,0.018706394,-0.02494186,-0.018936656,-0.011918304,-0.04841005,0.03280757,0.0063552004,-0.008584126,-0.025955008,0.042478528,-0.0027470123,0.031223377,0.013180133,-0.004054894,-0.014184071,-0.0006689079,-0.007953211,0.0080315,0.006488752,0.008349259,0.017748509,0.011485413,0.028791822,-0.027539203,0.019710332,-0.0042782472,0.027594466,0.049957402,0.040083814,-0.060936242,-0.0014679132,-0.07442032,0.029749706,-0.022362938,0.027962882,-0.0027746437,-0.0058394163,0.039641716,-0.0053190268,0.009919639,0.03398651,-0.0020665915,-0.020484008,0.04922057,0.0015254784,-0.017112989,-0.008593337,-0.035625964,-0.04826268,0.045536395,0.021091897,-0.062704645,-0.065873034,0.033341777,0.029878654,-0.023265561,0.045610078,0.04166801,-0.038425937,-0.03277073,0.022786617,-0.034170717,0.00835847,-0.010435424,0.017214304,-0.04122591,-0.038389094,0.10389371,-0.004973635,0.0114946235,0.055962607,0.012305142,0.09107279,0.03087338,-0.017048515,0.031186534,0.01353013,-0.0017223514,-0.01668931,0.028018145,0.013613024,-0.039604872,0.008211103,0.0013424209,-0.08223077,-0.0038775934,-0.032383893,0.034428608,-0.09586221,-0.0070551937,0.029326027,-0.022786617,0.06638882,0.037541736,0.028276037,0.012747243,-0.025973428,-0.0091966195,0.048299525,-0.0354786,-0.019581387,-0.005457183,-0.00909991,0.0011530314,0.030210229,-0.023026088,0.0034424004,0.028478667,0.0042713396,-0.029252343,0.022860302,0.03697069,-0.009495959,0.024591863,0.036307536,-0.008128209,-0.005061134,0.008330839,0.029270764,0.016984044,0.036510166,0.010334109,-0.048704784,-0.012747243,0.023541873,0.0579889,-0.027741833,-0.020999793,0.02729973,-0.008920307,0.052573167,-0.0021471828,0.0009083792,0.022178728,-0.005097976,0.03321283,0.012148565,0.014718276,-0.021110319,-0.03321283,-0.030762855,-0.047415324,0.041520644,-0.018291924,-0.041778535,-0.03654701,-0.010619632,0.010407792,-0.02514449,-0.0019687307,0.010702526,-0.019857699,-0.061194133,0.03151811,0.055594187,-0.025126068,-0.057841536,-0.017112989,0.0013240001,0.04251537,0.028036566,0.040452234,0.060346775,0.02348661,0.0024499758,-0.02770499,0.022178728,-0.011384099,-0.027207626,0.019268231,-0.031149693,-0.012572245,-0.009542012,-0.010177531,0.012240669,0.05308895,-0.0041723275,-0.009652536,-0.0074144006,-0.021368211,-0.0519837,0.028054986,-0.023191877,-0.0027032627,0.01162357,-0.009122936,-0.03614175,-0.07117824,0.043436415,0.0052821846,0.07994658,-0.0028045776,0.0709572,-0.022952406,0.003391743,-0.025697116,0.0025213568,-0.029731287,-0.025476065,0.025826061,0.013907758,0.008542679,0.0047203484,-0.008026894,-0.0082939975,-0.01395381,-0.043215364,-0.0030647723,-0.026470792,0.0014679132,0.0048124525,-0.021036634,0.004038776,-0.025052385,-0.007718345,0.012397246,-0.03398651,-0.017020885,0.023910291,-0.034373347,0.0015231757,-0.030597067,-0.018043242,-0.0024108314,-0.0052315276,0.008846624,-0.008865044,0.032420732,0.00014247393,-0.060678348,0.02707868,0.025826061,0.008183472,0.011743305,-0.013843285,0.015316954,-0.035294387,0.044836402,-0.0148103805,0.0017050819,-0.0003284096,0.00031401828,0.007695319,-0.032457575,0.0141932815,-0.012526193,-0.0015335375,-0.046383753,0.029049713,-0.0043657464,0.022049783,0.022676092,-0.016984044,0.014911695,0.02114716,-0.03568123,-0.039457507,-0.0062953327,-0.007230192,-0.022068204,-0.056994174,-0.021902416,0.0036703586,-0.01627484,0.011043312,0.02538396,-0.0038960143,0.019102443,-0.05692049,0.05522577,-0.12754612,0.0063736215,-0.007999264,0.012765664,-0.0030394436,0.012682769,0.0058670472,-0.014138019,-0.008183472,-0.03616017,-0.055962607,-0.010205163,0.00751111,-0.019176127,0.009178199,0.023928711,0.006534804,0.004605218,-0.0009406157,-0.034373347,0.00013218414,0.0082939975,0.050878447,0.015547215,-9.36874e-05,-0.02724447,-0.026673421,-0.024352392,-0.010380161,0.0013113357,-0.04634691,-0.04866794,0.0041400907,0.042883787,-0.023357665,0.016578784,0.03978908,-0.015998527,-0.016237998,0.04546271,0.05835732,0.0032950332,-0.03700753,-0.0036519377,0.015289323,0.013695918,-0.011816989,-0.043694306,-0.040268023,-0.047304798,-0.027520781,0.06480462,0.009040043,0.004549955,0.034575976,-0.02580764,-0.06277833,0.0041953535,-0.0022784316,-0.0038085151,-0.07780976,0.026341846,-0.014018283,-0.018245872,-0.046420597,0.015289323,-0.024702389,0.026157636,0.0047664004,0.018549817,-0.0017304106,-0.07825186,-0.002620369,0.018218242,-0.012074881,-0.015888002,0.038831197,-0.01987612,0.01036174,-0.004646665,-0.022970825,-0.028110249,-0.08097815,0.039052248,0.09247278,0.051873174,0.021184001,0.0020999792,-0.006276912,-0.05408368,-0.032273367,-0.015188009,0.009993322,0.0034516107,0.026783947,0.01309724,0.0024614888,0.0040364736,0.02284188,-0.023836607,-0.03173916,-0.016597206,0.049110044,0.0027285914,0.00073510787,-0.016237998,-0.019747173,0.025476065,-0.016026158,-0.018973498,-0.047489006,-0.009459117,-0.02429713,0.013041977,-0.037670683,0.0351286,0.019931383,0.019010339,0.01817219,0.029141817,0.0011869948,0.008142025,0.03551544,-0.023762925,-0.0050795553,-0.015261692,0.039273296,0.04056276,0.015335375,0.036454905,-0.0006879044,-0.06296254,-0.009753851,-0.006180202,0.028681297,0.0283313,-0.04398904,0.024757652,-0.0068617747,0.02260241,-0.056404706,0.0068663796,0.03429966,-0.058909945,-0.026599739,-0.0068249325,-0.003985816,-0.030523384,-0.009542012,-0.017601142,0.02558659,-0.011153838,0.0092887245,0.04992056,-0.045241658,0.0048907413,-0.011107786,-0.02514449,-0.037910152,0.064841464,-0.0015934054,-0.058173113,-0.015491952,-0.04756269,-0.0014379793,0.011457782,0.0077736075,0.028018145,-0.014580119,0.030339174,-0.01987612,0.08827282,0.006792696,0.04502061,0.027097102,-0.035607543,-0.0010448088,-0.037946995,0.06841511,-0.0069124317,0.02558659,-0.025476065,0.030099703,0.02449976,-0.013253816,-0.056146815,0.0141472295,0.010463055,0.013474868,-0.015068272,-0.05272053,-0.0011593635,0.03975224,0.022289254,0.013244607,-0.018697184,0.0034999654,-0.004821663,0.0240945,0.09107279,0.03194179,-0.033654932,0.006534804,-0.03446545,-0.0067742756,0.026562896,-0.021607682,-0.017702457,-0.024389233,0.015814317,-0.04465219,-0.031904947,-0.008754519,0.04656796,0.004126275,-0.013511709,0.0033595064,0.0003770522,0.020815585,-0.0032720072,0.062483594,0.039089087,-0.021883994,-0.050178453,-0.033931244,-0.010223583,-0.043215364,0.034133874,0.015178798,0.0042966683,-0.023799766,0.007294665,0.0015577149,0.030118125,0.00792558,0.002027447,-0.027576044,0.02094453,-0.067420386,0.04358378,0.0169472,0.023118194,0.043215364,0.0073913746]', 't', '2025-11-18 10:27:01.624283+00', '2025-11-24 09:05:08.35196+00', NULL, 'published', 'f', 'approved', NULL, NULL, NULL);
INSERT INTO "public"."experience_records" VALUES ('1cb829f4-41a9-46bc-ba51-782056e77624', '886bb63d-44d6-491b-bfcf-b5d5c14124e2', '生产环境中Clipboard API安全上下文限制导致的复制功能失效', '在API密钥管理页面，本地开发环境使�?`navigator.clipboard.writeText()` 复制API密钥功能正常工作，但打包部署到生产环境后，点击复制按钮报错：`TypeError: Cannot read properties of undefined (reading ''writeText'')`。这导致用户无法在生产环境中复制完整的API密钥，影响了用户体验和系统功能完整性�?, '`navigator.clipboard.writeText()` API 具有以下限制�?
1. 只能在安全上下文中使用（HTTPS �?localhost�?
2. 需要用户交互触�?
3. 在某些生产部署环境中可能存在权限限制
4. 部分旧版浏览器不支持该API

本地开发环境（localhost）满足安全上下文要求，所以能正常工作，但生产环境可能不完全满足这些条件，导致 `navigator.clipboard` 对象不可用�?, '实现了一个兼容性更好的复制函数，包含两种复制方法的降级策略�?

1. **主要方法**：优先使用现�?Clipboard API
   ```javascript
   if (navigator.clipboard && window.isSecureContext) {
     await navigator.clipboard.writeText(text);
     return true;
   }
   ```

2. **后备方案**：使用传统的 `document.execCommand(''copy'')`
   ```javascript
   const textArea = document.createElement(''textarea'');
   textArea.value = text;
   textArea.style.position = ''fixed'';
   textArea.style.left = ''-999999px'';
   textArea.style.top = ''-999999px'';
   document.body.appendChild(textArea);
   textArea.focus();
   textArea.select();
   const successful = document.execCommand(''copy'');
   document.body.removeChild(textArea);
   return successful;
   ```

修改了两个复制函数：
- `handleCopyFullApiKey`: 主列表中的复制功�?
- `handleCopyApiKey`: 新建API密钥弹窗中的复制功能', '- **项目类型**: Next.js 15.5.2 管理后台系统
- **技术栈**: React, TypeScript, Next.js, Tailwind CSS
- **问题文件**: `web/src/app/admin/api-keys/page.tsx`
- **影响范围**: API密钥管理页面的复制功�?
- **部署环境**: 生产环境（非localhost�?
- **用户权限**: 管理员用�?
- **业务场景**: 用户需要复制完整的API密钥用于程序化访问系�?, 0, 5, 0, '''-999999'':72,75 ''1'':22,43 ''15.5.2'':96 ''2'':27,57 ''3'':29 ''4'':31 ''api'':20,47 ''api安全上下文限制导致的复制功能失效'':2 ''api密钥管理页面的复制功�?':107 ''await'':52 ''cannot'':10 ''clipboard'':46 ''const'':63,81 ''copi'':61,84 ''css'':103 ''document.body.appendchild'':77 ''document.body.removechild'':85 ''document.createelement'':65 ''document.execcommand'':60,83 ''fix'':70 ''handlecopyapikey'':92 ''handlecopyfullapikey'':90 ''https'':24 ''javascript'':48,62 ''localhost'':26,34 ''navigator.clipboard'':39,50 ''navigator.clipboard.writetext'':5,19,53 ''next.js'':95,101 ''properti'':12 ''px'':73,76 ''react'':99 ''read'':11,15 ''return'':55,87 ''success'':82,88 ''tailwind'':102 ''text'':54,68 ''textarea'':64,66,78,86 ''textarea.focus'':79 ''textarea.select'':80 ''textarea.style.left'':71 ''textarea.style.position'':69 ''textarea.style.top'':74 ''textarea.value'':67 ''true'':56 ''typeerror'':9 ''typescript'':100 ''undefin'':14 ''web/src/app/admin/api-keys/page.tsx'':105 ''window.issecurecontext'':51 ''writetext'':16 ''业务场景'':113 ''主列表中的复制功�?':91 ''主要方法'':44 ''优先使用现代'':45 ''但打包部署到生产环境�?':7 ''但生产环境可能不完全满足这些条件'':37 ''使用传统�?':59 ''修改了两个复制函�?':89 ''具有以下限制'':21 ''包含两种复制方法的降级策�?':42 ''只能在安全上下文中使�?':23 ''后备方案'':58 ''在api密钥管理页面'':3 ''在某些生产部署环境中可能存在权限限制'':30 ''复制api密钥功能正常工作'':6 ''实现了一个兼容性更好的复制函数'':41 ''对象不可�?':40 ''导致'':38 ''影响了用户体验和系统功能完整�?':18 ''影响范围'':106 ''�?':25 ''所以能正常工作'':36 ''技术栈'':98 ''新建api密钥弹窗中的复制功能'':93 ''本地开发环�?':33 ''本地开发环境使�?':4 ''满足安全上下文要�?':35 ''点击复制按钮报错'':8 ''生产环境'':109 ''生产环境中clipboard'':1 ''用户权限'':111 ''用户需要复制完整的api密钥用于程序化访问系�?':114 ''管理后台系统'':97 ''管理员用�?':112 ''这导致用户无法在生产环境中复制完整的api密钥'':17 ''部分旧版浏览器不支持该api'':32 ''部署环境'':108 ''问题文件'':104 ''需要用户交互触�?':28 ''非localhost'':110 ''项目类型'':94', '[-0.04376596,0.026345832,-0.041178253,0.01164467,-0.018320197,-0.012985401,-0.029721098,0.0047910037,-0.007369332,0.0047910037,-0.004631616,-0.011991573,0.003682322,0.012197839,0.004589425,-0.008335033,0.010613339,0.011391525,-0.013838593,-0.024714453,-0.033115115,0.021920482,0.025595773,0.03819677,-0.001842333,0.02100166,-0.007195881,-0.04646617,0.008691312,0.003689354,0.010378945,-0.025839541,0.02760218,-0.012254093,-0.013782339,-0.01608877,0.016407546,-0.0067692846,-0.02049537,0.038553044,-0.03212129,-0.030658672,0.0070974356,-0.056816988,-0.010107049,-0.0134823155,0.047178727,-0.019464038,0.0066474,-0.008203773,-0.034408968,0.00651614,0.040803224,-0.05126655,0.04012817,0.021676712,0.0073318295,0.0086256815,-0.048791356,0.04264087,-0.01468241,-0.037409205,-0.034502726,0.024883216,-0.012976025,0.038890574,-0.029289814,-0.009141347,-0.026308328,-0.036809158,0.023926891,0.038009252,-0.025126986,-0.05835461,-0.051454067,0.023270588,0.010322691,-0.0110164955,5.5851582e-05,0.026289577,-0.006722406,-0.004624584,0.064580105,0.031464987,0.0008227213,-0.021451695,-0.07005554,0.0017638112,0.02088915,0.042753376,0.013416685,-0.013772964,0.047891285,-0.041103248,-0.027658435,0.031146212,-0.00019015174,-0.013622952,0.04354094,-0.015301209,-0.003762016,0.02177047,-0.005137906,-0.024395678,0.068967946,0.016857581,0.015723117,0.005250415,0.021864228,-0.041703295,0.0075755985,-0.028521003,-0.008438166,-0.00036301697,-0.0061926767,-0.010444575,0.009797649,-0.005133218,0.05014146,0.008142831,0.016238783,0.07583099,0.0030518037,-0.033883926,-0.0052035362,-0.014785543,0.012713505,0.036809158,-0.019895323,0.02302682,0.029964868,0.005686387,-0.0071068117,0.018442081,-0.026983382,0.018067053,0.0037315448,0.013557321,0.0029041357,-0.05805459,0.023476854,0.035121527,-0.031296223,0.004165173,0.028821027,-0.06608022,0.06701779,0.020514121,0.005461369,-0.031052453,0.0067692846,-0.009572632,0.02582079,-0.04140327,0.045903627,-0.08130643,-0.016463801,-0.015338711,0.05494184,-0.005780144,0.008049074,-0.012300972,-0.063455015,0.036640394,0.053366717,-0.018713979,0.020945406,0.005423866,-0.038928077,-0.031971276,0.0074349623,0.0202516,0.0060332892,-0.033621408,0.03150249,0.027077138,0.06274246,0.02822098,-0.00016978881,-0.014541774,-0.06765535,0.050629,0.020964157,-0.055466883,-0.016416922,-0.0052035362,0.017298242,-0.037296697,-0.016538806,0.031746257,-0.024264418,-0.050704006,0.04099074,0.027527176,-0.004083135,0.008142831,-0.0057660807,0.025989553,0.031089956,-0.014260502,-0.036284115,0.019857818,0.023214335,0.026214572,-0.035871584,-0.011935318,-0.014673035,-0.06420507,0.04114075,-0.054454304,0.015226203,0.028295986,0.0077537377,0.04710372,-0.06255494,0.029064797,-0.0062817466,0.030602418,-0.024601944,-0.007983443,0.007964692,-0.0017520916,-0.04185331,-0.014063612,0.012160336,0.01468241,-0.010219557,0.016370043,-0.0006557159,-0.019182766,-0.0013805778,-0.010575836,0.012938522,-0.023139328,0.068817936,-0.029683596,-0.03050866,-0.027902205,0.050966527,-0.011654045,0.036096603,-0.008367849,-0.028614761,-0.014298005,-0.01937028,-0.053291712,-0.012704128,-0.0045308266,-0.029664844,-0.00033049486,-0.03620911,-0.014579277,-0.011532161,0.0059723468,-0.003035396,0.017363872,-0.004706622,-0.015676238,-0.027077138,-0.023364346,0.0032416624,-0.016482553,0.035496555,0.0026017681,0.011550913,0.0011069234,-0.017063849,-0.03240256,-0.015723117,-0.006436446,-0.044703532,0.024695702,0.016632564,-0.002171656,-0.02227676,-0.015713742,-0.012375978,-0.0043667513,0.10170804,0.03439022,-0.018376451,0.044853546,0.03317137,0.038890574,0.048903864,0.019032754,0.0064317584,-0.049578916,0.007988131,0.012300972,-0.0052551026,0.023608115,0.061167333,0.006258307,-0.0328901,0.020870399,-0.017391998,-0.15421218,-0.0309962,0.025352003,-0.009666389,0.0039167157,0.04091573,-0.06784286,-0.011663422,-0.055129357,0.0002459667,-0.010819605,-0.054904338,-0.0025173863,-0.02758343,0.04072822,0.0040221927,-0.045191072,0.010200806,0.009835152,-0.023926891,-0.027770944,0.0059395316,0.051304054,-0.0006293466,0.020401612,-0.03515903,0.06686778,-0.006773973,-0.04669119,-0.030433655,-0.018010799,-0.0021646242,-0.00889289,0.03581533,-0.009788273,0.0035862208,0.00026735512,0.020870399,-0.013754211,-0.02657085,0.01265725,0.003724513,-0.004219083,-0.0051238425,0.026720861,-0.06037977,0.0144573925,-0.0057379534,-0.0405032,-0.06112983,-0.000651028,0.014663659,0.026139565,-0.019079633,-0.025408257,-0.026402086,-0.012075954,0.038778063,-0.057679556,0.049316395,0.012816638,0.0070083663,0.030939944,-0.040803224,-0.02694588,0.03452148,0.04897887,0.006366128,0.042115826,-0.033696413,0.04669119,-0.03679041,-0.004779284,-0.03200878,-0.043503437,-0.012704128,0.046878703,-0.051079035,0.022483027,-0.116034165,-0.0076084137,-0.043878466,8.548039e-05,0.0022021271,-0.037652977,-0.0019243708,0.012450984,0.018404579,0.08003132,0.20461616,0.026720861,-0.011850936,-0.030677423,0.066267736,-0.03418395,0.005241039,0.031146212,0.07560597,-0.04204082,-0.0020673508,0.04579112,-0.00096687325,-0.016145026,0.010257061,-0.0036026284,-0.025164489,0.035534058,0.057942078,-0.026664607,0.02049537,-0.015676238,-0.012385353,0.02201424,-0.047403745,-0.021395441,-0.043203413,-0.022464275,-0.040315684,0.03268383,-0.031014951,0.01972656,0.047553755,-0.040465698,-0.040315684,-0.008874139,0.012563493,0.015554354,-0.018892117,0.026233323,-0.052841675,-0.026233323,-0.0041300138,0.009530441,0.0033213561,-0.006684903,-0.040653214,0.007739674,-0.0050769635,-0.0050019575,-0.01925777,-0.034240205,-0.019576546,0.0142136235,0.014766792,-0.014926179,-0.008592866,-0.0061786133,-0.008555364,0.032608826,-0.017973294,0.00023307506,-0.030264892,0.06791787,-0.034052692,0.03200878,-0.0039518746,-0.026233323,0.022745548,0.022708043,0.018976498,0.0297586,0.025633276,-0.054379296,0.009853903,-0.009075717,0.043203413,0.068667926,-0.023158079,0.015610608,-0.029833607,0.02113292,-0.04162829,0.0006076652,-0.0023474512,-0.015863754,-0.009225729,0.026627105,0.013529194,-0.018751482,-0.05291668,0.012600996,-0.016595062,0.073055774,0.019839067,0.057642054,-0.020532873,-0.020195346,-0.011429028,-0.024470683,-0.006666152,-0.009947661,0.00041516952,-0.048416324,0.040053166,-0.022426773,0.032327555,-0.0055129356,0.02912105,-0.0073599564,-0.014663659,0.023383098,-0.021564204,-0.03403394,-0.026627105,0.058129594,0.064580105,0.030414904,0.04897887,0.03986565,-0.033827674,0.016529432,-0.0050441483,-0.0053863632,0.009361677,-0.046728693,0.007777177,-0.003912028,-0.050816514,0.053854257,0.024583193,-0.043728456,0.0057192016,0.029833607,0.013876096,-0.048641343,0.021751719,0.030096129,-0.038215518,0.023945643,-0.024883216,-0.042715874,0.0048988247,-0.0127978865,0.014944931,-0.005212912,0.0303774,-0.027152145,0.031727508,-0.02317683,-0.006187989,0.047853783,-0.058317106,-0.05254165,-0.03138998,-0.04909138,-0.0024494124,0.023495607,0.04597863,-0.02443318,0.008053761,0.0044980114,0.010491454,0.020832896,0.013538569,0.03557156,0.005287918,0.029196057,-0.022089245,0.0070646205,-0.013369806,-0.045116063,-0.039565627,0.07005554,0.02454569,-0.0077912407,-0.08258153,-0.011569664,-0.036152855,-0.032065034,0.009938285,-0.006403631,0.00880382,-0.051566575,0.021751719,0.0133604305,0.0034619924,-0.018948372,-0.00019352115,-0.020232849,-0.024283169,0.08873201,-0.02443318,0.002061491,0.047291238,-0.008274091,0.05239164,0.052691665,0.003443241,-0.006080168,0.035252787,0.028914785,-0.00033811264,-0.021957984,-0.009713268,-0.037427958,-0.022389269,0.011597792,-0.017054472,0.012760383,0.015366839,0.027808446,-0.0481163,-0.0034549604,0.021170422,-0.0034526165,0.10568335,0.028671015,0.0303774,0.004514419,-0.0045823934,-0.018985875,0.027170897,-0.04027818,-0.026627105,0.034915257,-0.0006592318,-0.00049281237,0.0036448191,-0.027039636,0.0026087998,0.0048331944,0.015329336,-0.03150249,0.03900308,0.014710537,0.029458577,0.023064323,-0.0039284355,0.0045730174,0.053591736,-0.024676949,-0.007674044,-0.0073740203,-0.03647163,0.0265896,-0.0070458692,-0.00020787775,0.037990503,0.013519818,-0.00405032,-0.016688818,0.02846475,0.01113838,0.042865887,-0.017438877,0.028089719,0.0023638587,-0.060792305,-0.020870399,-0.03137123,0.03579658,-0.022351766,0.0012528334,-0.036359124,-0.019060882,0.0531792,-0.068967946,-0.0002560749,-0.04837882,-0.010416448,0.024114406,0.014138617,-0.010538332,0.010960241,-0.009427307,-0.008274091,-0.021582955,0.07013054,-1.1838704e-05,-0.050216466,-0.01785141,0.0027400602,0.051079035,-0.026102062,0.0028502252,0.04594113,0.024695702,-0.008335033,-0.037184186,-0.012647875,-0.032383807,-0.02810847,0.023008067,-0.021039162,0.014851173,-0.016763825,0.020739138,-0.024226915,0.035627816,0.008274091,-0.027452169,-0.06848041,0.032102536,-0.055091854,0.06439259,0.024320671,-0.015704365,0.0068630422,-0.0033916743,0.0046855262,-0.03755922,0.026364584,0.030902442,0.04204082,-0.015854377,0.04822881,-0.005573878,0.0020345356,-0.027864702,0.020514121,0.028971039,-0.0519041,0.016154401,-0.02735841,0.009577319,-0.0067458455,0.041703295,-0.037277944,-0.010641466,-0.058129594,0.01972656,0.026045809,-0.009146035,0.004739437,0.018957747,0.02733966,-0.04136577,0.017129479,0.010444575,-0.018451458,-0.0023017444,0.038253024,-0.013088534,0.005241039,-0.006586458,-0.004340968,-0.024864465,-0.0075052804,-0.024226915,-0.0049832063,0.009291359,-0.019557795,-0.034596484,0.036246613,-0.01164467,-0.03000237,0.03452148,0.060979817,0.03695917,0.012029075,0.020532873,0.00904759,0.012882268,0.03339639,-0.019782813,-0.006727094,-0.026252074,0.029702347,-0.010707096,-0.012713505,-0.030489909,0.009816401,0.005930156,-0.012000948,0.005536375,-0.055729404,-0.013341679,0.03911559,-0.0038604613,-0.031146212,-0.009000711,0.00085260643,-0.0022232225,-0.04151578,-0.008306907,-0.048903864,-0.0134823155,-0.014748041,0.03534654,0.0018938996,0.038178016,-0.017270114,0.044966053,-0.13321052,0.03521528,-0.0013266674,0.036265366,-0.03542155,0.013632327,0.019070257,-0.060679793,0.017091975,-0.030714927,-0.07230571,-0.051679082,0.053216703,-0.0052551026,0.01259162,0.04024068,0.015732493,0.015638735,-0.010032043,-0.026420837,-0.013810466,0.0153855905,0.053516727,-0.01613565,-0.0057379534,0.033715162,0.005836399,-0.0137260845,-0.04354094,0.0061223586,-0.00095632556,-0.030152382,0.015845003,-0.006145798,-0.028164726,0.028933536,0.023589363,0.022183003,0.010660217,0.02443318,-0.03024614,-0.00541449,0.014588652,-0.01595751,0.047403745,0.05809209,-0.035852835,-0.04732874,-0.015366839,0.00018897977,-0.0053722993,0.021864228,-0.019426536,-0.020289103,0.010378945,0.0096757645,-0.067392826,-0.014072987,0.013707333,0.0154981,-0.039828148,0.019820316,-0.060567286,0.03896558,-0.02797721,0.011494658,-0.05456681,0.036040347,0.008306907,0.01340731,0.0012997121,-0.02887728,-0.0020485993,-0.022614287,0.028839778,0.025126986,0.053104196,-0.025783287,-0.009966413,0.026439589,-0.010660217,-0.024489434,-0.053104196,0.034746494,0.06915546,0.046953708,-0.004912888,-0.014626156,0.040615708,-0.044140987,-0.027545927,-0.015216827,-0.01695134,-0.0032697895,0.024489434,0.022295512,-0.032065034,-0.015601233,-0.002129465,-0.019520292,-0.042078324,-0.026008304,0.018948372,-0.029702347,-0.02212675,0.0038815567,0.018920245,0.009258544,0.044628527,-0.0309962,-0.048716348,-0.026308328,-0.069530495,-0.0026087998,-0.07935627,-0.020570375,-0.010275812,-0.0049972697,-0.02405815,0.03851554,0.0186671,-0.04489105,-0.007974068,-0.006469261,0.0186671,-0.03011488,0.050291475,-0.0028150661,-0.014054235,-0.008349097,0.024095654,-0.030714927,-0.01785141,0.019154638,-0.014569901,-0.0013817498,-0.024095654,0.0582421,0.0130416555,0.02317683,-0.017373247,0.005681699,0.0074255867,-0.02443318,-0.01923902,-0.04950391,0.0354403,-0.014494895,-0.026552098,-0.015263706,-0.014232375,0.023964394,0.005419178,0.02454569,-0.008227212,-0.0009147207,-0.008170958,0.027433418,-0.01891087,0.038553044,-0.00572389,-0.027677186,-0.017710775,-0.0012270501,-0.0014801951,-0.023908138,0.0048706974,-0.0013172915,-0.027395915,0.06424258,-0.0061364225,0.036227863,-0.03705293,0.020045334,0.05595442,-0.078531206,0.015638735,-0.010997744,0.025745785,-0.02645834,0.045603603,0.019154638,0.021114169,0.012469735,0.0067458455,-0.010491454,-0.007631853,0.016173152,0.009136659,-0.01151341,0.008761629,-0.036002845,0.013922975,0.0012622091,0.016820079,-0.016341915,-0.02923356,0.0037081055,0.011625919,0.04091573,0.017026346,0.002138841,-0.058504622,0.014588652,-0.008377224,0.023758126,-0.0016712258,0.008592866,0.004516763,0.062629946,-0.029664844,0.018104555,-0.013416685,0.003471368,0.031314973,-0.008180334,0.017166981,0.023833133,-0.018432707,-0.021939233,0.01747638,0.014269877,0.029139802,-0.024114406,-0.059254684,0.0008397148,-0.017345121,0.006773973,0.04886636,-0.04241585,-0.032440063,0.04950391,-0.032327555,0.035852835,0.01607002,-0.024076901,-0.009760146,0.017382624,-0.00774905,-0.011147756,0.0335839,0.027377162,-0.0028431935,0.0154981]', 't', '2025-11-24 03:29:40.785233+00', '2025-11-24 12:32:14.299664+00', NULL, 'published', 'f', 'pending', NULL, NULL, NULL);

-- ----------------------------
-- Table structure for permissions
-- ----------------------------
DROP TABLE IF EXISTS "public"."permissions";
-- 权限表：定义系统中可用的各种权限
CREATE TABLE "public"."permissions" (
  "id" "pg_catalog"."uuid" NOT NULL DEFAULT public.uuid_generate_v4(),
  "name" varchar(100) COLLATE "pg_catalog"."default" NOT NULL,
  "resource" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "action" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "description" text COLLATE "pg_catalog"."default",
  "created_at" timestamptz(6) NOT NULL DEFAULT now(),
  "updated_at" timestamptz(6) NOT NULL DEFAULT now()
)
;

-- ----------------------------
-- Records of permissions
-- ----------------------------
INSERT INTO "public"."permissions" VALUES ('40eb775c-f023-4229-b619-3f6c898207e1', 'users.view', 'users', 'view', 'View user list and details', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('7495d082-a357-48ce-9daf-48dc96fcc600', 'users.create', 'users', 'create', 'Create new users', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('85afbbd2-f691-4a13-a3a6-61343fbae153', 'users.edit', 'users', 'edit', 'Edit existing users', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('2497626e-6b62-4a54-8c9d-065506f23d64', 'users.delete', 'users', 'delete', 'Delete users', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('530db1ca-86e5-4ceb-b5d0-f0601e4c9194', 'users.activate', 'users', 'activate', 'Activate/deactivate users', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('85a3259b-0e8f-4aef-b858-6d0639a59e5c', 'roles.view', 'roles', 'view', 'View role list and details', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('debf2ba4-bdee-4369-96cb-c40b73899a84', 'roles.create', 'roles', 'create', 'Create new roles', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('a053a948-df66-4cdd-b40f-1b1e37990869', 'roles.edit', 'roles', 'edit', 'Edit existing roles', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('abe67270-0227-4347-8f6b-e6affdf74cdc', 'roles.delete', 'roles', 'delete', 'Delete roles', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('6990a778-fc12-46f3-a064-7fbf89ca024b', 'permissions.view', 'permissions', 'view', 'View permission list', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('fc32c8d5-eecb-44f1-99b9-2808a2ccd26e', 'permissions.assign', 'permissions', 'assign', 'Assign permissions to roles', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('0d3bf721-cc37-4598-b92f-53895e2dd293', 'experiences.view', 'experiences', 'view', 'View experiences', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('5dbb9981-8f3d-44e0-838a-599da9230f9f', 'experiences.create', 'experiences', 'create', 'Create new experiences', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('2575a215-a3b7-4be7-925a-43f65884e325', 'experiences.edit', 'experiences', 'edit', 'Edit own experiences', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('cb4b3266-960b-48c3-9799-a451f94e2732', 'experiences.edit_any', 'experiences', 'edit_any', 'Edit any experiences', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('6d9f87f1-b319-43e9-ab67-7d0e9100ae8a', 'experiences.delete', 'experiences', 'delete', 'Delete own experiences', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('92c674bd-8a5b-4404-8830-8b7bcea4ccb4', 'experiences.delete_any', 'experiences', 'delete_any', 'Delete any experiences', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('4ecfd845-7ba7-455b-b7f9-b126c2122389', 'experiences.publish', 'experiences', 'publish', 'Publish experiences', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('ef9c2db2-8c99-4ae3-938e-91c0fa48a72a', 'admin.dashboard', 'admin', 'dashboard', 'Access admin dashboard', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('36a0674a-63d2-46bb-8632-65e21646556b', 'admin.settings', 'admin', 'settings', 'Manage system settings', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('2840705f-02dc-4264-ace2-8f07ee9a4ba3', 'admin.logs', 'admin', 'logs', 'View system logs', '2025-11-18 10:27:01.501523+00', '2025-11-18 10:27:01.501523+00');
INSERT INTO "public"."permissions" VALUES ('8a1b2c3d-4e5f-6789-0abc-def123456789', 'settings.read', 'settings', 'read', 'Read system settings', '2025-11-19 22:39:00+00', '2025-11-19 22:39:00+00');
INSERT INTO "public"."permissions" VALUES ('9b2c3d4e-5f6a-7890-bcde-f23456789012', 'settings.write', 'settings', 'write', 'Write system settings', '2025-11-19 22:39:00+00', '2025-11-19 22:39:00+00');
INSERT INTO "public"."permissions" VALUES ('c3d4e5f6-7a8b-9012-cdef-345678901234', 'api-keys.view', 'api-keys', 'view', 'View API keys list', '2025-11-19 22:39:00+00', '2025-11-19 22:39:00+00');
INSERT INTO "public"."permissions" VALUES ('d4e5f6a7-8b9c-0123-def0-456789012345', 'api-keys.create', 'api-keys', 'create', 'Create new API keys', '2025-11-19 22:39:00+00', '2025-11-19 22:39:00+00');
INSERT INTO "public"."permissions" VALUES ('e5f6a7b8-9c0d-1234-ef01-567890123456', 'api-keys.delete', 'api-keys', 'delete', 'Delete API keys', '2025-11-19 22:39:00+00', '2025-11-19 22:39:00+00');
INSERT INTO "public"."permissions" VALUES ('f6a7b8c9-0d1e-2345-f012-678901234567', 'api-keys.edit', 'api-keys', 'edit', 'Edit API keys', '2025-11-19 22:39:00+00', '2025-11-19 22:39:00+00');
INSERT INTO "public"."permissions" VALUES ('a7b8c9d0-1e2f-3456-0123-789012345678', 'my-experiences.view', 'my-experiences', 'view', 'View own experiences', '2025-11-19 22:39:00+00', '2025-11-19 22:39:00+00');
INSERT INTO "public"."permissions" VALUES ('b8c9d0e1-2f34-4567-1234-890123456789', 'my-experiences.create', 'my-experiences', 'create', 'Create own experiences', '2025-11-19 22:39:00+00', '2025-11-19 22:39:00+00');
INSERT INTO "public"."permissions" VALUES ('c9d0e1f2-3456-5678-2345-901234567890', 'my-experiences.edit', 'my-experiences', 'edit', 'Edit own experiences', '2025-11-19 22:39:00+00', '2025-11-19 22:39:00+00');
INSERT INTO "public"."permissions" VALUES ('d0e1f234-4567-6789-3456-012345678901', 'my-experiences.delete', 'my-experiences', 'delete', 'Delete own experiences', '2025-11-19 22:39:00+00', '2025-11-19 22:39:00+00');
INSERT INTO "public"."permissions" VALUES ('e1f23456-5678-7890-4567-123456789012', 'admin.logs.view', 'admin', 'logs.view', 'View system logs', '2025-11-19 22:39:00+00', '2025-11-19 22:39:00+00');
INSERT INTO "public"."permissions" VALUES ('f2345678-6789-8901-5678-234567890123', 'admin.logs.export', 'admin', 'logs.export', 'Export system logs', '2025-11-19 22:39:00+00', '2025-11-19 22:39:00+00');
INSERT INTO "public"."permissions" VALUES ('23456789-7890-9012-6789-345678901234', 'admin.logs.delete', 'admin', 'logs.delete', 'Delete system logs', '2025-11-19 22:39:00+00', '2025-11-19 22:39:00+00');
INSERT INTO "public"."permissions" VALUES ('34567890-8901-0123-7890-456789012345', 'embedding.generate', 'embedding', 'generate', 'Generate embeddings', '2025-11-19 22:39:00+00', '2025-11-19 22:39:00+00');
INSERT INTO "public"."permissions" VALUES ('45678901-9012-1234-8901-567890123456', 'embedding.admin', 'embedding', 'admin', 'Manage embedding service', '2025-11-19 22:39:00+00', '2025-11-19 22:39:00+00');

-- ----------------------------
-- Table structure for role_permissions
-- ----------------------------
DROP TABLE IF EXISTS "public"."role_permissions";
-- 角色权限关联表：定义角色与权限的多对多关�?
CREATE TABLE "public"."role_permissions" (
  "id" "pg_catalog"."uuid" NOT NULL DEFAULT public.uuid_generate_v4(),
  "role_id" "pg_catalog"."uuid",
  "permission_id" "pg_catalog"."uuid",
  "created_at" timestamptz(6) NOT NULL DEFAULT now()
)
;

-- ----------------------------
-- Records of role_permissions
-- ----------------------------
INSERT INTO "public"."role_permissions" VALUES ('63c14a47-ebeb-450e-bafc-749bc05722e6', 'c61e5282-f3ec-4af4-8e46-3510b50bf970', '0d3bf721-cc37-4598-b92f-53895e2dd293', '2025-11-20 13:11:27.999716+00');
INSERT INTO "public"."role_permissions" VALUES ('ced7af79-7437-4e4b-b840-9a39c1d8731a', 'c61e5282-f3ec-4af4-8e46-3510b50bf970', '5dbb9981-8f3d-44e0-838a-599da9230f9f', '2025-11-20 13:11:27.999716+00');
INSERT INTO "public"."role_permissions" VALUES ('fef5cf14-3829-4d3a-b707-e5f86a885852', 'c61e5282-f3ec-4af4-8e46-3510b50bf970', '2575a215-a3b7-4be7-925a-43f65884e325', '2025-11-20 13:11:27.999716+00');
INSERT INTO "public"."role_permissions" VALUES ('1f004335-1f73-4923-937c-f40c3aaf0f9a', 'c61e5282-f3ec-4af4-8e46-3510b50bf970', '6d9f87f1-b319-43e9-ab67-7d0e9100ae8a', '2025-11-20 13:11:27.999716+00');
INSERT INTO "public"."role_permissions" VALUES ('3415c205-3691-4c42-9543-1789080210a5', 'c61e5282-f3ec-4af4-8e46-3510b50bf970', 'c3d4e5f6-7a8b-9012-cdef-345678901234', '2025-11-20 13:11:27.999716+00');
INSERT INTO "public"."role_permissions" VALUES ('1135201d-5654-43a7-9429-90b2e2d151f4', 'c61e5282-f3ec-4af4-8e46-3510b50bf970', 'd4e5f6a7-8b9c-0123-def0-456789012345', '2025-11-20 13:11:27.999716+00');
INSERT INTO "public"."role_permissions" VALUES ('51254637-94c6-4ca9-a023-ef6d0587939f', 'c61e5282-f3ec-4af4-8e46-3510b50bf970', 'e5f6a7b8-9c0d-1234-ef01-567890123456', '2025-11-20 13:11:27.999716+00');
INSERT INTO "public"."role_permissions" VALUES ('1c1153f2-ee07-4117-bcd7-166b6a729c8b', 'c61e5282-f3ec-4af4-8e46-3510b50bf970', 'f6a7b8c9-0d1e-2345-f012-678901234567', '2025-11-20 13:11:27.999716+00');
INSERT INTO "public"."role_permissions" VALUES ('ff118143-3307-4a2f-a624-ec510cc7d73c', 'c61e5282-f3ec-4af4-8e46-3510b50bf970', 'a7b8c9d0-1e2f-3456-0123-789012345678', '2025-11-20 13:11:27.999716+00');
INSERT INTO "public"."role_permissions" VALUES ('6030ea96-886a-4e0c-b218-5a11a5aef64d', 'c61e5282-f3ec-4af4-8e46-3510b50bf970', 'b8c9d0e1-2f34-4567-1234-890123456789', '2025-11-20 13:11:27.999716+00');
INSERT INTO "public"."role_permissions" VALUES ('059d329e-35c1-48a9-bd0e-c02ff23d6f1f', 'c61e5282-f3ec-4af4-8e46-3510b50bf970', 'c9d0e1f2-3456-5678-2345-901234567890', '2025-11-20 13:11:27.999716+00');
INSERT INTO "public"."role_permissions" VALUES ('239f0b4a-a838-4df4-944c-5a1bb05436d7', 'c61e5282-f3ec-4af4-8e46-3510b50bf970', 'd0e1f234-4567-6789-3456-012345678901', '2025-11-20 13:11:27.999716+00');
INSERT INTO "public"."role_permissions" VALUES ('577a5d1b-972f-49bb-9915-77d80a80fd34', 'c61e5282-f3ec-4af4-8e46-3510b50bf970', '34567890-8901-0123-7890-456789012345', '2025-11-20 13:11:27.999716+00');
INSERT INTO "public"."role_permissions" VALUES ('b0208e88-7f84-40bf-bf83-3585cb1661f1', 'c61e5282-f3ec-4af4-8e46-3510b50bf970', '4ecfd845-7ba7-455b-b7f9-b126c2122389', '2025-11-20 13:11:27.999716+00');
INSERT INTO "public"."role_permissions" VALUES ('bbaae367-373e-4dd2-93fa-b3ff49794617', '098b2cf6-d771-43fc-b661-c1a564d5239e', '0d3bf721-cc37-4598-b92f-53895e2dd293', '2025-11-20 13:12:05.218153+00');
INSERT INTO "public"."role_permissions" VALUES ('49bbaf5e-d348-429f-8009-879da0130083', '098b2cf6-d771-43fc-b661-c1a564d5239e', '5dbb9981-8f3d-44e0-838a-599da9230f9f', '2025-11-20 13:12:05.218153+00');
INSERT INTO "public"."role_permissions" VALUES ('f873e77b-d96b-4b27-85bc-b88049b3e3ac', '098b2cf6-d771-43fc-b661-c1a564d5239e', '2575a215-a3b7-4be7-925a-43f65884e325', '2025-11-20 13:12:05.218153+00');
INSERT INTO "public"."role_permissions" VALUES ('f276fff2-5dff-4ddc-b71c-f0d4b30e9e05', '098b2cf6-d771-43fc-b661-c1a564d5239e', '6d9f87f1-b319-43e9-ab67-7d0e9100ae8a', '2025-11-20 13:12:05.218153+00');
INSERT INTO "public"."role_permissions" VALUES ('f6cced36-cd8c-4501-a9a9-12a8cd0e7049', '098b2cf6-d771-43fc-b661-c1a564d5239e', '4ecfd845-7ba7-455b-b7f9-b126c2122389', '2025-11-20 13:12:05.218153+00');
INSERT INTO "public"."role_permissions" VALUES ('d1fc7b13-971d-4c6d-bada-bc41590eed8c', '098b2cf6-d771-43fc-b661-c1a564d5239e', 'd4e5f6a7-8b9c-0123-def0-456789012345', '2025-11-20 13:12:05.218153+00');
INSERT INTO "public"."role_permissions" VALUES ('a2d668a0-6841-4b65-8bc6-df42615abde2', '098b2cf6-d771-43fc-b661-c1a564d5239e', 'e5f6a7b8-9c0d-1234-ef01-567890123456', '2025-11-20 13:12:05.218153+00');
INSERT INTO "public"."role_permissions" VALUES ('cea1e490-ef74-406b-8746-fd3decdbe28e', '098b2cf6-d771-43fc-b661-c1a564d5239e', 'f6a7b8c9-0d1e-2345-f012-678901234567', '2025-11-20 13:12:05.218153+00');
INSERT INTO "public"."role_permissions" VALUES ('13e653fa-6295-4557-82b8-f866e8b2529f', '098b2cf6-d771-43fc-b661-c1a564d5239e', 'c3d4e5f6-7a8b-9012-cdef-345678901234', '2025-11-20 13:12:05.218153+00');
INSERT INTO "public"."role_permissions" VALUES ('7b68452d-b9f6-44f9-a95f-df52359d416c', '098b2cf6-d771-43fc-b661-c1a564d5239e', '34567890-8901-0123-7890-456789012345', '2025-11-20 13:12:05.218153+00');
INSERT INTO "public"."role_permissions" VALUES ('8abe00b5-651a-454c-8f03-e5cecfdec230', '098b2cf6-d771-43fc-b661-c1a564d5239e', 'b8c9d0e1-2f34-4567-1234-890123456789', '2025-11-20 13:12:05.218153+00');
INSERT INTO "public"."role_permissions" VALUES ('e19472ef-a338-409d-857c-30e926ff11cb', '098b2cf6-d771-43fc-b661-c1a564d5239e', 'd0e1f234-4567-6789-3456-012345678901', '2025-11-20 13:12:05.218153+00');
INSERT INTO "public"."role_permissions" VALUES ('f7b17185-8c91-4b26-b866-2a4ffc20ab9e', '098b2cf6-d771-43fc-b661-c1a564d5239e', 'c9d0e1f2-3456-5678-2345-901234567890', '2025-11-20 13:12:05.218153+00');
INSERT INTO "public"."role_permissions" VALUES ('8b5f6288-a0bb-406c-814f-c141f65ff6ec', '098b2cf6-d771-43fc-b661-c1a564d5239e', 'a7b8c9d0-1e2f-3456-0123-789012345678', '2025-11-20 13:12:05.218153+00');
INSERT INTO "public"."role_permissions" VALUES ('cfc245ec-79ed-4d77-b555-0e93a1e10bee', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '40eb775c-f023-4229-b619-3f6c898207e1', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('bc6db23a-c489-4077-b8f3-7733a4c48c60', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '7495d082-a357-48ce-9daf-48dc96fcc600', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('5bde11eb-49c4-4620-8e26-70a16002a548', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '85afbbd2-f691-4a13-a3a6-61343fbae153', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('022d86fb-cdd4-47bd-b384-7ab49046b9aa', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '2497626e-6b62-4a54-8c9d-065506f23d64', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('968ae24b-c875-4585-901c-82893d0f40a9', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '530db1ca-86e5-4ceb-b5d0-f0601e4c9194', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('11efbfb9-614a-420c-949a-a33821c0cc3c', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '85a3259b-0e8f-4aef-b858-6d0639a59e5c', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('3b15a8e0-6aa3-445d-ba42-f72c08da6ffe', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', 'debf2ba4-bdee-4369-96cb-c40b73899a84', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('2e535506-88d7-466a-b2dd-78970af49872', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', 'a053a948-df66-4cdd-b40f-1b1e37990869', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('49ef02c0-1a4c-4f7a-af4a-551b8c8d4140', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', 'abe67270-0227-4347-8f6b-e6affdf74cdc', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('191118b0-9540-4716-b048-8827dd7c3333', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '6990a778-fc12-46f3-a064-7fbf89ca024b', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('cabd378e-964e-4e70-9caa-b2d63fb9ecc2', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', 'fc32c8d5-eecb-44f1-99b9-2808a2ccd26e', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('57e036fb-c59e-4e05-8e40-2b7a915bd715', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '0d3bf721-cc37-4598-b92f-53895e2dd293', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('d0b9ddac-bf9e-45c2-aa04-d7bc30e7ee78', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '5dbb9981-8f3d-44e0-838a-599da9230f9f', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('4f116661-4703-4780-b28f-f14d5afa6443', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '2575a215-a3b7-4be7-925a-43f65884e325', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('fa9c095c-2d56-49cf-937a-ddd9eac2a0d8', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', 'cb4b3266-960b-48c3-9799-a451f94e2732', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('d0b86f52-b6a7-461c-aa8f-47e8ad15e089', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '6d9f87f1-b319-43e9-ab67-7d0e9100ae8a', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('f926e5c6-c4d9-4173-a70e-b9628fb5d6b7', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '92c674bd-8a5b-4404-8830-8b7bcea4ccb4', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('ffa0ec3e-8d5c-41a3-b94a-b41840d5e08a', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '4ecfd845-7ba7-455b-b7f9-b126c2122389', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('cf87ef9a-6fe6-4f8c-8c17-1ad44eb26b89', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '918a111c-0a63-4ff6-addd-5b12e7390ca7', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('4ae1dc5b-9086-4fec-86df-a2da7c8327c2', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', 'ef9c2db2-8c99-4ae3-938e-91c0fa48a72a', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('59992ba5-f41f-4a7d-bb14-d431129db68f', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '36a0674a-63d2-46bb-8632-65e21646556b', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('268f7be8-e7fa-475f-9dc9-f8e2233accaf', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '2840705f-02dc-4264-ace2-8f07ee9a4ba3', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('52de7045-664a-4b43-8fa4-df483dd9d719', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '23456789-7890-9012-6789-345678901234', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('cb8d59e6-246a-4aaf-8ae7-7236632ff3e9', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', 'f2345678-6789-8901-5678-234567890123', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('78d1de01-1e0c-4783-893c-be5e2819a078', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', 'e1f23456-5678-7890-4567-123456789012', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('ad422b98-9802-4352-9d09-07318ad36c87', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', 'd4e5f6a7-8b9c-0123-def0-456789012345', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('fd00be8c-9ce0-426e-ad2c-7b36220651b8', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', 'e5f6a7b8-9c0d-1234-ef01-567890123456', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('940a0dd8-746b-495f-9b82-c09e15e8194d', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', 'f6a7b8c9-0d1e-2345-f012-678901234567', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('938f37f4-8349-4ec6-af26-905a0fa0af91', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', 'c3d4e5f6-7a8b-9012-cdef-345678901234', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('cc4a8a8d-0d4a-4ad8-a473-f9f5f13e9fb9', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '45678901-9012-1234-8901-567890123456', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('06da0456-b3fe-467d-ba27-cde80db78c99', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '34567890-8901-0123-7890-456789012345', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('c6c95f1f-3d8f-400c-a6f9-594767a1a4d3', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', 'b8c9d0e1-2f34-4567-1234-890123456789', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('83515669-8ae4-4a9f-8965-361123e46ecb', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', 'd0e1f234-4567-6789-3456-012345678901', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('6db86e69-ee86-43ec-a264-715dbfd14bab', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', 'c9d0e1f2-3456-5678-2345-901234567890', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('c9dfc42e-1099-4d52-9da2-b2c85f81a0f0', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', 'a7b8c9d0-1e2f-3456-0123-789012345678', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('275a13c7-14ac-4645-8518-1950b2112e46', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '8a1b2c3d-4e5f-6789-0abc-def123456789', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('ac14290b-88e5-45e3-b6b3-b2f2ded6ab51', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '9b2c3d4e-5f6a-7890-bcde-f23456789012', '2025-11-20 13:12:23.147727+00');
INSERT INTO "public"."role_permissions" VALUES ('7d59479f-a19b-4a85-83b8-ee252f94f1af', '12115994-6e07-4863-970a-006e59bf4a9f', '0d3bf721-cc37-4598-b92f-53895e2dd293', '2025-11-20 13:13:06.966033+00');
INSERT INTO "public"."role_permissions" VALUES ('54e019a4-60b2-4531-8a01-66088dbfa358', '12115994-6e07-4863-970a-006e59bf4a9f', 'c3d4e5f6-7a8b-9012-cdef-345678901234', '2025-11-20 13:13:06.966033+00');
INSERT INTO "public"."role_permissions" VALUES ('2c47d9a8-c56b-419c-ab7e-4a1206abae9c', '2d17bb70-62a7-409c-b3f3-5a72504c7069', '0d3bf721-cc37-4598-b92f-53895e2dd293', '2025-11-24 06:47:20.490562+00');
INSERT INTO "public"."role_permissions" VALUES ('4bd73818-0a45-4b38-a15b-4d376526961d', '2d17bb70-62a7-409c-b3f3-5a72504c7069', '5dbb9981-8f3d-44e0-838a-599da9230f9f', '2025-11-24 06:47:20.490562+00');
INSERT INTO "public"."role_permissions" VALUES ('fa82de30-a4bd-4a8d-b149-220c084ea551', '2d17bb70-62a7-409c-b3f3-5a72504c7069', '2575a215-a3b7-4be7-925a-43f65884e325', '2025-11-24 06:47:20.490562+00');
INSERT INTO "public"."role_permissions" VALUES ('f7fc416e-3b08-4f28-87e8-1b7a7fa413da', '2d17bb70-62a7-409c-b3f3-5a72504c7069', '6d9f87f1-b319-43e9-ab67-7d0e9100ae8a', '2025-11-24 06:47:20.490562+00');
INSERT INTO "public"."role_permissions" VALUES ('2541a9f0-2cd4-481a-a0b9-ba22307228e7', '2d17bb70-62a7-409c-b3f3-5a72504c7069', '4ecfd845-7ba7-455b-b7f9-b126c2122389', '2025-11-24 06:47:20.490562+00');
INSERT INTO "public"."role_permissions" VALUES ('64fb16c4-d670-40cb-a2cd-feb6aaa37b0d', '2d17bb70-62a7-409c-b3f3-5a72504c7069', 'c3d4e5f6-7a8b-9012-cdef-345678901234', '2025-11-24 06:47:20.490562+00');
INSERT INTO "public"."role_permissions" VALUES ('6ae38e17-bf05-4e75-9e01-0c6bfbf54ba5', '2d17bb70-62a7-409c-b3f3-5a72504c7069', 'd4e5f6a7-8b9c-0123-def0-456789012345', '2025-11-24 06:47:20.490562+00');
INSERT INTO "public"."role_permissions" VALUES ('d6ad3d47-be4f-4737-bc1b-596516fe7986', '2d17bb70-62a7-409c-b3f3-5a72504c7069', 'e5f6a7b8-9c0d-1234-ef01-567890123456', '2025-11-24 06:47:20.490562+00');
INSERT INTO "public"."role_permissions" VALUES ('370e4b7a-1023-460d-b688-c32bfd4d1b91', '2d17bb70-62a7-409c-b3f3-5a72504c7069', 'f6a7b8c9-0d1e-2345-f012-678901234567', '2025-11-24 06:47:20.490562+00');
INSERT INTO "public"."role_permissions" VALUES ('652015dc-1776-4018-b73d-a35ffc998346', '2d17bb70-62a7-409c-b3f3-5a72504c7069', 'a7b8c9d0-1e2f-3456-0123-789012345678', '2025-11-24 06:47:20.490562+00');
INSERT INTO "public"."role_permissions" VALUES ('ae0c892d-a75d-4484-aaf2-10b974efebc5', '2d17bb70-62a7-409c-b3f3-5a72504c7069', 'b8c9d0e1-2f34-4567-1234-890123456789', '2025-11-24 06:47:20.490562+00');
INSERT INTO "public"."role_permissions" VALUES ('3c86e341-d13c-4a17-aa87-6d6a9cc8cba5', '2d17bb70-62a7-409c-b3f3-5a72504c7069', 'c9d0e1f2-3456-5678-2345-901234567890', '2025-11-24 06:47:20.490562+00');
INSERT INTO "public"."role_permissions" VALUES ('7bf5aac6-6896-4985-961f-187279b5b77a', '2d17bb70-62a7-409c-b3f3-5a72504c7069', 'd0e1f234-4567-6789-3456-012345678901', '2025-11-24 06:47:20.490562+00');
INSERT INTO "public"."role_permissions" VALUES ('1ffad800-3e70-4694-9284-f7eb00074f5b', '2d17bb70-62a7-409c-b3f3-5a72504c7069', '34567890-8901-0123-7890-456789012345', '2025-11-24 06:47:20.490562+00');
INSERT INTO "public"."role_permissions" VALUES ('73e44f14-0701-4e0d-aab0-fcc686b9d2ae', '9d8e7c6a-5f4b-3e2d-1c9b-8a7f6e5d4c3b', '0d3bf721-cc37-4598-b92f-53895e2dd293', '2025-11-24 06:47:40.342331+00');
INSERT INTO "public"."role_permissions" VALUES ('7336893f-3e2a-424d-9b19-1210f75e52db', '9d8e7c6a-5f4b-3e2d-1c9b-8a7f6e5d4c3b', '5dbb9981-8f3d-44e0-838a-599da9230f9f', '2025-11-24 06:47:40.342331+00');
INSERT INTO "public"."role_permissions" VALUES ('40582c37-2a65-47ce-ad32-c6828b4b1a84', '9d8e7c6a-5f4b-3e2d-1c9b-8a7f6e5d4c3b', '2575a215-a3b7-4be7-925a-43f65884e325', '2025-11-24 06:47:40.342331+00');
INSERT INTO "public"."role_permissions" VALUES ('cabbc092-58bc-4ddb-afab-5e303a195573', '9d8e7c6a-5f4b-3e2d-1c9b-8a7f6e5d4c3b', '6d9f87f1-b319-43e9-ab67-7d0e9100ae8a', '2025-11-24 06:47:40.342331+00');
INSERT INTO "public"."role_permissions" VALUES ('e42a4f7e-21c9-4263-8a42-3c506429da22', '9d8e7c6a-5f4b-3e2d-1c9b-8a7f6e5d4c3b', '4ecfd845-7ba7-455b-b7f9-b126c2122389', '2025-11-24 06:47:40.342331+00');
INSERT INTO "public"."role_permissions" VALUES ('27202af6-8b80-43fe-84b7-e459ed2fbff0', '9d8e7c6a-5f4b-3e2d-1c9b-8a7f6e5d4c3b', 'c3d4e5f6-7a8b-9012-cdef-345678901234', '2025-11-24 06:47:40.342331+00');
INSERT INTO "public"."role_permissions" VALUES ('00058366-3c6e-4406-825e-6ecc2ed99881', '9d8e7c6a-5f4b-3e2d-1c9b-8a7f6e5d4c3b', 'd4e5f6a7-8b9c-0123-def0-456789012345', '2025-11-24 06:47:40.342331+00');
INSERT INTO "public"."role_permissions" VALUES ('a0f0222e-47ca-4a7e-aed8-c38baab7658f', '9d8e7c6a-5f4b-3e2d-1c9b-8a7f6e5d4c3b', 'e5f6a7b8-9c0d-1234-ef01-567890123456', '2025-11-24 06:47:40.342331+00');
INSERT INTO "public"."role_permissions" VALUES ('3a604be0-82d2-4636-ac79-12c9638f4217', '9d8e7c6a-5f4b-3e2d-1c9b-8a7f6e5d4c3b', 'f6a7b8c9-0d1e-2345-f012-678901234567', '2025-11-24 06:47:40.342331+00');
INSERT INTO "public"."role_permissions" VALUES ('1e0ff7fc-aaf7-4623-a304-5f05593feb8c', '9d8e7c6a-5f4b-3e2d-1c9b-8a7f6e5d4c3b', 'a7b8c9d0-1e2f-3456-0123-789012345678', '2025-11-24 06:47:40.342331+00');
INSERT INTO "public"."role_permissions" VALUES ('e6530ffc-5dce-4c2a-8981-2ad9dd61fa84', '9d8e7c6a-5f4b-3e2d-1c9b-8a7f6e5d4c3b', 'b8c9d0e1-2f34-4567-1234-890123456789', '2025-11-24 06:47:40.342331+00');
INSERT INTO "public"."role_permissions" VALUES ('e2733d46-e8fd-4052-8f1a-ff751f964c75', '9d8e7c6a-5f4b-3e2d-1c9b-8a7f6e5d4c3b', 'c9d0e1f2-3456-5678-2345-901234567890', '2025-11-24 06:47:40.342331+00');
INSERT INTO "public"."role_permissions" VALUES ('880ad61b-8188-4768-9472-f15b11960120', '9d8e7c6a-5f4b-3e2d-1c9b-8a7f6e5d4c3b', 'd0e1f234-4567-6789-3456-012345678901', '2025-11-24 06:47:40.342331+00');
INSERT INTO "public"."role_permissions" VALUES ('00cd097f-0c16-4380-b3ac-237e679b2cc2', '9d8e7c6a-5f4b-3e2d-1c9b-8a7f6e5d4c3b', '34567890-8901-0123-7890-456789012345', '2025-11-24 06:47:40.342331+00');

-- ----------------------------
-- Table structure for roles
-- ----------------------------
DROP TABLE IF EXISTS "public"."roles";
-- 角色表：定义系统中的用户角色
CREATE TABLE "public"."roles" (
  "id" "pg_catalog"."uuid" NOT NULL DEFAULT public.uuid_generate_v4(),
  "name" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "description" text COLLATE "pg_catalog"."default",
  "is_system_role" bool DEFAULT false,
  "created_at" timestamptz(6) NOT NULL DEFAULT now(),
  "updated_at" timestamptz(6) NOT NULL DEFAULT now()
)
;

-- ----------------------------
-- Records of roles
-- ----------------------------
INSERT INTO "public"."roles" VALUES ('c61e5282-f3ec-4af4-8e46-3510b50bf970', 'user', 'Regular user with basic permissions', 't', '2025-11-18 10:27:01.488504+00', '2025-11-20 13:11:27.96695+00');
INSERT INTO "public"."roles" VALUES ('098b2cf6-d771-43fc-b661-c1a564d5239e', 'editor', 'Content editor with limited permissions', 't', '2025-11-18 10:27:01.488504+00', '2025-11-20 13:12:05.184863+00');
INSERT INTO "public"."roles" VALUES ('8b2e9be4-b123-4b22-a013-0d56ef7ff352', 'superuser', 'Superuser with all permissions', 't', '2025-11-18 10:27:01.488504+00', '2025-11-20 13:12:23.112742+00');
INSERT INTO "public"."roles" VALUES ('12115994-6e07-4863-970a-006e59bf4a9f', 'guest', 'Guest user with minimal permissions', 't', '2025-11-18 10:27:01.488504+00', '2025-11-20 13:13:06.937548+00');
INSERT INTO "public"."roles" VALUES ('2d17bb70-62a7-409c-b3f3-5a72504c7069', 'admin', 'Administrator with most permissions', 't', '2025-11-18 10:27:01.488504+00', '2025-11-24 06:47:20.487731+00');
INSERT INTO "public"."roles" VALUES ('9d8e7c6a-5f4b-3e2d-1c9b-8a7f6e5d4c3b', 'demo', 'External demo user with read-only core access and full personal permissions', 'f', '2025-11-19 22:42:00+00', '2025-11-24 06:47:40.339416+00');

-- ----------------------------
-- Table structure for system_settings
-- ----------------------------
DROP TABLE IF EXISTS "public"."system_settings";
-- 系统设置表：存储系统的配置参数和设置
CREATE TABLE "public"."system_settings" (
  "id" "pg_catalog"."uuid" NOT NULL DEFAULT public.uuid_generate_v4(),
  "setting_key" varchar(100) COLLATE "pg_catalog"."default" NOT NULL,
  "setting_value" "pg_catalog"."jsonb" NOT NULL,
  "description" text COLLATE "pg_catalog"."default",
  "created_at" timestamptz(6) NOT NULL DEFAULT now(),
  "updated_at" timestamptz(6) NOT NULL DEFAULT now()
)
;

-- ----------------------------
-- Table structure for user_roles
-- ----------------------------
DROP TABLE IF EXISTS "public"."user_roles";
-- 用户角色关联表：定义用户与角色的多对多关�?
CREATE TABLE "public"."user_roles" (
  "id" "pg_catalog"."uuid" NOT NULL DEFAULT public.uuid_generate_v4(),
  "user_id" "pg_catalog"."uuid",
  "role_id" "pg_catalog"."uuid",
  "created_at" timestamptz(6) NOT NULL DEFAULT now()
)
;

-- ----------------------------
-- Records of user_roles
-- ----------------------------
INSERT INTO "public"."user_roles" VALUES ('4ef16bb2-82ea-4df8-a02a-274ca643344a', '886bb63d-44d6-491b-bfcf-b5d5c14124e2', '8b2e9be4-b123-4b22-a013-0d56ef7ff352', '2025-11-18 10:27:01.598515+00');
INSERT INTO "public"."user_roles" VALUES ('225f161d-abb9-4182-8c9d-f8a94180ce1e', '56a568d5-7dcd-4793-af1b-6f10a9d688fa', '9d8e7c6a-5f4b-3e2d-1c9b-8a7f6e5d4c3b', '2025-11-20 13:08:42.083118+00');

-- ----------------------------
-- Table structure for user_sessions
-- ----------------------------
DROP TABLE IF EXISTS "public"."user_sessions";
-- 用户会话表：管理用户的登录会话信�?
CREATE TABLE "public"."user_sessions" (
  "id" "pg_catalog"."uuid" NOT NULL DEFAULT public.uuid_generate_v4(),
  "user_id" "pg_catalog"."uuid",
  "session_token" varchar(255) COLLATE "pg_catalog"."default" NOT NULL,
  "expires_at" timestamptz(6) NOT NULL,
  "created_at" timestamptz(6) NOT NULL DEFAULT now()
)
;
-- ----------------------------
-- Table structure for users
-- ----------------------------
DROP TABLE IF EXISTS "public"."users";
-- 用户表：存储系统用户的基本信息和认证数据
CREATE TABLE "public"."users" (
  "id" "pg_catalog"."uuid" NOT NULL DEFAULT public.uuid_generate_v4(),
  "username" varchar(100) COLLATE "pg_catalog"."default" NOT NULL,
  "email" varchar(255) COLLATE "pg_catalog"."default" NOT NULL,
  "password_hash" varchar(255) COLLATE "pg_catalog"."default" NOT NULL,
  "is_active" bool DEFAULT true,
  "is_superuser" bool DEFAULT false,
  "last_login_at" timestamptz(6),
  "created_at" timestamptz(6) NOT NULL DEFAULT now(),
  "updated_at" timestamptz(6) NOT NULL DEFAULT now(),
  "last_password_change" timestamptz(6)
)
;
COMMENT ON COLUMN "public"."users"."last_password_change" IS '记录用户密码最后一次修改的时间';

-- ----------------------------
-- Records of users
-- ----------------------------
INSERT INTO "public"."users" VALUES ('56a568d5-7dcd-4793-af1b-6f10a9d688fa', 'comate', 'comate@comate.com', '$2b$10$LE.H/lG/JnyBqU.N6UvkruSh.uShxG/.4JpUSK.IkAEpy0MtyZ/wK', 't', 'f', '2025-11-24 03:34:59.798+00', '2025-11-19 14:48:38.713539+00', '2025-11-20 14:25:27.868971+00', '2025-11-20 14:25:27.868971+00');
INSERT INTO "public"."users" VALUES ('886bb63d-44d6-491b-bfcf-b5d5c14124e2', 'admin', 'admin@example.com', '$2a$10$SHxaHwGyix3SOLWoocthTOotxFe7LUUgY8zRXSqRFPVL7JJCCs6Hy', 't', 't', '2025-11-24 06:46:21.634+00', '2025-11-18 10:27:01.583504+00', '2025-11-18 10:27:01.583504+00', NULL);
-- ----------------------------
-- 表注�?
COMMENT ON COLUMN "public"."api_key_validation_logs"."user_agent" IS '验证请求的用户代理信�?;

-- ----------------------------
-- Indexes structure for table api_keys
-- ----------------------------
CREATE INDEX "idx_api_keys_api_key" ON "public"."api_keys" USING btree (
  "api_key" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "idx_api_keys_is_active" ON "public"."api_keys" USING btree (
  "is_active" "pg_catalog"."bool_ops" ASC NULLS LAST
);
CREATE INDEX "idx_api_keys_user_id" ON "public"."api_keys" USING btree (
  "user_id" "pg_catalog"."uuid_ops" ASC NULLS LAST
);

-- ----------------------------
-- Uniques structure for table api_keys
-- ----------------------------
ALTER TABLE "public"."api_keys" ADD CONSTRAINT "api_keys_key_hash_key" UNIQUE ("api_key");

-- ----------------------------
-- Primary Key structure for table api_keys
-- ----------------------------
ALTER TABLE "public"."api_keys" ADD CONSTRAINT "api_keys_pkey" PRIMARY KEY ("id");

-- 表注�?
COMMENT ON TABLE "public"."api_keys" IS 'API密钥表：存储用户的API访问密钥信息';
-- 字段注释
COMMENT ON COLUMN "public"."api_keys"."id" IS '主键ID，使用UUID格式';
COMMENT ON COLUMN "public"."api_keys"."user_id" IS '拥有此API密钥的用户ID，关联users�?;
COMMENT ON COLUMN "public"."api_keys"."name" IS 'API密钥的名称，便于识别和管�?;
COMMENT ON COLUMN "public"."api_keys"."api_key" IS 'API密钥的完整�?;
COMMENT ON COLUMN "public"."api_keys"."is_active" IS 'API密钥是否处于活跃状�?;
COMMENT ON COLUMN "public"."api_keys"."last_used_at" IS 'API密钥最后使用时�?;
COMMENT ON COLUMN "public"."api_keys"."created_at" IS 'API密钥创建时间';
COMMENT ON COLUMN "public"."api_keys"."updated_at" IS 'API密钥最后更新时�?;

-- ----------------------------
-- Indexes structure for table experience_keywords
-- ----------------------------
CREATE INDEX "idx_experience_keywords_experience_id" ON "public"."experience_keywords" USING btree (
  "experience_id" "pg_catalog"."uuid_ops" ASC NULLS LAST
);
CREATE INDEX "idx_experience_keywords_keyword" ON "public"."experience_keywords" USING btree (
  "keyword" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Uniques structure for table experience_keywords
-- ----------------------------
ALTER TABLE "public"."experience_keywords" ADD CONSTRAINT "unique_experience_keyword" UNIQUE ("experience_id", "keyword");

-- ----------------------------
-- Primary Key structure for table experience_keywords
-- ----------------------------
ALTER TABLE "public"."experience_keywords" ADD CONSTRAINT "experience_keywords_pkey" PRIMARY KEY ("id");

-- 表注�?
COMMENT ON TABLE "public"."experience_keywords" IS '经验关键字关联表：存储经验记录与关键字的关联关系';
-- 字段注释
COMMENT ON COLUMN "public"."experience_keywords"."id" IS '主键ID，使用UUID格式';
COMMENT ON COLUMN "public"."experience_keywords"."experience_id" IS '经验记录ID，关联experience_records�?;
COMMENT ON COLUMN "public"."experience_keywords"."keyword" IS '关键字内�?;
COMMENT ON COLUMN "public"."experience_keywords"."created_at" IS '关联记录创建时间';

-- ----------------------------
-- Indexes structure for table experience_records
-- ----------------------------
CREATE INDEX "idx_experience_records_created_at" ON "public"."experience_records" USING btree (
  "created_at" "pg_catalog"."timestamptz_ops" DESC NULLS FIRST
);
CREATE INDEX "idx_experience_records_embedding" ON "public"."experience_records" (
  "embedding" "public"."vector_cosine_ops" ASC NULLS LAST
) WHERE publish_status::text = 'published'::text AND is_deleted = false AND embedding IS NOT NULL;
CREATE INDEX "idx_experience_records_fts" ON "public"."experience_records" USING gin (
  "fts" "pg_catalog"."tsvector_ops"
);
CREATE INDEX "idx_experience_records_has_embedding" ON "public"."experience_records" USING btree (
  "has_embedding" "pg_catalog"."bool_ops" ASC NULLS LAST
) WHERE has_embedding = true;
CREATE INDEX "idx_experience_records_is_deleted" ON "public"."experience_records" USING btree (
  "is_deleted" "pg_catalog"."bool_ops" ASC NULLS LAST
);
CREATE INDEX "idx_experience_records_publish_status" ON "public"."experience_records" USING btree (
  "publish_status" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "idx_experience_records_published" ON "public"."experience_records" USING btree (
  "publish_status" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "is_deleted" "pg_catalog"."bool_ops" ASC NULLS LAST
) WHERE publish_status::text = 'published'::text AND is_deleted = false;
CREATE INDEX "idx_experience_records_query_count" ON "public"."experience_records" USING btree (
  "query_count" "pg_catalog"."int4_ops" DESC NULLS FIRST
);
CREATE INDEX "idx_experience_records_relevance_score" ON "public"."experience_records" USING btree (
  "relevance_score" "pg_catalog"."float8_ops" DESC NULLS FIRST
);
CREATE INDEX "idx_experience_records_search" ON "public"."experience_records" USING gin (
  to_tsvector('english'::regconfig, (((((((COALESCE(title, ''::character varying)::text || ' '::text) || COALESCE(problem_description, ''::text)) || ' '::text) || COALESCE(root_cause, ''::text)) || ' '::text) || COALESCE(solution, ''::text)) || ' '::text) || COALESCE(context, ''::text)) "pg_catalog"."tsvector_ops"
);
CREATE INDEX "idx_experience_records_user_id" ON "public"."experience_records" USING btree (
  "user_id" "pg_catalog"."uuid_ops" ASC NULLS LAST
);

-- ----------------------------
-- Checks structure for table experience_records
-- ----------------------------
ALTER TABLE "public"."experience_records" ADD CONSTRAINT "check_publish_status" CHECK (publish_status::text = ANY (ARRAY['published'::character varying::text, 'draft'::character varying::text, 'publishing'::character varying::text, 'rejected'::character varying::text]));

-- ----------------------------
-- Primary Key structure for table experience_records
-- ----------------------------
ALTER TABLE "public"."experience_records" ADD CONSTRAINT "experience_records_pkey" PRIMARY KEY ("id");

-- 表注�?
COMMENT ON TABLE "public"."experience_records" IS '经验记录表：存储用户分享的技术经验和解决方案';
-- 字段注释
COMMENT ON COLUMN "public"."experience_records"."id" IS '主键ID，使用UUID格式';
COMMENT ON COLUMN "public"."experience_records"."user_id" IS '提交经验的用户ID，关联users�?;
COMMENT ON COLUMN "public"."experience_records"."title" IS '经验标题';
COMMENT ON COLUMN "public"."experience_records"."problem_description" IS '问题描述，详细说明遇到的问题';
COMMENT ON COLUMN "public"."experience_records"."root_cause" IS '问题根本原因分析';
COMMENT ON COLUMN "public"."experience_records"."solution" IS '解决方案，详细描述解决问题的方法';
COMMENT ON COLUMN "public"."experience_records"."context" IS '上下文信息，提供相关背景和环�?;
COMMENT ON COLUMN "public"."experience_records"."query_count" IS '查询次数统计';
COMMENT ON COLUMN "public"."experience_records"."view_count" IS '查看次数统计';
COMMENT ON COLUMN "public"."experience_records"."relevance_score" IS '相关性评分，范围0-1';
COMMENT ON COLUMN "public"."experience_records"."fts" IS '全文搜索向量，用于快速检�?;
COMMENT ON COLUMN "public"."experience_records"."embedding" IS '文本嵌入向量，用于语义搜索，1024维度';
COMMENT ON COLUMN "public"."experience_records"."has_embedding" IS '是否有文本嵌入向量的标记';
COMMENT ON COLUMN "public"."experience_records"."created_at" IS '经验记录创建时间';
COMMENT ON COLUMN "public"."experience_records"."updated_at" IS '经验记录最后更新时�?;
COMMENT ON COLUMN "public"."experience_records"."deleted_at" IS '软删除时间戳';
COMMENT ON COLUMN "public"."experience_records"."publish_status" IS '发布状态：draft、publishing、published、rejected';
COMMENT ON COLUMN "public"."experience_records"."is_deleted" IS '删除标记，true表示已删�?;
COMMENT ON COLUMN "public"."experience_records"."reviewed_by" IS '审核人ID，关联users�?;
COMMENT ON COLUMN "public"."experience_records"."review_note" IS '审核备注和意�?;

-- ----------------------------
-- Uniques structure for table permissions
-- ----------------------------
ALTER TABLE "public"."permissions" ADD CONSTRAINT "permissions_name_key" UNIQUE ("name");
ALTER TABLE "public"."permissions" ADD CONSTRAINT "unique_permission" UNIQUE ("resource", "action");

-- ----------------------------
-- Primary Key structure for table permissions
-- ----------------------------
ALTER TABLE "public"."permissions" ADD CONSTRAINT "permissions_pkey" PRIMARY KEY ("id");

-- 表注�?
COMMENT ON TABLE "public"."permissions" IS '权限表：定义系统中可用的各种权限';
-- 字段注释
COMMENT ON COLUMN "public"."permissions"."id" IS '主键ID，使用UUID格式';
COMMENT ON COLUMN "public"."permissions"."name" IS '权限名称';
COMMENT ON COLUMN "public"."permissions"."description" IS '权限描述说明';
COMMENT ON COLUMN "public"."permissions"."resource" IS '权限控制的资源类�?;
COMMENT ON COLUMN "public"."permissions"."action" IS '权限允许的操作类�?;
COMMENT ON COLUMN "public"."permissions"."created_at" IS '权限创建时间';
COMMENT ON COLUMN "public"."permissions"."updated_at" IS '权限最后更新时�?;

-- ----------------------------
-- Indexes structure for table role_permissions
-- ----------------------------
CREATE INDEX "idx_role_permissions_permission_id" ON "public"."role_permissions" USING btree (
  "permission_id" "pg_catalog"."uuid_ops" ASC NULLS LAST
);
CREATE INDEX "idx_role_permissions_role_id" ON "public"."role_permissions" USING btree (
  "role_id" "pg_catalog"."uuid_ops" ASC NULLS LAST
);

-- ----------------------------
-- Uniques structure for table role_permissions
-- ----------------------------
ALTER TABLE "public"."role_permissions" ADD CONSTRAINT "unique_role_permission" UNIQUE ("role_id", "permission_id");

-- ----------------------------
-- Primary Key structure for table role_permissions
-- ----------------------------
ALTER TABLE "public"."role_permissions" ADD CONSTRAINT "role_permissions_pkey" PRIMARY KEY ("id");

-- 表注�?
COMMENT ON TABLE "public"."role_permissions" IS '角色权限关联表：定义角色与权限的多对多关�?;
-- 字段注释
COMMENT ON COLUMN "public"."role_permissions"."id" IS '主键ID，使用UUID格式';
COMMENT ON COLUMN "public"."role_permissions"."role_id" IS '角色ID，关联roles�?;
COMMENT ON COLUMN "public"."role_permissions"."permission_id" IS '权限ID，关联permissions�?;
COMMENT ON COLUMN "public"."role_permissions"."created_at" IS '关联关系创建时间';

-- ----------------------------
-- Uniques structure for table roles
-- ----------------------------
ALTER TABLE "public"."roles" ADD CONSTRAINT "roles_name_key" UNIQUE ("name");

-- ----------------------------
-- Primary Key structure for table roles
-- ----------------------------
ALTER TABLE "public"."roles" ADD CONSTRAINT "roles_pkey" PRIMARY KEY ("id");

-- 表注�?
COMMENT ON TABLE "public"."roles" IS '角色表：定义系统中的用户角色';
-- 字段注释
COMMENT ON COLUMN "public"."roles"."id" IS '主键ID，使用UUID格式';
COMMENT ON COLUMN "public"."roles"."name" IS '角色名称';
COMMENT ON COLUMN "public"."roles"."description" IS '角色描述说明';
COMMENT ON COLUMN "public"."roles"."is_system_role" IS '是否为系统内置角�?;
COMMENT ON COLUMN "public"."roles"."created_at" IS '角色创建时间';
COMMENT ON COLUMN "public"."roles"."updated_at" IS '角色最后更新时�?;

-- ----------------------------
-- Indexes structure for table submission_logs
-- ----------------------------
CREATE INDEX "idx_submission_logs_created_at" ON "public"."submission_logs" USING btree (
  "created_at" "pg_catalog"."timestamptz_ops" DESC NULLS FIRST
);
CREATE INDEX "idx_submission_logs_experience_id" ON "public"."submission_logs" USING btree (
  "experience_id" "pg_catalog"."uuid_ops" ASC NULLS LAST
);
CREATE INDEX "idx_submission_logs_status" ON "public"."submission_logs" USING btree (
  "submission_status" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table submission_logs
-- ----------------------------
ALTER TABLE "public"."submission_logs" ADD CONSTRAINT "submission_logs_pkey" PRIMARY KEY ("id");

-- 表注�?
COMMENT ON TABLE "public"."submission_logs" IS '提交日志表：记录经验提交的处理状态和错误信息';
-- 字段注释
COMMENT ON COLUMN "public"."submission_logs"."id" IS '主键ID，使用UUID格式';
COMMENT ON COLUMN "public"."submission_logs"."experience_id" IS '经验记录ID，关联experience_records�?;
COMMENT ON COLUMN "public"."submission_logs"."submission_status" IS '提交状态，如submitted、processing、completed、failed';
COMMENT ON COLUMN "public"."submission_logs"."error_message" IS '错误信息';
COMMENT ON COLUMN "public"."submission_logs"."validation_errors" IS '验证错误详情，JSON格式存储';
COMMENT ON COLUMN "public"."submission_logs"."created_at" IS '提交日志创建时间';

-- ----------------------------
-- Indexes structure for table system_settings
-- ----------------------------
CREATE INDEX "idx_system_settings_key" ON "public"."system_settings" USING btree (
  "setting_key" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Uniques structure for table system_settings
-- ----------------------------
ALTER TABLE "public"."system_settings" ADD CONSTRAINT "system_settings_setting_key_key" UNIQUE ("setting_key");

-- ----------------------------
-- Primary Key structure for table system_settings
-- ----------------------------
ALTER TABLE "public"."system_settings" ADD CONSTRAINT "system_settings_pkey" PRIMARY KEY ("id");

-- 表注�?
COMMENT ON TABLE "public"."system_settings" IS '系统设置表：存储系统的配置参数和设置';
-- 字段注释
COMMENT ON COLUMN "public"."system_settings"."id" IS '主键ID，使用UUID格式';
COMMENT ON COLUMN "public"."system_settings"."setting_key" IS '设置键名，唯一标识配置�?;
COMMENT ON COLUMN "public"."system_settings"."setting_value" IS '设置值，JSON格式存储配置数据';
COMMENT ON COLUMN "public"."system_settings"."description" IS '设置项描述说�?;
COMMENT ON COLUMN "public"."system_settings"."created_at" IS '设置创建时间';
COMMENT ON COLUMN "public"."system_settings"."updated_at" IS '设置最后更新时�?;

-- ----------------------------
-- Indexes structure for table user_roles
-- ----------------------------
CREATE INDEX "idx_user_roles_role_id" ON "public"."user_roles" USING btree (
  "role_id" "pg_catalog"."uuid_ops" ASC NULLS LAST
);
CREATE INDEX "idx_user_roles_user_id" ON "public"."user_roles" USING btree (
  "user_id" "pg_catalog"."uuid_ops" ASC NULLS LAST
);

-- ----------------------------
-- Uniques structure for table user_roles
-- ----------------------------
ALTER TABLE "public"."user_roles" ADD CONSTRAINT "unique_user_role" UNIQUE ("user_id", "role_id");

-- ----------------------------
-- Primary Key structure for table user_roles
-- ----------------------------
ALTER TABLE "public"."user_roles" ADD CONSTRAINT "user_roles_pkey" PRIMARY KEY ("id");

-- 表注�?
COMMENT ON TABLE "public"."user_roles" IS '用户角色关联表：定义用户与角色的多对多关�?;
-- 字段注释
COMMENT ON COLUMN "public"."user_roles"."id" IS '主键ID，使用UUID格式';
COMMENT ON COLUMN "public"."user_roles"."user_id" IS '用户ID，关联users�?;
COMMENT ON COLUMN "public"."user_roles"."role_id" IS '角色ID，关联roles�?;
COMMENT ON COLUMN "public"."user_roles"."created_at" IS '关联关系创建时间';

-- ----------------------------
-- Indexes structure for table user_sessions
-- ----------------------------
CREATE INDEX "idx_user_sessions_expires_at" ON "public"."user_sessions" USING btree (
  "expires_at" "pg_catalog"."timestamptz_ops" ASC NULLS LAST
);
CREATE INDEX "idx_user_sessions_token" ON "public"."user_sessions" USING btree (
  "session_token" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "idx_user_sessions_user_id" ON "public"."user_sessions" USING btree (
  "user_id" "pg_catalog"."uuid_ops" ASC NULLS LAST
);

-- ----------------------------
-- Uniques structure for table user_sessions
-- ----------------------------
ALTER TABLE "public"."user_sessions" ADD CONSTRAINT "user_sessions_session_token_key" UNIQUE ("session_token");

-- ----------------------------
-- Primary Key structure for table user_sessions
-- ----------------------------
ALTER TABLE "public"."user_sessions" ADD CONSTRAINT "user_sessions_pkey" PRIMARY KEY ("id");

-- 表注�?
COMMENT ON TABLE "public"."user_sessions" IS '用户会话表：管理用户的登录会话信�?;
-- 字段注释
COMMENT ON COLUMN "public"."user_sessions"."id" IS '主键ID，使用UUID格式';
COMMENT ON COLUMN "public"."user_sessions"."user_id" IS '用户ID，关联users�?;
COMMENT ON COLUMN "public"."user_sessions"."session_token" IS '会话令牌';
COMMENT ON COLUMN "public"."user_sessions"."expires_at" IS '会话过期时间';
COMMENT ON COLUMN "public"."user_sessions"."created_at" IS '会话创建时间';

-- ----------------------------
-- Indexes structure for table users
-- ----------------------------
CREATE INDEX "idx_users_created_at" ON "public"."users" USING btree (
  "created_at" "pg_catalog"."timestamptz_ops" DESC NULLS FIRST
);
CREATE INDEX "idx_users_email" ON "public"."users" USING btree (
  "email" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "idx_users_is_active" ON "public"."users" USING btree (
  "is_active" "pg_catalog"."bool_ops" ASC NULLS LAST
);
CREATE INDEX "idx_users_username" ON "public"."users" USING btree (
  "username" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Uniques structure for table users
-- ----------------------------
ALTER TABLE "public"."users" ADD CONSTRAINT "users_username_key" UNIQUE ("username");
ALTER TABLE "public"."users" ADD CONSTRAINT "users_email_key" UNIQUE ("email");

-- ----------------------------
-- Primary Key structure for table users
-- ----------------------------
ALTER TABLE "public"."users" ADD CONSTRAINT "users_pkey" PRIMARY KEY ("id");

-- 表注�?
COMMENT ON TABLE "public"."users" IS '用户表：存储系统用户的基本信息和认证数据';
-- 字段注释
COMMENT ON COLUMN "public"."users"."id" IS '主键ID，使用UUID格式';
COMMENT ON COLUMN "public"."users"."username" IS '用户名，唯一标识';
COMMENT ON COLUMN "public"."users"."email" IS '用户邮箱地址，唯一标识';
COMMENT ON COLUMN "public"."users"."password_hash" IS '密码哈希值，用于身份验证';
COMMENT ON COLUMN "public"."users"."is_active" IS '账户是否处于活跃状�?;
COMMENT ON COLUMN "public"."users"."is_superuser" IS '是否为超级管理员';
COMMENT ON COLUMN "public"."users"."last_login_at" IS '最后登录时�?;
COMMENT ON COLUMN "public"."users"."created_at" IS '用户账户创建时间';
COMMENT ON COLUMN "public"."users"."updated_at" IS '用户信息最后更新时�?;
COMMENT ON COLUMN "public"."users"."last_password_change" IS '密码最后修改时�?;

-- ----------------------------
-- Foreign Keys structure for table user_roles
-- ----------------------------
ALTER TABLE "public"."user_roles" ADD CONSTRAINT "user_roles_role_id_fkey" FOREIGN KEY ("role_id") REFERENCES "public"."roles" ("id") ON DELETE CASCADE ON UPDATE NO ACTION;
-- ----------------------------
-- Foreign Keys structure for table user_sessions
ALTER TABLE "public"."user_sessions" ADD CONSTRAINT "user_sessions_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "public"."users" ("id") ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE "public"."user_sessions" ADD CONSTRAINT "user_sessions_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "public"."users" ("id") ON DELETE CASCADE ON UPDATE NO ACTION;

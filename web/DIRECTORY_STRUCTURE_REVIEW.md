# Webæ¨¡å—ç›®å½•ç»“æ„å®¡æŸ¥æŠ¥å‘Š

## æ€»ä½“è¯„ä¼°

å½“å‰ç›®å½•ç»“æ„**åŸºæœ¬ç¬¦åˆ**Next.js 15 App Routerçš„å®˜æ–¹è§„èŒƒï¼Œä½†å­˜åœ¨ä¸€äº›å¯ä»¥æ”¹è¿›çš„åœ°æ–¹ã€‚

## âœ… ç¬¦åˆè§„èŒƒçš„éƒ¨åˆ†

### 1. æ ¸å¿ƒç›®å½•ç»“æ„
- âœ… `src/app/` - App Routerç›®å½•ï¼Œç¬¦åˆNext.js 13+è§„èŒƒ
- âœ… `src/components/` - Reactç»„ä»¶ç›®å½•
- âœ… `src/lib/` - å·¥å…·å‡½æ•°å’Œåº“
- âœ… `src/types/` - TypeScriptç±»å‹å®šä¹‰
- âœ… `middleware.ts` - ä¸­é—´ä»¶æ–‡ä»¶ä½ç½®æ­£ç¡®ï¼ˆé¡¹ç›®æ ¹ç›®å½•ï¼‰

### 2. æ–‡ä»¶å‘½åè§„èŒƒ
- âœ… `page.tsx` - é¡µé¢ç»„ä»¶å‘½åæ­£ç¡®
- âœ… `route.ts` - APIè·¯ç”±å‘½åæ­£ç¡®
- âœ… `layout.tsx` - å¸ƒå±€ç»„ä»¶å‘½åæ­£ç¡®
- âœ… ç»„ä»¶ä½¿ç”¨PascalCaseï¼ˆå¦‚ `Header.tsx`ï¼‰
- âœ… æœåŠ¡ä½¿ç”¨camelCaseï¼ˆå¦‚ `auth.ts`ï¼‰

### 3. è·¯ç”±ç»„ç»‡
- âœ… `(search)` - è·¯ç”±ç»„ä½¿ç”¨æ­£ç¡®
- âœ… `[id]` - åŠ¨æ€è·¯ç”±å‚æ•°æ­£ç¡®
- âœ… `api/` - APIè·¯ç”±ç»„ç»‡åˆç†

## âš ï¸ éœ€è¦æ”¹è¿›çš„éƒ¨åˆ†

### 1. æµ‹è¯•æ–‡ä»¶ä½ç½®ï¼ˆä¸­ç­‰ä¼˜å…ˆçº§ï¼‰

**å½“å‰é—®é¢˜ï¼š**
```
src/__tests__/
  â””â”€â”€ utils/
      â””â”€â”€ test-toast.ts
```

**é—®é¢˜è¯´æ˜ï¼š**
- Next.jså®˜æ–¹æ¨èæµ‹è¯•æ–‡ä»¶æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ `__tests__` æˆ– `tests` ç›®å½•
- æˆ–è€…ä½¿ç”¨ `.test.ts` / `.spec.ts` åç¼€ä¸æºæ–‡ä»¶åŒç›®å½•

**å»ºè®®æ”¹è¿›ï¼š**
```
web/
â”œâ”€â”€ __tests__/          # ç§»åˆ°é¡¹ç›®æ ¹ç›®å½•
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ test-toast.test.ts
â””â”€â”€ src/
```

æˆ–è€…ï¼š
```
src/
â””â”€â”€ lib/
    â””â”€â”€ client/
        â””â”€â”€ services/
            â””â”€â”€ toast.test.ts  # ä¸æºæ–‡ä»¶åŒç›®å½•
```

### 2. æµ‹è¯•é¡µé¢è·¯ç”±ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

**å½“å‰é—®é¢˜ï¼š**
```
src/app/test-toast/page.tsx
```

**é—®é¢˜è¯´æ˜ï¼š**
- è¿™æ˜¯å¼€å‘æµ‹è¯•é¡µé¢ï¼Œä¸åº”è¯¥åœ¨ç”Ÿäº§ç¯å¢ƒæš´éœ²
- å¯èƒ½æ³„éœ²å†…éƒ¨å®ç°ç»†èŠ‚

**å»ºè®®æ”¹è¿›ï¼š**

**æ–¹æ¡ˆ1ï¼šç§»é™¤ï¼ˆæ¨èï¼‰**
```bash
# åˆ é™¤æµ‹è¯•é¡µé¢
rm -rf src/app/test-toast
```

**æ–¹æ¡ˆ2ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡æ§åˆ¶**
```typescript
// src/app/test-toast/page.tsx
export default function TestToastPage() {
  if (process.env.NODE_ENV === 'production') {
    return <div>Not Found</div>;
  }
  // ... æµ‹è¯•ä»£ç 
}
```

**æ–¹æ¡ˆ3ï¼šç§»åˆ°å¼€å‘ä¸“ç”¨è·¯ç”±**
```
src/app/(dev)/test-toast/page.tsx  # ä½¿ç”¨è·¯ç”±ç»„éš”ç¦»
```

### 3. ç›®å½•ç»„ç»‡ä¼˜åŒ–ï¼ˆä½ä¼˜å…ˆçº§ï¼‰

**å½“å‰ç»“æ„ï¼š**
```
src/
â”œâ”€â”€ config/          # é…ç½®æ–‡ä»¶
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ client/
â”‚   â”œâ”€â”€ server/
â”‚   â””â”€â”€ utils/
â””â”€â”€ types/
```

**å»ºè®®ä¼˜åŒ–ï¼š**
- `config/` ç›®å½•å¯ä»¥åˆå¹¶åˆ° `lib/` ä¸‹ï¼Œæˆ–ä½¿ç”¨ `lib/config/`
- æˆ–è€…ä¿æŒç°çŠ¶ï¼ˆä¹Ÿæ˜¯å¯æ¥å—çš„ï¼‰

### 4. ç»„ä»¶ç›®å½•ç»„ç»‡ï¼ˆä½ä¼˜å…ˆçº§ï¼‰

**å½“å‰ç»“æ„ï¼š**
```
src/components/
â”œâ”€â”€ admin/
â”œâ”€â”€ auth/
â”œâ”€â”€ experience/
â””â”€â”€ ui/
```

**è¯„ä¼°ï¼š**
- âœ… æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ï¼Œç¬¦åˆæœ€ä½³å®è·µ
- âœ… `ui/` ç›®å½•ç”¨äºé€šç”¨UIç»„ä»¶ï¼Œç¬¦åˆè§„èŒƒ

## ğŸ“‹ æ”¹è¿›å»ºè®®æ¸…å•

### ç«‹å³æ‰§è¡Œï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

1. **ç§»é™¤æˆ–ä¿æŠ¤æµ‹è¯•é¡µé¢**
   - [x] åˆ é™¤ `src/app/test-toast/` ç›®å½• âœ… å·²å®Œæˆ
   - [x] æˆ–æ·»åŠ ç¯å¢ƒå˜é‡ä¿æŠ¤

### å»ºè®®æ‰§è¡Œï¼ˆä¸­ç­‰ä¼˜å…ˆçº§ï¼‰

2. **è°ƒæ•´æµ‹è¯•æ–‡ä»¶ä½ç½®**
   - [x] å°† `src/__tests__/` ç§»åˆ°é¡¹ç›®æ ¹ç›®å½• âœ… å·²å®Œæˆ
   - [x] æˆ–ä½¿ç”¨ `.test.ts` åç¼€ä¸æºæ–‡ä»¶åŒç›®å½•

### å¯é€‰ä¼˜åŒ–ï¼ˆä½ä¼˜å…ˆçº§ï¼‰

3. **ç›®å½•ç»“æ„å¾®è°ƒ**
   - [ ] è€ƒè™‘å°† `config/` åˆå¹¶åˆ° `lib/config/`
   - [ ] æ·»åŠ  `src/hooks/` ç›®å½•ï¼ˆå¦‚æœæœ‰è‡ªå®šä¹‰hooksï¼‰

## ğŸ“š Next.jså®˜æ–¹æ¨èç»“æ„å¯¹æ¯”

### å®˜æ–¹æ¨èç»“æ„ï¼š
```
my-nextjs-app/
â”œâ”€â”€ public/          # é™æ€èµ„æº
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/         # App Router
â”‚   â”œâ”€â”€ components/  # Reactç»„ä»¶
â”‚   â”œâ”€â”€ lib/         # å·¥å…·å‡½æ•°å’Œåº“
â”‚   â”œâ”€â”€ hooks/       # è‡ªå®šä¹‰hooksï¼ˆå¯é€‰ï¼‰
â”‚   â”œâ”€â”€ types/       # TypeScriptç±»å‹
â”‚   â””â”€â”€ styles/      # æ ·å¼æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ __tests__/       # æµ‹è¯•æ–‡ä»¶ï¼ˆé¡¹ç›®æ ¹ç›®å½•ï¼‰
â”œâ”€â”€ middleware.ts    # ä¸­é—´ä»¶
â””â”€â”€ next.config.js   # Next.jsé…ç½®
```

### å½“å‰é¡¹ç›®ç»“æ„ï¼š
```
web/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/         âœ…
â”‚   â”œâ”€â”€ components/  âœ…
â”‚   â”œâ”€â”€ lib/         âœ…
â”‚   â”œâ”€â”€ config/      âš ï¸ å¯ä¼˜åŒ–
â”‚   â”œâ”€â”€ types/       âœ…
â”‚   â””â”€â”€ __tests__/   âš ï¸ åº”ç§»åˆ°æ ¹ç›®å½•
â”œâ”€â”€ middleware.ts    âœ…
â””â”€â”€ next.config.js   âœ…
```

## âœ… æ€»ç»“

å½“å‰ç›®å½•ç»“æ„**æ•´ä½“è‰¯å¥½**ï¼Œä¸»è¦é—®é¢˜ï¼š
1. æµ‹è¯•æ–‡ä»¶ä½ç½®ä¸ç¬¦åˆNext.jsæ ‡å‡†
2. æµ‹è¯•é¡µé¢åº”è¯¥ç§»é™¤æˆ–ä¿æŠ¤

å…¶ä»–æ–¹é¢éƒ½ç¬¦åˆNext.jså®˜æ–¹å’Œä¸»æµå®è·µè§„èŒƒã€‚

